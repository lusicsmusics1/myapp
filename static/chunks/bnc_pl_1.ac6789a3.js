(self.webpackChunktrade_next_ui=self.webpackChunktrade_next_ui||[]).push([[789],{oOsE:(e,t,r)=>{"use strict";r.d(t,{K:()=>u});var n=r("mrSG"),a=r("QK4s"),i=r("6IFu"),o=function(e){var t=e.limit,r=void 0===t?80:t,o=e.symbol,s=e.isFutures,l=void 0!==s&&s,c=e.isDelivery,u=void 0!==c&&c;return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,n.__generator)(this,(function(t){switch(t.label){case 0:return e=l?u?"/dapi":"/fapi":"/api",[4,(0,a.U2)(e+"/v1/aggTrades?"+(0,i.DT)({limit:r,symbol:o}))];case 1:return[2,t.sent()]}}))}))},s=r("V9Nt"),l=r("MEJg"),c={a:"aggTradeId",f:"firstTradeId",l:"lastTradeId",p:"price",T:"tradeTime",q:"quantity",m:"buyerIsMaker"},u=function(e){var t=e.symbol,r=e.limit,a=void 0===r?80:r,i=e.stream,u=e.isFutures,d=void 0!==u&&u,p=e.isDelivery,f=void 0!==p&&p,m=(0,s.N)((function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var e,r;return(0,n.__generator)(this,(function(i){switch(i.label){case 0:return[4,o({symbol:t,limit:a,isFutures:d,isDelivery:f})];case 1:return e=i.sent(),r=Object.keys(c),[2,(e||[]).map((function(e){return r.reduce((function(t,r){var a,i=c[r];return(0,n.__assign)((0,n.__assign)({},t),((a={})[i]=e[r],a))}),{symbol:t})}))]}}))}))}),[t],{value:[]}),g=m.value,h=m.loading,v=m.updateTime,_=(0,l.y)({symbol:t,limit:a,stream:i}),y=_.update,x=_.trades;return{loading:h,updateTime:v,streamTimeStamp:y,trades:(0,n.__spread)(g,x).slice(-a)}}},NEkv:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r("mrSG"),a=r("xIFI"),i=r.n(a),o=r("vJk+");const s=function(e){return i().createElement(o.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),i().createElement("path",{d:"M12.7 11.3c.8.8.8 2.1 0 2.9l-2.6 2.6c-.8.8-2.1.8-3 0-.8-.8-.8-2.1 0-3l.3-.3c-.3-.7-.5-1.5-.5-2.3l-1.2 1.2c-1.6 1.6-1.6 4.2 0 5.8 1.6 1.6 4.2 1.6 5.8 0l2.6-2.6c.3-.3.5-.6.7-.9.9-1.5.7-3.6-.7-4.9l-1.4 1.5z",fill:"currentColor"}),i().createElement("path",{d:"M11.3 12.7c-.8-.8-.8-2.1 0-2.9l2.6-2.6c.8-.8 2.1-.8 3 0 .8.8.8 2.1 0 3l-.3.3c.3.7.5 1.5.5 2.3l1.2-1.2c1.6-1.6 1.6-4.2 0-5.8-1.6-1.6-4.2-1.6-5.8 0L9.9 8.4c-.3.3-.5.6-.7.9-.9 1.5-.7 3.6.7 4.9l1.4-1.5z",fill:"currentColor"}))}},mG4f:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r("mrSG"),a=r("xIFI"),i=r.n(a),o=r("vJk+");const s=function(e){return i().createElement(o.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),i().createElement("path",{d:"M3 10.982c0 3.845 3.137 6.982 6.982 6.982 1.518 0 3.036-.506 4.149-1.416L18.583 21 20 19.583l-4.452-4.452c.81-1.113 1.416-2.631 1.416-4.149 0-1.922-.81-3.643-2.023-4.958C13.726 4.81 11.905 4 9.982 4 6.137 4 3 7.137 3 10.982zM13.423 7.44a4.819 4.819 0 011.416 3.441c0 1.315-.506 2.53-1.416 3.44a4.819 4.819 0 01-3.44 1.417 4.819 4.819 0 01-3.441-1.417c-1.012-.81-1.518-2.023-1.518-3.339 0-1.315.506-2.53 1.416-3.44.911-1.012 2.227-1.518 3.542-1.518 1.316 0 2.53.506 3.44 1.416z",fill:"currentColor"}))}},BbQq:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r("mrSG"),a=r("xIFI"),i=r.n(a),o=r("vJk+");const s=function(e){return i().createElement(o.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),i().createElement("path",{d:"M21.4 10.8c-.3-1.1-.3-1.1-.7-2.1l-6-.1L12.8 3h-2.2l-2 5.6-5.9.1c-.3 1.1-.3 1.1-.7 2.1l4.8 3.6L5 20.1l1.8 1.3 4.9-3.4 4.9 3.4c.9-.7.9-.6 1.8-1.3l-1.8-5.7 4.8-3.6z",fill:"currentColor"}))}},GF7F:function(e,t,r){var n,a;"undefined"!=typeof self&&self,e.exports=(n=r("xIFI"),a=r("6n/F"),function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t){e.exports=n},function(e,t,r){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0});var a,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),l=(a=s)&&a.__esModule?a:{default:a},c=void 0===n?window:n;t.default=function(t,r){var n=function(e){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.chartType=t,e.Highcharts=r,e.displayName="Highcharts"+t,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.Component),o(n,[{key:"setChartRef",value:function(e){this.chartRef=e}},{key:"renderChart",value:function(e){var t=this;if(!e)throw new Error("Config must be specified for the "+this.displayName+" component");var r=e.chart;this.chart&&this.chart.destroy(),this.chart=new this.Highcharts[this.chartType](i({},e,{chart:i({},r,{renderTo:this.chartRef})}),this.props.callback),this.props.neverReflow||c&&c.requestAnimationFrame&&requestAnimationFrame((function(){t.chart&&t.chart.options&&t.chart.reflow()}))}},{key:"shouldComponentUpdate",value:function(e){return!!(e.neverReflow||e.isPureConfig&&this.props.config===e.config)||(this.renderChart(e.config),!1)}},{key:"getChart",value:function(){if(!this.chart)throw new Error("getChart() should not be called before the component is mounted");return this.chart}},{key:"componentDidMount",value:function(){this.renderChart(this.props.config)}},{key:"componentWillUnmount",value:function(){this.chart.destroy()}},{key:"render",value:function(){return l.default.createElement("div",i({ref:this.setChartRef.bind(this)},this.props.domProps))}}]),n}();n.defaultProps={callback:function(){},domProps:{}};var a=n;return a.Highcharts=r,a.withHighcharts=function(r){return e.exports(t,r)},a},e.exports=t.default}).call(t,r(2))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},,function(e,t,r){e.exports=r(5)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),a=i(r(6));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)("Chart",a.default),e.exports=t.default},function(e,t){e.exports=a}]))},EnUn:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r("xIFI"),a=r("Z29Q"),i=function(){};const o=function(e,t,r){if(!a.C5)return[t,i,i];if(!e)throw new Error("useLocalStorage key may not be falsy");var o=r?r.raw?function(e){return e}:r.deserializer:JSON.parse,s=(0,n.useState)((function(){try{var n=r?r.raw?String:r.serializer:JSON.stringify,a=localStorage.getItem(e);return null!==a?o(a):(t&&localStorage.setItem(e,n(t)),t)}catch(s){return t}})),l=s[0],c=s[1],u=(0,n.useCallback)((function(t){try{var n="function"===typeof t?t(l):t;if("undefined"===typeof n)return;var a=void 0;a=r?r.raw?"string"===typeof n?n:JSON.stringify(n):r.serializer?r.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(e,a),c(o(a))}catch(s){}}),[e,c]),d=(0,n.useCallback)((function(){try{localStorage.removeItem(e),c(void 0)}catch(s){}}),[e,c]);return[l,u,d]}},"k+uP":module=>{var e;e=function(){try{var sd={modules:{}},_=sd._={};"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var r,n,a,i,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(i=l.length,r=0;r<i;r+=1)o[r]=str(r,l)||"null";return a=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(i=rep.length,r=0;r<i;r+=1)"string"==typeof rep[r]&&(a=str(n=rep[r],l))&&o.push(quote(n)+(gap?": ":":")+a);else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(a=str(n,l))&&o.push(quote(n)+(gap?": ":":")+a);return a=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var r,n,a=e[t];if(a&&"object"==typeof a)for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(void 0!==(n=walk(a,r))?a[r]=n:delete a[r]);return reviver.call(e,t,a)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){if(e.atob)try{e.atob(" ")}catch(n){e.atob=(t=e.atob,(r=function(e){return t(String(e).replace(/[\t\n\f\r ]+/g,""))}).original=t,r)}else{var t,r,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;e.btoa=function(e){for(var t,r,a,i,o="",s=0,l=(e=String(e)).length%3;s<e.length;){if((r=e.charCodeAt(s++))>255||(a=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");o+=n.charAt((t=r<<16|a<<8|i)>>18&63)+n.charAt(t>>12&63)+n.charAt(t>>6&63)+n.charAt(63&t)}return l?o.slice(0,l-3)+"===".substring(l):o},e.atob=function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!a.test(e))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");e+="==".slice(2-(3&e.length));for(var t,r,i,o="",s=0;s<e.length;)t=n.indexOf(e.charAt(s++))<<18|n.indexOf(e.charAt(s++))<<12|(r=n.indexOf(e.charAt(s++)))<<6|(i=n.indexOf(e.charAt(s++))),o+=64===r?String.fromCharCode(t>>16&255):64===i?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o}}}(window),ArrayProto=Array.prototype,FuncProto=Function.prototype,ObjProto=Object.prototype,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,FuncProto.bind,nativeForEach=ArrayProto.forEach,ArrayProto.indexOf,nativeIsArray=Array.isArray,breaker={},each=_.each=function(e,t,r){if(null==e)return!1;if(nativeForEach&&e.forEach===nativeForEach)e.forEach(t,r);else if(_.isArray(e)&&e.length===+e.length){for(var n=0,a=e.length;n<a;n++)if(n in e&&t.call(r,e[n],n,e)===breaker)return!1}else for(var i in e)if(hasOwnProperty.call(e,i)&&t.call(r,e[i],i,e)===breaker)return!1},_.map=function(e,t){var r=[];return null==e?r:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(each(e,(function(e,n,a){r.push(t(e,n,a))})),r)},_.extend=function(e){return each(slice.call(arguments,1),(function(t){for(var r in t)hasOwnProperty.call(t,r)&&void 0!==t[r]&&(e[r]=t[r])})),e},_.extend2Lev=function(e){return each(slice.call(arguments,1),(function(t){for(var r in t)void 0!==t[r]&&(_.isObject(t[r])&&_.isObject(e[r])?_.extend(e[r],t[r]):e[r]=t[r])})),e},_.coverExtend=function(e){return each(slice.call(arguments,1),(function(t){for(var r in t)void 0!==t[r]&&void 0===e[r]&&(e[r]=t[r])})),e},_.isArray=nativeIsArray||function(e){return"[object Array]"===toString.call(e)},_.isFunction=function(e){if(!e)return!1;try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},_.isArguments=function(e){return!(!e||!hasOwnProperty.call(e,"callee"))},_.toArray=function(e){return e?e.toArray?e.toArray():_.isArray(e)||_.isArguments(e)?slice.call(e):_.values(e):[]},_.values=function(e){var t=[];return null==e||each(e,(function(e){t[t.length]=e})),t},_.indexOf=function(e,t){var r=e.indexOf;if(r)return r.call(e,t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},_.hasAttributes=function(e,t){if("string"==typeof t)return _.hasAttribute(e,t);if(_.isArray(t)){for(var r=!1,n=0;n<t.length;n++)if(_.hasAttribute(e,t[n])){r=!0;break}return r}},_.hasAttribute=function(e,t){return e.hasAttribute?e.hasAttribute(t):!(!e.attributes[t]||!e.attributes[t].specified)},_.filter=function(e,t,r){var n=Object.prototype.hasOwnProperty;if(e.filter)return e.filter(t);for(var a=[],i=0;i<e.length;i++)if(n.call(e,i)){var o=e[i];t.call(r,o,i,e)&&a.push(o)}return a},_.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},_.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},_.isObject=function(e){return null!=e&&"[object Object]"==toString.call(e)},_.isEmptyObject=function(e){if(_.isObject(e)){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}return!1},_.isUndefined=function(e){return void 0===e},_.isString=function(e){return"[object String]"==toString.call(e)},_.isDate=function(e){return"[object Date]"==toString.call(e)},_.isBoolean=function(e){return"[object Boolean]"==toString.call(e)},_.isNumber=function(e){return"[object Number]"==toString.call(e)&&/[\d\.]+/.test(String(e))},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isJSONString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},_.safeJSONParse=function(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return t},_.decodeURIComponent=function(e){var t=e;try{t=decodeURIComponent(e)}catch(r){t=e}return t},_.encodeDates=function(e){return _.each(e,(function(t,r){_.isDate(t)?e[r]=_.formatDate(t):_.isObject(t)&&(e[r]=_.encodeDates(t))})),e},_.mediaQueriesSupported=function(){return void 0!==window.matchMedia||void 0!==window.msMatchMedia},_.getScreenOrientation=function(){var e=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type,t="\u672a\u53d6\u5230\u503c";if(e)t=e.indexOf("landscape")>-1?"landscape":"portrait";else if(_.mediaQueriesSupported()){var r=window.matchMedia||window.msMatchMedia;r("(orientation: landscape)").matches?t="landscape":r("(orientation: portrait)").matches&&(t="portrait")}return t},_.now=Date.now||function(){return(new Date).getTime()},_.throttle=function(e,t,r){var n,a,i,o=null,s=0;r||(r={});var l=function(){s=!1===r.leading?0:_.now(),o=null,i=e.apply(n,a),o||(n=a=null)};return function(){var c=_.now();s||!1!==r.leading||(s=c);var u=t-(c-s);return n=this,a=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,i=e.apply(n,a),o||(n=a=null)):o||!1===r.trailing||(o=setTimeout(l,u)),i}},_.hashCode=function(e){if("string"!=typeof e)return 0;var t=0;if(0==e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t},_.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+t(e.getMilliseconds())},_.searchObjDate=function(e){_.isObject(e)&&_.each(e,(function(t,r){_.isObject(t)?_.searchObjDate(e[r]):_.isDate(t)&&(e[r]=_.formatDate(t))}))},_.searchZZAppStyle=function(e){void 0!==e.properties.$project&&(e.project=e.properties.$project,delete e.properties.$project),void 0!==e.properties.$token&&(e.token=e.properties.$token,delete e.properties.$token)},_.formatJsonString=function(e){try{return JSON.stringify(e,null,"  ")}catch(t){return JSON.stringify(e)}},_.formatString=function(e,t){return _.isNumber(t)&&e.length>t?(sd.log("\u5b57\u7b26\u4e32\u957f\u5ea6\u8d85\u8fc7\u9650\u5236\uff0c\u5df2\u7ecf\u505a\u622a\u53d6--"+e),e.slice(0,t)):e},_.searchObjString=function(e){_.isObject(e)&&_.each(e,(function(t,r){_.isObject(t)?_.searchObjString(e[r]):_.isString(t)&&(e[r]=_.formatString(t,"$element_selector"===r?1024:sd.para.max_string_length))}))},_.parseSuperProperties=function(e){_.isObject(e)&&(_.each(e,(function(t,r){if(_.isFunction(t))try{e[r]=t(),_.isFunction(e[r])&&(sd.log("\u60a8\u7684\u5c5e\u6027- "+r+" \u683c\u5f0f\u4e0d\u6ee1\u8db3\u8981\u6c42\uff0c\u6211\u4eec\u5df2\u7ecf\u5c06\u5176\u5220\u9664"),delete e[r])}catch(t){delete e[r],sd.log("\u60a8\u7684\u5c5e\u6027- "+r+" \u629b\u51fa\u4e86\u5f02\u5e38\uff0c\u6211\u4eec\u5df2\u7ecf\u5c06\u5176\u5220\u9664")}})),_.strip_sa_properties(e))},_.filterReservedProperties=function(e){_.isObject(e)&&_.each(["distinct_id","user_id","id","date","datetime","event","events","first_id","original_id","device_id","properties","second_id","time","users"],(function(t,r){t in e&&(r<3?(delete e[t],sd.log("\u60a8\u7684\u5c5e\u6027- "+t+"\u662f\u4fdd\u7559\u5b57\u6bb5\uff0c\u6211\u4eec\u5df2\u7ecf\u5c06\u5176\u5220\u9664")):sd.log("\u60a8\u7684\u5c5e\u6027- "+t+"\u662f\u4fdd\u7559\u5b57\u6bb5\uff0c\u8bf7\u907f\u514d\u5176\u4f5c\u4e3a\u5c5e\u6027\u540d"))}))},_.searchConfigData=function(e){if("object"==typeof e&&e.$option){var t=e.$option;return delete e.$option,t}return{}},_.unique=function(e){for(var t,r=[],n={},a=0;a<e.length;a++)(t=e[a])in n||(n[t]=!0,r.push(t));return r},_.strip_sa_properties=function(e){return _.isObject(e)?(_.each(e,(function(t,r){if(_.isArray(t)){var n=[];_.each(t,(function(e){_.isString(e)?n.push(e):sd.log("\u60a8\u7684\u6570\u636e-",r,t,"\u7684\u6570\u7ec4\u91cc\u7684\u503c\u5fc5\u987b\u662f\u5b57\u7b26\u4e32,\u5df2\u7ecf\u5c06\u5176\u5220\u9664")})),0!==n.length?e[r]=n:(delete e[r],sd.log("\u5df2\u7ecf\u5220\u9664\u7a7a\u7684\u6570\u7ec4"))}_.isString(t)||_.isNumber(t)||_.isDate(t)||_.isBoolean(t)||_.isArray(t)||_.isFunction(t)||"$option"===r||(sd.log("\u60a8\u7684\u6570\u636e-",r,t,"-\u683c\u5f0f\u4e0d\u6ee1\u8db3\u8981\u6c42\uff0c\u6211\u4eec\u5df2\u7ecf\u5c06\u5176\u5220\u9664"),delete e[r])})),e):e},_.strip_empty_properties=function(e){var t={};return _.each(e,(function(e,r){null!=e&&(t[r]=e)})),t},_.base64Encode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))},_.base64Decode=function(e){var t=_.map(atob(e).split(""),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}));return decodeURIComponent(t.join(""))},_.UUID=(T=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)},function(){var e=String(screen.height*screen.width);return e=e&&/\d{5,}/.test(e)?e.toString(16):String(31242*Math.random()).replace(".","").slice(0,8),T()+"-"+Math.random().toString(16).replace(".","")+"-"+function(e){var t,r,n=navigator.userAgent,a=[],i=0;function o(e,t){var r,n=0;for(r=0;r<t.length;r++)n|=a[r]<<8*r;return e^n}for(t=0;t<n.length;t++)r=n.charCodeAt(t),a.unshift(255&r),a.length>=4&&(i=o(i,a),a=[]);return a.length>0&&(i=o(i,a)),i.toString(16)}()+"-"+e+"-"+T()||(String(Math.random())+String(Math.random())+String(Math.random())).slice(2,15)}),_.getQueryParam=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=_.decodeURIComponent(e);var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===r||r&&"string"!=typeof r[1]&&r[1].length?"":_.decodeURIComponent(r[1])},_.urlParse=function(e){var t=function(e){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==e&&this._parse(e)};return t.prototype.setUrl=function(e){this._parse(e)},t.prototype._initValues=function(){for(var e in this._fields)this._values[e]=""},t.prototype.addQueryString=function(e){if("object"!=typeof e)return!1;var t=this._values.QueryString||"";for(var r in e)t=new RegExp(r+"[^&]+").test(t)?t.replace(new RegExp(r+"[^&]+"),r+"="+e[r]):"&"===t.slice(-1)?t+r+"="+e[r]:""===t?r+"="+e[r]:t+"&"+r+"="+e[r];this._values.QueryString=t},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Port?":"+this._values.Port:"",e+=this._values.Path,(e+=this._values.QueryString?"?"+this._values.QueryString:"")+(this._values.Fragment?"#"+this._values.Fragment:"")},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Port?":"+this._values.Port:"",(e+=this._values.Path)+(this._values.QueryString?"?"+this._values.QueryString:"")},t.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);if(!t)throw"DPURLParser::_parse -> Invalid URL";for(var r in this._fields)void 0!==t[this._fields[r]]&&(this._values[r]=t[this._fields[r]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname},new t(e)},_.addEvent=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation,t._getPath=e._getPath),t}e._getPath=function(){var e=this;return this.path||this.composedPath&&this.composedPath()||function(){try{var t=e.target,r=[t];if(null===t||null===t.parentElement)return[];for(;null!==t.parentElement;)t=t.parentElement,r.unshift(t);return r}catch(e){return[]}}()},e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,r,n){var a=!(!_.isObject(sd.para.heatmap)||!sd.para.heatmap.useCapture);if(_.isObject(sd.para.heatmap)&&void 0===sd.para.heatmap.useCapture&&"click"===r&&(a=!0),t&&t.addEventListener)t.addEventListener(r,(function(t){t._getPath=e._getPath,n.call(this,t)}),a);else{var i="on"+r,o=t[i];t[i]=function(t,r,n){return function(a){if(a=a||e(window.event)){a.target=a.srcElement;var i,o,s=!0;return"function"==typeof n&&(i=n(a)),o=r.call(t,a),!1!==i&&!1!==o||(s=!1),s}}}(t,n,o)}}.apply(null,arguments)},_.addHashEvent=function(e){var t="pushState"in window.history?"popstate":"hashchange";_.addEvent(window,t,e)},_.addSinglePageEvent=function(e){var t=location.href,r=window.history.pushState,n=window.history.replaceState;window.history.pushState=function(){r.apply(window.history,arguments),e(t),t=location.href},window.history.replaceState=function(){n.apply(window.history,arguments),e(t),t=location.href};var a=r?"popstate":"hashchange";_.addEvent(window,a,(function(){e(t),t=location.href}))},_.cookie={get:function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var a=r[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return _.decodeURIComponent(a.substring(t.length,a.length))}return null},set:function(e,t,r,n,a){var i="",o="",s="";if(r=null==r?73e3:r,n=void 0===n?sd.para.cross_subdomain:n){var l=_.getCurrentDomain(location.href);"url\u89e3\u6790\u5931\u8d25"===l&&(l=""),i=l?"; domain="+l:""}if(0!==r){var c=new Date;"s"===String(r).slice(-1)?c.setTime(c.getTime()+1e3*Number(String(r).slice(0,-1))):c.setTime(c.getTime()+24*r*60*60*1e3),o="; expires="+c.toGMTString()}a&&(s="; secure"),document.cookie=e+"="+encodeURIComponent(t)+o+"; path=/"+i+s},remove:function(e,t){t=void 0===t?sd.para.cross_subdomain:t,_.cookie.set(e,"",-1,t)},getCookieName:function(e,t){var r="";if(t=t||location.href,!1===sd.para.cross_subdomain){try{r=_.URL(t).hostname}catch(e){sd.log(e)}r="string"==typeof r&&""!==r?"sajssdk_2015_"+e+"_"+r.replace(/\./g,"_"):"sajssdk_2015_root_"+e}else r="sajssdk_2015_cross_"+e;return r},getNewUser:function(){return null!==this.get("sensorsdata_is_new_user")||null!==this.get(this.getCookieName("new_user"))}},_.getElementContent=function(e,t){var r="",n="";return e.textContent?r=_.trim(e.textContent):e.innerText&&(r=_.trim(e.innerText)),r&&(r=r.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),n=r||"","input"!==t&&"INPUT"!==t||("button"===e.type||"submit"===e.type||sd.para.heatmap&&"function"==typeof sd.para.heatmap.collect_input&&sd.para.heatmap.collect_input(e))&&(n=e.value||""),n},_.getEleInfo=function(e){if(!e.target)return!1;var t=e.target,r=t.tagName.toLowerCase(),n={};return n.$element_type=r,n.$element_name=t.getAttribute("name"),n.$element_id=t.getAttribute("id"),n.$element_class_name="string"==typeof t.className?t.className:null,n.$element_target_url=t.getAttribute("href"),n.$element_content=_.getElementContent(t,r),(n=_.strip_empty_properties(n)).$url=location.href,n.$url_path=location.pathname,n.$title=document.title,n.$viewport_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,n},_.localStorage={get:function(e){return window.localStorage.getItem(e)},parse:function(e){var t;try{t=JSON.parse(_.localStorage.get(e))||null}catch(e){sd.log(e)}return t},set:function(e,t){window.localStorage.setItem(e,t)},remove:function(e){window.localStorage.removeItem(e)},isSupport:function(){var e=!0;try{var t="__sensorsdatasupport__",r="testIsSupportStorage";_.localStorage.set(t,r),_.localStorage.get(t)!==r&&(e=!1),_.localStorage.remove(t)}catch(t){e=!1}return e}},_.sessionStorage={isSupport:function(){var e=!0,t="__sensorsdatasupport__",r="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem(t,r),sessionStorage.removeItem(t,r),e=!0):e=!1}catch(t){e=!1}return e}},_.isSupportCors=function(){return void 0!==window.XMLHttpRequest&&("withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest)},_.xhr=function(e){if(e)return void 0!==window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:null;if(void 0!==window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){sd.log(e)}}},_.ajax=function(e){function t(e){if(!e)return"";try{return JSON.parse(e)}catch(e){return{}}}e.timeout=e.timeout||2e4,e.credentials=void 0===e.credentials||e.credentials;var r=_.xhr(e.cors);if(!r)return!1;e.type||(e.type=e.data?"POST":"GET"),e=_.extend({success:function(){},error:function(){}},e),sd.debug.protocol.ajax(e.url);var n,a=e.success,i=e.error;e.success=function(e){a(e),n&&(clearTimeout(n),n=null)},e.error=function(e){i(e),n&&(clearTimeout(n),n=null)},n=setTimeout((function(){!function(){try{_.isObject(r)&&r.abort&&r.abort()}catch(e){sd.log(e)}n&&(clearTimeout(n),n=null,e.error&&e.error(),r.onreadystatechange=null,r.onload=null,r.onerror=null)}()}),e.timeout),"undefined"!=typeof XDomainRequest&&r instanceof XDomainRequest&&(r.onload=function(){e.success&&e.success(t(r.responseText)),r.onreadystatechange=null,r.onload=null,r.onerror=null},r.onerror=function(){e.error&&e.error(t(r.responseText),r.status),r.onreadystatechange=null,r.onerror=null,r.onload=null}),r.onreadystatechange=function(){try{4==r.readyState&&(r.status>=200&&r.status<300||304==r.status?e.success(t(r.responseText)):e.error(t(r.responseText),r.status),r.onreadystatechange=null,r.onload=null)}catch(e){r.onreadystatechange=null,r.onload=null}},r.open(e.type,e.url,!0);try{e.credentials&&(r.withCredentials=!0),_.isObject(e.header)&&_.each(e.header,(function(e,t){r.setRequestHeader&&r.setRequestHeader(t,e)})),e.data&&(e.cors||r.setRequestHeader&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),"application/json"===e.contentType?r.setRequestHeader&&r.setRequestHeader("Content-type","application/json; charset=UTF-8"):r.setRequestHeader&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(e){sd.log(e)}r.send(e.data||null)},_.loadScript=function(e){e=_.extend({success:function(){},error:function(){},appendCall:function(e){document.getElementsByTagName("head")[0].appendChild(e)}},e);var t=null;"css"===e.type&&((t=document.createElement("link")).rel="stylesheet",t.href=e.url),"js"===e.type&&((t=document.createElement("script")).async="async",t.setAttribute("charset","UTF-8"),t.src=e.url,t.type="text/javascript"),t.onload=t.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e.success(),t.onload=t.onreadystatechange=null)},t.onerror=function(){e.error(),t.onerror=null},e.appendCall(t)},_.getHostname=function(e,t){t&&"string"==typeof t||(t="hostname\u89e3\u6790\u5f02\u5e38");var r=null;try{r=_.URL(e).hostname}catch(e){sd.log("getHostname\u4f20\u5165\u7684url\u53c2\u6570\u4e0d\u5408\u6cd5\uff01")}return r||t},_.getQueryParamsFromUrl=function(e){var t={},r=e.split("?")[1]||"";return r&&(t=_.getURLSearchParams("?"+r)),t},_.getURLSearchParams=function(e){for(var t=function(e){return decodeURIComponent(e)},r={},n=(e=e||"").substring(1).split("&"),a=0;a<n.length;a++){var i=n[a].indexOf("=");if(-1!==i){var o=n[a].substring(0,i),s=n[a].substring(i+1);o=t(o),s=t(s),r[o]=s}}return r},_.URL=function(e){var t,r={},n=["hash","host","hostname","href","origin","password","pathname","port","protocol","search","username"];if("function"==typeof window.URL&&function(){try{return"http://modernizr.com/"===new URL("http://modernizr.com/").href}catch(e){return!1}}())(r=new URL(e)).searchParams||(r.searchParams=(t=_.getURLSearchParams(r.search),{get:function(e){return t[e]}}));else{if(!1===/^https?:\/\/.+/.test(e))throw"Invalid URL";var a=document.createElement("a");a.href=e;for(var i=n.length-1;i>=0;i--){var o=n[i];r[o]=a[o]}r.hostname&&"string"==typeof r.pathname&&0!==r.pathname.indexOf("/")&&(r.pathname="/"+r.pathname),r.searchParams=function(){var e=_.getURLSearchParams(r.search);return{get:function(t){return e[t]}}}()}return r},_.getCurrentDomain=function(e){var t=sd.para.current_domain;switch(typeof t){case"function":var r=t();return""===r||""===_.trim(r)?"url\u89e3\u6790\u5931\u8d25":-1!==r.indexOf(".")?r:"url\u89e3\u6790\u5931\u8d25";case"string":return""===t||""===_.trim(t)?"url\u89e3\u6790\u5931\u8d25":-1!==t.indexOf(".")?t:"url\u89e3\u6790\u5931\u8d25";default:var n=_.getCookieTopLevelDomain();return""===e||""===n?"url\u89e3\u6790\u5931\u8d25":n}},_.getCookieTopLevelDomain=function(e){var t=(e=e||window.location.hostname).split(".");if(_.isArray(t)&&t.length>=2&&!/^(\d+\.)+\d+$/.test(e))for(var r="."+t.splice(t.length-1,1);t.length>0;)if(r="."+t.splice(t.length-1,1)+r,document.cookie="sensorsdata_domain_test=true; path=/; domain="+r,-1!==document.cookie.indexOf("sensorsdata_domain_test=true")){var n=new Date;return n.setTime(n.getTime()-1e3),document.cookie="sensorsdata_domain_test=true; expires="+n.toGMTString()+"; path=/; domain="+r,r}return""},_.isReferralTraffic=function(e){return""===(e=e||document.referrer)||_.getCookieTopLevelDomain(_.getHostname(e))!==_.getCookieTopLevelDomain()},_.ry=function(e){return new _.ry.init(e)},_.ry.init=function(e){this.ele=e},_.ry.init.prototype={addClass:function(e){return-1===(" "+this.ele.className+" ").indexOf(" "+e+" ")&&(this.ele.className=this.ele.className+(""===this.ele.className?"":" ")+e),this},removeClass:function(e){var t=" "+this.ele.className+" ";return-1!==t.indexOf(" "+e+" ")&&(this.ele.className=t.replace(" "+e+" "," ").slice(1,-1)),this},hasClass:function(e){return-1!==(" "+this.ele.className+" ").indexOf(" "+e+" ")},attr:function(e,t){return"string"==typeof e&&_.isUndefined(t)?this.ele.getAttribute(e):("string"==typeof e&&(t=String(t),this.ele.setAttribute(e,t)),this)},offset:function(){var e=this.ele.getBoundingClientRect();if(e.width||e.height){var t=this.ele.ownerDocument.documentElement;return{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var e=this.ele.getBoundingClientRect();return{width:e.width,height:e.height}}catch(e){return{width:0,height:0}}},getStyle:function(e){return this.ele.currentStyle?this.ele.currentStyle[e]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(e)},wrap:function(e){var t=document.createElement(e);return this.ele.parentNode.insertBefore(t,this.ele),t.appendChild(this.ele),_.ry(t)},getCssStyle:function(e){var t=this.ele.style.getPropertyValue(e);if(t)return t;var r=null;if("function"==typeof window.getMatchedCSSRules&&(r=getMatchedCSSRules(this.ele)),!r||!_.isArray(r))return null;for(var n=r.length-1;n>=0;n--)if(t=r[n].style.getPropertyValue(e))return t},sibling:function(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(e){return this.sibling(this.ele,"previousSibling")},siblings:function(e){return this.siblings((this.ele.parentNode||{}).firstChild,this.ele)},children:function(e){return this.siblings(this.ele.firstChild)},parent:function(){var e=this.ele.parentNode;return e=e&&11!==e.nodeType?e:null,_.ry(e)}},_.strToUnicode=function(e){if("string"!=typeof e)return sd.log("\u8f6c\u6362unicode\u9519\u8bef",e),e;for(var t="",r=0;r<e.length;r++)t+="\\"+e.charCodeAt(r).toString(16);return t},_.getReferrer=function(e){return"string"!=typeof(e=e||document.referrer)?"\u53d6\u503c\u5f02\u5e38_referrer\u5f02\u5e38_"+String(e):(0===e.indexOf("https://www.baidu.com/")&&(e=e.split("?")[0]),"string"==typeof(e=e.slice(0,sd.para.max_referrer_string_length))?e:"")},_.getKeywordFromReferrer=function(e){e=e||document.referrer;var t=sd.para.source_type.keyword;if(document&&"string"==typeof e){if(0===e.indexOf("http")){var r=_.getReferSearchEngine(e),n=_.getQueryParamsFromUrl(e);if(_.isEmptyObject(n))return"\u672a\u53d6\u5230\u503c";var a=null;for(var i in t)if(r===i&&"object"==typeof n)if(a=t[i],_.isArray(a))for(i=0;i<a.length;i++){var o=n[a[i]];if(o)return o}else if(n[a])return n[a];return"\u672a\u53d6\u5230\u503c"}return""===e?"\u672a\u53d6\u5230\u503c_\u76f4\u63a5\u6253\u5f00":"\u672a\u53d6\u5230\u503c_\u975ehttp\u7684url"}return"\u53d6\u503c\u5f02\u5e38_referrer\u5f02\u5e38_"+String(e)},_.getWxAdIdFromUrl=function(e){var t=_.getQueryParam(e,"gdt_vid"),r=_.getQueryParam(e,"hash_key"),n=_.getQueryParam(e,"callbacks"),a={click_id:"",hash_key:"",callbacks:""};return _.isString(t)&&t.length&&(a.click_id=16==t.length||18==t.length?t:"\u53c2\u6570\u89e3\u6790\u4e0d\u5408\u6cd5",_.isString(r)&&r.length&&(a.hash_key=r),_.isString(n)&&n.length&&(a.callbacks=n)),a},_.getReferSearchEngine=function(e){var t=_.getHostname(e);if(!t||"hostname\u89e3\u6790\u5f02\u5e38"===t)return"";sd.para.source_type.keyword;var r={baidu:[/^.*\.baidu\.com$/],bing:[/^.*\.bing\.com$/],google:[/^www\.google\.com$/,/^www\.google\.com\.[a-z]{2}$/,/^www\.google\.[a-z]{2}$/],sm:[/^m\.sm\.cn$/],so:[/^.+\.so\.com$/],sogou:[/^.*\.sogou\.com$/],yahoo:[/^.*\.yahoo\.com$/]};for(var n in r)for(var a=r[n],i=0,o=a.length;i<o;i++)if(a[i].test(t))return n;return"\u672a\u77e5\u641c\u7d22\u5f15\u64ce"},_.getSourceFromReferrer=function(){function e(e,t){for(var r=0;r<e.length;r++)if(-1!==t.split("?")[0].indexOf(e[r]))return!0}var t="("+sd.para.source_type.utm.join("|")+")\\=[^&]+",r=sd.para.source_type.search,n=sd.para.source_type.social,a=document.referrer||"",i=_.info.pageProp.url;if(i){var o=i.match(new RegExp(t));return o&&o[0]?"\u4ed8\u8d39\u5e7f\u544a\u6d41\u91cf":e(r,a)?"\u81ea\u7136\u641c\u7d22\u6d41\u91cf":e(n,a)?"\u793e\u4ea4\u7f51\u7ad9\u6d41\u91cf":""===a?"\u76f4\u63a5\u6d41\u91cf":"\u5f15\u8350\u6d41\u91cf"}return"\u83b7\u53d6url\u5f02\u5e38"},_.info={initPage:function(){var e=_.getReferrer(),t=location.href,r=_.getCurrentDomain(t);r||sd.debug.jssdkDebug("url_domain\u5f02\u5e38_"+t+"_"+r),this.pageProp={referrer:e,referrer_host:e?_.getHostname(e):"",url:t,url_host:_.getHostname(t,"url_host\u53d6\u503c\u5f02\u5e38"),url_domain:r}},pageProp:{},campaignParams:function(){var e=sd.source_channel_standard.split(" "),t="",r={};return _.isArray(sd.para.source_channel)&&sd.para.source_channel.length>0&&(e=e.concat(sd.para.source_channel),e=_.unique(e)),_.each(e,(function(e){(t=_.getQueryParam(location.href,e)).length&&(r[e]=t)})),r},campaignParamsStandard:function(e,t){e=e||"",t=t||"";var r=_.info.campaignParams(),n={},a={};return _.each(r,(function(r,i,o){-1!==(" "+sd.source_channel_standard+" ").indexOf(" "+i+" ")?n[e+i]=o[i]:a[t+i]=o[i]})),{$utms:n,otherUtms:a}},properties:function(){return{$timezone_offset:(new Date).getTimezoneOffset(),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$lib:"js",$lib_version:String(sd.lib_version)}},currentProps:{},register:function(e){_.extend(_.info.currentProps,e)}},_.autoExeQueue=function(){return{items:[],enqueue:function(e){this.items.push(e),this.start()},dequeue:function(){return this.items.shift()},getCurrentItem:function(){return this.items[0]},isRun:!1,start:function(){this.items.length>0&&!this.isRun&&(this.isRun=!0,this.getCurrentItem().start())},close:function(){this.dequeue(),this.isRun=!1,this.start()}}},_.trackLink=function(e,t,r){var n=null;if((e=e||{}).ele&&(n=e.ele),e.event&&(n=e.target?e.target:e.event.target),r=r||{},!n||"object"!=typeof n)return!1;if(!n.href||/^javascript/.test(n.href)||n.target||n.download||n.onclick)return sd.track(t,r),!1;function a(e){e.stopPropagation(),e.preventDefault();var a=!1;function i(){a||(a=!0,location.href=n.href)}setTimeout(i,1e3),sd.track(t,r,i)}e.event&&a(e.event),e.ele&&_.addEvent(e.ele,"click",(function(e){a(e)}))},_.eventEmitter=function(){this._events=[],this.pendingEvents=[]},_.eventEmitter.prototype={emit:function(e){var t=[].slice.call(arguments,1);_.each(this._events,(function(r){r.type===e&&r.callback.apply(r.context,t)}))},on:function(e,t,r){"function"==typeof t&&this._events.push({type:e,callback:t,context:r||this})},tempAdd:function(e,t){t&&e&&(this.pendingEvents.push({type:e,data:t}),this.pendingEvents.length>20&&this.pendingEvents.shift())},isReady:function(){var e=this;this.tempAdd=this.emit,0!==this.pendingEvents.length&&(_.each(this.pendingEvents,(function(t){e.emit(t.type,t.data)})),this.pendingEvents=[])}},_.rot13obfs=function(e,t){t="number"==typeof t?t:13;for(var r=(e=String(e)).split(""),n=0,a=r.length;n<a;n++)r[n].charCodeAt(0)<126&&(r[n]=String.fromCharCode((r[n].charCodeAt(0)+t)%126));return r.join("")},_.rot13defs=function(e){return e=String(e),_.rot13obfs(e,113)},_.urlSafeBase64=(ENC={"+":"-","/":"_","=":"."},DEC={"-":"+",_:"/",".":"="},{encode:function(e){return e.replace(/[+\/=]/g,(function(e){return ENC[e]}))},decode:function(e){return e.replace(/[-_.]/g,(function(e){return DEC[e]}))},trim:function(e){return e.replace(/[.=]{1,2}$/,"")},isBase64:function(e){return/^[A-Za-z0-9+\/]*[=]{0,2}$/.test(e)},isUrlSafeBase64:function(e){return/^[A-Za-z0-9_-]*[.]{0,2}$/.test(e)}}),_.setCssStyle=function(e){var t=document.createElement("style");t.type="text/css";try{t.appendChild(document.createTextNode(e))}catch(r){t.styleSheet.cssText=e}var r=document.getElementsByTagName("head")[0],n=document.getElementsByTagName("script")[0];r?r.children.length?r.insertBefore(t,r.children[0]):r.appendChild(t):n.parentNode.insertBefore(t,n)},_.isIOS=function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)},_.getIOSVersion=function(){try{var e=navigator.appVersion.match(/OS (\d+)[._](\d+)[._]?(\d+)?/);return e&&e[1]?Number.parseInt(e[1],10):""}catch(e){return""}},_.getUA=function(){var e,t={},r=navigator.userAgent.toLowerCase();return(e=r.match(/opera.([\d.]+)/))?t.opera=Number(e[1].split(".")[0]):(e=r.match(/msie ([\d.]+)/))?t.ie=Number(e[1].split(".")[0]):(e=r.match(/edge.([\d.]+)/))?t.edge=Number(e[1].split(".")[0]):(e=r.match(/firefox\/([\d.]+)/))?t.firefox=Number(e[1].split(".")[0]):(e=r.match(/chrome\/([\d.]+)/))?t.chrome=Number(e[1].split(".")[0]):(e=r.match(/version\/([\d.]+).*safari/))&&(t.safari=Number(e[1].match(/^\d*.\d*/))),t},_.isSupportBeaconSend=function(){var e=_.getUA(),t=!1,r=navigator.userAgent.toLowerCase();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var n=(r.match(/os [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".").split(".");n[0]&&n[0]<13?(e.chrome>41||e.firefox>30||e.opera>25||e.safari>12)&&(t=!0):(e.chrome>41||e.firefox>30||e.opera>25||e.safari>11.3)&&(t=!0)}else(e.chrome>38||e.edge>13||e.firefox>30||e.opera>25||e.safari>11)&&(t=!0);return t},sd.para_default={preset_properties:{latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,latest_wx_ad_click_id:!1,url:!1,title:!1},img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,cross_subdomain:!0,show_log:!0,is_debug:!1,debug_mode:!1,debug_mode_upload:!1,session_time:0,use_client_time:!1,source_channel:[],send_type:"image",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:3e3,queue_timeout:300,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1},sd.addReferrerHost=function(e){_.isObject(e.properties)&&(e.properties.$first_referrer&&(e.properties.$first_referrer_host=_.getHostname(e.properties.$first_referrer,"\u53d6\u503c\u5f02\u5e38")),"track"!==e.type&&"track_signup"!==e.type||("$referrer"in e.properties&&(e.properties.$referrer_host=""===e.properties.$referrer?"":_.getHostname(e.properties.$referrer,"\u53d6\u503c\u5f02\u5e38")),sd.para.preset_properties.latest_referrer&&sd.para.preset_properties.latest_referrer_host&&(e.properties.$latest_referrer_host=""===e.properties.$latest_referrer?"":_.getHostname(e.properties.$latest_referrer,"\u53d6\u503c\u5f02\u5e38"))))},sd.addPropsHook=function(e){sd.para.preset_properties&&sd.para.preset_properties.url&&("track"===e.type||"track_signup"===e.type)&&void 0===e.properties.$url&&(e.properties.$url=window.location.href),sd.para.preset_properties&&sd.para.preset_properties.title&&("track"===e.type||"track_signup"===e.type)&&void 0===e.properties.$title&&(e.properties.$title=document.title)},sd.initPara=function(e){sd.para=e||sd.para||{};var t,r={};if(_.isObject(sd.para.is_track_latest))for(var n in sd.para.is_track_latest)r["latest_"+n]=sd.para.is_track_latest[n];for(t in sd.para.preset_properties=_.extend({},sd.para_default.preset_properties,r,sd.para.preset_properties||{}),sd.para.preset_properties.latest_wx_ad_click_id&&(sd.para.preset_properties.url=!0),sd.para_default)void 0===sd.para[t]&&(sd.para[t]=sd.para_default[t]);"string"==typeof sd.para.server_url&&"://"===sd.para.server_url.slice(0,3)&&(sd.para.server_url=location.protocol.slice(-1)+sd.para.server_url),"string"==typeof sd.para.web_url&&"://"===sd.para.web_url.slice(0,3)&&(sd.para.web_url=location.protocol.slice(-1)+sd.para.web_url),"image"!==sd.para.send_type&&"ajax"!==sd.para.send_type&&"beacon"!==sd.para.send_type&&(sd.para.send_type="image"),sd.debug.protocol.serverUrl(),sd.bridge.initPara(),sd.bridge.initState();var a={datasend_timeout:6e3,send_interval:6e3};_.localStorage.isSupport()&&_.isSupportCors()&&"object"==typeof localStorage?!0===sd.para.batch_send?(sd.para.batch_send=_.extend({},a),sd.para.use_client_time=!0):"object"==typeof sd.para.batch_send&&(sd.para.use_client_time=!0,sd.para.batch_send=_.extend({},a,sd.para.batch_send)):sd.para.batch_send=!1;var i=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],o=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],s=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],l={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};"object"==typeof sd.para.source_type&&(sd.para.source_type.utm=_.isArray(sd.para.source_type.utm)?sd.para.source_type.utm.concat(i):i,sd.para.source_type.search=_.isArray(sd.para.source_type.search)?sd.para.source_type.search.concat(o):o,sd.para.source_type.social=_.isArray(sd.para.source_type.social)?sd.para.source_type.social.concat(s):s,sd.para.source_type.keyword=_.isObject(sd.para.source_type.keyword)?_.extend(l,sd.para.source_type.keyword):l);var c=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];if(_.isObject(sd.para.heatmap)){sd.para.heatmap.clickmap=sd.para.heatmap.clickmap||"default",sd.para.heatmap.scroll_notice_map=sd.para.heatmap.scroll_notice_map||"default",sd.para.heatmap.scroll_delay_time=sd.para.heatmap.scroll_delay_time||4e3,sd.para.heatmap.scroll_event_duration=sd.para.heatmap.scroll_event_duration||18e3,sd.para.heatmap.renderRefreshTime=sd.para.heatmap.renderRefreshTime||1e3,sd.para.heatmap.loadTimeout=sd.para.heatmap.loadTimeout||1e3;var u=_.isArray(sd.para.heatmap.track_attr)?_.filter(sd.para.heatmap.track_attr,(function(e){return e&&"string"==typeof e})):[];u.push("data-sensors-click"),sd.para.heatmap.track_attr=u,_.isObject(sd.para.heatmap.collect_tags)?!0===sd.para.heatmap.collect_tags.div?sd.para.heatmap.collect_tags.div={ignore_tags:c}:_.isObject(sd.para.heatmap.collect_tags.div)?sd.para.heatmap.collect_tags.div.ignore_tags?_.isArray(sd.para.heatmap.collect_tags.div.ignore_tags)||(sd.log("ignore_tags \u53c2\u6570\u5fc5\u987b\u662f\u6570\u7ec4\u683c\u5f0f"),sd.para.heatmap.collect_tags.div.ignore_tags=c):sd.para.heatmap.collect_tags.div.ignore_tags=c:sd.para.heatmap.collect_tags.div=!1:sd.para.heatmap.collect_tags={div:!1}}if("object"==typeof sd.para.server_url&&sd.para.server_url.length)for(t=0;t<sd.para.server_url.length;t++)/sa\.gif[^\/]*$/.test(sd.para.server_url[t])||(sd.para.server_url[t]=sd.para.server_url[t].replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));else/sa\.gif[^\/]*$/.test(sd.para.server_url)||(sd.para.server_url=sd.para.server_url.replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));"string"==typeof sd.para.server_url&&(sd.para.debug_mode_url=sd.para.debug_mode_url||sd.para.server_url.replace("sa.gif","debug")),!0===sd.para.noCache?sd.para.noCache="?"+(new Date).getTime():sd.para.noCache="",sd.para.callback_timeout>sd.para.datasend_timeout&&(sd.para.datasend_timeout=sd.para.callback_timeout),sd.para.callback_timeout>sd.para.queue_timeout&&(sd.para.queue_timeout=sd.para.callback_timeout),sd.para.queue_timeout>sd.para.datasend_timeout&&(sd.para.datasend_timeout=sd.para.queue_timeout)},sd.readyState={state:0,historyState:[],stateType:{1:"1-init\u672a\u5f00\u59cb",2:"2-init\u5f00\u59cb",3:"3-store\u5b8c\u6210"},getState:function(){return this.historyState.join("\n")},setState:function(e){String(e)in this.stateType&&(this.state=e),this.historyState.push(this.stateType[e])}},sd.setPreConfig=function(e){sd.para=e.para,sd._q=e._q},sd.setInitVar=function(){sd._t=sd._t||1*new Date,sd.lib_version="1.15.27",sd.is_first_visitor=!1,sd.source_channel_standard="utm_source utm_medium utm_campaign utm_content utm_term"},sd.log=function(){if((_.sessionStorage.isSupport()&&"true"===sessionStorage.getItem("sensorsdata_jssdk_debug")||sd.para.show_log)&&(!_.isObject(arguments[0])||!0!==sd.para.show_log&&"string"!==sd.para.show_log&&!1!==sd.para.show_log||(arguments[0]=_.formatJsonString(arguments[0])),"object"==typeof console&&console.log))try{return console.log.apply(console,arguments)}catch(e){console.log(arguments[0])}},sd.enableLocalLog=function(){if(_.sessionStorage.isSupport())try{sessionStorage.setItem("sensorsdata_jssdk_debug","true")}catch(e){sd.log("enableLocalLog error: "+e.message)}},sd.disableLocalLog=function(){_.sessionStorage.isSupport()&&sessionStorage.removeItem("sensorsdata_jssdk_debug")},sd.debug={distinct_id:function(){},jssdkDebug:function(){},_sendDebug:function(e){sd.track("_sensorsdata2019_debug",{_jssdk_debug_info:e})},apph5:function(e){var t="app_h5\u6253\u901a\u5931\u8d25-",r={1:t+"use_app_track\u4e3afalse",2:t+"Android\u6216\u8005iOS\uff0c\u6ca1\u6709\u66b4\u9732\u76f8\u5e94\u65b9\u6cd5",3.1:t+"Android\u6821\u9a8cserver_url\u5931\u8d25",3.2:t+"iOS\u6821\u9a8cserver_url\u5931\u8d25",4.1:t+"H5 \u6821\u9a8c iOS server_url \u5931\u8d25",4.2:t+"H5 \u6821\u9a8c Android server_url \u5931\u8d25"},n=e.output,a=e.step,i=e.data||"";"all"!==n&&"console"!==n||sd.log(r[a]),("all"===n||"code"===n)&&_.isObject(sd.para.is_debug)&&sd.para.is_debug.apph5&&(i.type&&"profile"===i.type.slice(0,7)||(i.properties._jssdk_debug_info="apph5-"+String(a)))},defineMode:function(e){var t={1:{title:"\u5f53\u524d\u9875\u9762\u65e0\u6cd5\u8fdb\u884c\u53ef\u89c6\u5316\u5168\u57cb\u70b9",message:"App SDK \u4e0e Web JS SDK \u6ca1\u6709\u8fdb\u884c\u6253\u901a\uff0c\u8bf7\u8054\u7cfb\u8d35\u65b9\u6280\u672f\u4eba\u5458\u4fee\u6b63 App SDK \u7684\u914d\u7f6e\uff0c\u8be6\u7ec6\u4fe1\u606f\u8bf7\u67e5\u770b\u6587\u6863\u3002",link_text:"\u914d\u7f6e\u6587\u6863",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"},2:{title:"\u5f53\u524d\u9875\u9762\u65e0\u6cd5\u8fdb\u884c\u53ef\u89c6\u5316\u5168\u57cb\u70b9",message:"App SDK \u4e0e Web JS SDK \u6ca1\u6709\u8fdb\u884c\u6253\u901a\uff0c\u8bf7\u8054\u7cfb\u8d35\u65b9\u6280\u672f\u4eba\u5458\u4fee\u6b63 Web JS SDK \u7684\u914d\u7f6e\uff0c\u8be6\u7ec6\u4fe1\u606f\u8bf7\u67e5\u770b\u6587\u6863\u3002",link_text:"\u914d\u7f6e\u6587\u6863",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"},3:{title:"\u5f53\u524d\u9875\u9762\u65e0\u6cd5\u8fdb\u884c\u53ef\u89c6\u5316\u5168\u57cb\u70b9",message:"Web JS SDK \u6ca1\u6709\u5f00\u542f\u5168\u57cb\u70b9\u914d\u7f6e\uff0c\u8bf7\u8054\u7cfb\u8d35\u65b9\u5de5\u4f5c\u4eba\u5458\u4fee\u6b63 SDK \u7684\u914d\u7f6e\uff0c\u8be6\u7ec6\u4fe1\u606f\u8bf7\u67e5\u770b\u6587\u6863\u3002",link_text:"\u914d\u7f6e\u6587\u6863",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_web_all-1573964.html"},4:{title:"\u5f53\u524d\u9875\u9762\u65e0\u6cd5\u8fdb\u884c\u53ef\u89c6\u5316\u5168\u57cb\u70b9",message:"Web JS SDK \u914d\u7f6e\u7684\u6570\u636e\u6821\u9a8c\u5730\u5740\u4e0e App SDK \u914d\u7f6e\u7684\u6570\u636e\u6821\u9a8c\u5730\u5740\u4e0d\u4e00\u81f4\uff0c\u8bf7\u8054\u7cfb\u8d35\u65b9\u5de5\u4f5c\u4eba\u5458\u4fee\u6b63 SDK \u7684\u914d\u7f6e\uff0c\u8be6\u7ec6\u4fe1\u606f\u8bf7\u67e5\u770b\u6587\u6863\u3002",link_text:"\u914d\u7f6e\u6587\u6863",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"}};return!(!e||!t[e])&&t[e]},protocol:{protocolIsSame:function(e,t){try{if(_.URL(e).protocol!==_.URL(t).protocol)return!1}catch(e){return sd.log(e),!1}return!0},serverUrl:function(){this.protocolIsSame(sd.para.server_url,location.href)||sd.log("\u5f53\u524dserver_url\u4e0e\u9875\u9762\u5730\u5740\u534f\u8bae\u4e0d\u4e00\u81f4\uff0c\u53ef\u80fd\u4f1a\u5b58\u5728\u6570\u636e\u4e22\u5931\u7684\u98ce\u9669\uff01")},ajax:function(e){if(e===sd.para.server_url)return!1;this.protocolIsSame(e,location.href)||sd.log("\u5f53\u524dajax\u8bf7\u6c42\u4e0e\u9875\u9762\u5730\u5740\u534f\u8bae\u4e0d\u4e00\u81f4\uff0c\u53ef\u80fd\u4f1a\u5b58\u5728\u8bf7\u6c42\u5931\u8d25\u7684\u98ce\u9669\uff01")}}};var commonWays={setOnlineState:function(e){if(!0===e&&_.isObject(sd.para.jsapp)&&"function"==typeof sd.para.jsapp.getData){sd.para.jsapp.isOnline=!0;var t=sd.para.jsapp.getData();_.isArray(t)&&t.length>0&&_.each(t,(function(e){_.isJSONString(e)&&sd.sendState.pushSend(JSON.parse(e))}))}else sd.para.jsapp.isOnline=!1},autoTrackIsUsed:!1,isReady:function(e){e()},getUtm:function(){return _.info.campaignParams()},getStayTime:function(){return(new Date-sd._t)/1e3},setProfileLocal:function(e){if(!_.localStorage.isSupport())return sd.setProfile(e),!1;if(!_.isObject(e)||_.isEmptyObject(e))return!1;var t=_.localStorage.parse("sensorsdata_2015_jssdk_profile"),r=!1;if(_.isObject(t)&&!_.isEmptyObject(t)){for(var n in e)(!(n in t)||t[n]===e[n])&&n in t||(t[n]=e[n],r=!0);r&&(_.localStorage.set("sensorsdata_2015_jssdk_profile",JSON.stringify(t)),sd.setProfile(e))}else _.localStorage.set("sensorsdata_2015_jssdk_profile",JSON.stringify(e)),sd.setProfile(e)},setInitReferrer:function(){var e=_.getReferrer();sd.setOnceProfile({_init_referrer:e,_init_referrer_host:_.info.pageProp.referrer_host})},setSessionReferrer:function(){var e=_.getReferrer();store.setSessionPropsOnce({_session_referrer:e,_session_referrer_host:_.info.pageProp.referrer_host})},setDefaultAttr:function(){_.info.register({_current_url:location.href,_referrer:_.getReferrer(),_referring_host:_.info.pageProp.referrer_host})},trackHeatMap:function(e,t,r){if("object"==typeof e&&e.tagName){var n=e.tagName.toLowerCase(),a=e.parentNode.tagName.toLowerCase(),i=sd.para.heatmap&&sd.para.heatmap.track_attr?sd.para.heatmap.track_attr:["data-sensors-click"];"button"===n||"a"===n||"a"===a||"button"===a||"input"===n||"textarea"===n||_.hasAttributes(e,i)||heatmap.start(null,e,n,t,r)}},trackAllHeatMap:function(e,t,r){if("object"==typeof e&&e.tagName){var n=e.tagName.toLowerCase();heatmap.start(null,e,n,t,r)}},autoTrackSinglePage:function(e,t){if(this.autoTrackIsUsed)var r=_.info.pageProp.url;else r=_.info.pageProp.referrer;function n(){var e=_.info.campaignParams(),t={};return _.each(e,(function(e,r,n){-1!==(" "+sd.source_channel_standard+" ").indexOf(" "+r+" ")?t["$"+r]=n[r]:t[r]=n[r]})),t}function a(e,t){sd.track("$pageview",_.extend({$referrer:r,$url:location.href,$url_path:location.pathname,$title:document.title},e,n()),t),r=location.href}e=_.isObject(e)?e:{},e=_.isObject(e)?e:{},sd.is_first_visitor&&!e.not_set_profile&&(sd.setOnceProfile(_.extend({$first_visit_time:new Date,$first_referrer:_.getReferrer(),$first_browser_language:navigator.language||"\u53d6\u503c\u5f02\u5e38",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"\u53d6\u503c\u5f02\u5e38",$first_traffic_source_type:_.getSourceFromReferrer(),$first_search_keyword:_.getKeywordFromReferrer()},n())),sd.is_first_visitor=!1),e.not_set_profile&&delete e.not_set_profile,a(e,t),this.autoTrackSinglePage=a},autoTrackWithoutProfile:function(e,t){e=_.isObject(e)?e:{},this.autoTrack(_.extend(e,{not_set_profile:!0}),t)},autoTrack:function(e,t){e=_.isObject(e)?e:{};var r=_.info.campaignParams(),n={};_.each(r,(function(e,t,r){-1!==(" "+sd.source_channel_standard+" ").indexOf(" "+t+" ")?n["$"+t]=r[t]:n[t]=r[t]})),sd.is_first_visitor&&!e.not_set_profile&&(sd.setOnceProfile(_.extend({$first_visit_time:new Date,$first_referrer:_.getReferrer(),$first_browser_language:navigator.language||"\u53d6\u503c\u5f02\u5e38",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"\u53d6\u503c\u5f02\u5e38",$first_traffic_source_type:_.getSourceFromReferrer(),$first_search_keyword:_.getKeywordFromReferrer()},n)),sd.is_first_visitor=!1),e.not_set_profile&&delete e.not_set_profile;var a=location.href;sd.para.is_single_page&&_.addHashEvent((function(){var r=_.getReferrer(a);sd.track("$pageview",_.extend({$referrer:r,$url:location.href,$url_path:location.pathname,$title:document.title},n,e),t),a=location.href})),sd.track("$pageview",_.extend({$referrer:_.getReferrer(),$url:location.href,$url_path:location.pathname,$title:document.title},n,e),t),this.autoTrackIsUsed=!0},getAnonymousID:function(){return _.isEmptyObject(sd.store._state)?"\u8bf7\u5148\u521d\u59cb\u5316SDK":sd.store._state._first_id||sd.store._state.first_id||sd.store._state._distinct_id||sd.store._state.distinct_id},setPlugin:function(e){if(!_.isObject(e))return!1;_.each(e,(function(e,t){_.isFunction(e)&&(_.isObject(window.SensorsDataWebJSSDKPlugin)&&window.SensorsDataWebJSSDKPlugin[t]?e(window.SensorsDataWebJSSDKPlugin[t]):sd.log(t+"\u6ca1\u6709\u83b7\u53d6\u5230,\u8bf7\u67e5\u9605\u6587\u6863\uff0c\u8c03\u6574"+t+"\u7684\u5f15\u5165\u987a\u5e8f\uff01"))}))},useModulePlugin:function(){sd.use.apply(sd,arguments)},useAppPlugin:function(){this.setPlugin.apply(this,arguments)}};function BatchSend(){this.sendingData=0,this.sendingItemKeys=[]}sd.quick=function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e.slice(1);if("string"==typeof t&&commonWays[t])return commonWays[t].apply(commonWays,r);"function"==typeof t?t.apply(sd,r):sd.log("quick\u65b9\u6cd5\u4e2d\u6ca1\u6709\u8fd9\u4e2a\u529f\u80fd"+e[0])},sd.use=function(e,t){return _.isString(e)?_.isObject(window.SensorsDataWebJSSDKPlugin)&&_.isObject(window.SensorsDataWebJSSDKPlugin[e])&&_.isFunction(window.SensorsDataWebJSSDKPlugin[e].init)?(window.SensorsDataWebJSSDKPlugin[e].init(sd,t),window.SensorsDataWebJSSDKPlugin[e]):_.isObject(sd.modules)&&_.isObject(sd.modules[e])&&_.isFunction(sd.modules[e].init)?(sd.modules[e].init(sd,t),sd.modules[e]):void sd.log(e+"\u6ca1\u6709\u83b7\u53d6\u5230,\u8bf7\u67e5\u9605\u6587\u6863\uff0c\u8c03\u6574"+e+"\u7684\u5f15\u5165\u987a\u5e8f\uff01"):(sd.log("use\u63d2\u4ef6\u540d\u79f0\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\uff01"),!1)},sd.track=function(e,t,r){saEvent.check({event:e,properties:t})&&saEvent.send({type:"track",event:e,properties:t},r)},sd.trackLink=function(e,t,r){"object"==typeof e&&e.tagName?_.trackLink({ele:e},t,r):"object"==typeof e&&e.target&&e.event&&_.trackLink(e,t,r)},sd.trackLinks=function(e,t,r){return r=r||{},!(!e||"object"!=typeof e)&&!(!e.href||/^javascript/.test(e.href)||e.target)&&void _.addEvent(e,"click",(function(n){n.preventDefault();var a=!1;function i(){a||(a=!0,location.href=e.href)}setTimeout(i,1e3),sd.track(t,r,i)}))},sd.setProfile=function(e,t){saEvent.check({propertiesMust:e})&&saEvent.send({type:"profile_set",properties:e},t)},sd.setOnceProfile=function(e,t){saEvent.check({propertiesMust:e})&&saEvent.send({type:"profile_set_once",properties:e},t)},sd.appendProfile=function(e,t){saEvent.check({propertiesMust:e})&&(_.each(e,(function(t,r){_.isString(t)?e[r]=[t]:_.isArray(t)?e[r]=t:(delete e[r],sd.log("appendProfile\u5c5e\u6027\u7684\u503c\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u6216\u8005\u6570\u7ec4"))})),_.isEmptyObject(e)||saEvent.send({type:"profile_append",properties:e},t))},sd.incrementProfile=function(e,t){var r=e;_.isString(e)&&((e={})[r]=1),saEvent.check({propertiesMust:e})&&(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!/-*\d+/.test(String(e[t])))return!1;return!0}(e)?saEvent.send({type:"profile_increment",properties:e},t):sd.log("profile_increment\u7684\u503c\u53ea\u80fd\u662f\u6570\u5b57"))},sd.deleteProfile=function(e){saEvent.send({type:"profile_delete"},e),store.set("distinct_id",_.UUID()),store.set("first_id","")},sd.unsetProfile=function(e,t){var r=e,n={};_.isString(e)&&(e=[]).push(r),_.isArray(e)?(_.each(e,(function(e){_.isString(e)?n[e]=!0:sd.log("profile_unset\u7ed9\u7684\u6570\u7ec4\u91cc\u9762\u7684\u503c\u5fc5\u987b\u65f6string,\u5df2\u7ecf\u8fc7\u6ee4\u6389",e)})),saEvent.send({type:"profile_unset",properties:n},t)):sd.log("profile_unset\u7684\u53c2\u6570\u662f\u6570\u7ec4")},sd.identify=function(e,t){"number"==typeof e&&(e=String(e));var r=store.getFirstId();if(void 0===e){var n=_.UUID();r?store.set("first_id",n):store.set("distinct_id",n)}else saEvent.check({distinct_id:e})?!0===t?r?store.set("first_id",e):store.set("distinct_id",e):r?store.change("first_id",e):store.change("distinct_id",e):sd.log("identify\u7684\u53c2\u6570\u5fc5\u987b\u662f\u5b57\u7b26\u4e32")},sd.trackSignup=function(e,t,r,n){if(saEvent.check({distinct_id:e,event:t,properties:r})){var a=store.getFirstId()||store.getDistinctId();store.set("distinct_id",e),saEvent.send({original_id:a,distinct_id:e,type:"track_signup",event:t,properties:r},n)}},sd.registerPage=function(e){saEvent.check({properties:e})?_.extend(_.info.currentProps,e):sd.log("register\u8f93\u5165\u7684\u53c2\u6570\u6709\u8bef")},sd.clearAllRegister=function(e){store.clearAllProps(e)},sd.register=function(e){saEvent.check({properties:e})?store.setProps(e):sd.log("register\u8f93\u5165\u7684\u53c2\u6570\u6709\u8bef")},sd.registerOnce=function(e){saEvent.check({properties:e})?store.setPropsOnce(e):sd.log("registerOnce\u8f93\u5165\u7684\u53c2\u6570\u6709\u8bef")},sd.registerSession=function(e){saEvent.check({properties:e})?store.setSessionProps(e):sd.log("registerSession\u8f93\u5165\u7684\u53c2\u6570\u6709\u8bef")},sd.registerSessionOnce=function(e){saEvent.check({properties:e})?store.setSessionPropsOnce(e):sd.log("registerSessionOnce\u8f93\u5165\u7684\u53c2\u6570\u6709\u8bef")},sd.login=function(e,t){if("number"==typeof e&&(e=String(e)),saEvent.check({distinct_id:e})){var r=store.getFirstId(),n=store.getDistinctId();e!==n?(r||store.set("first_id",n),sd.trackSignup(e,"$SignUp",{},t)):t&&t()}else sd.log("login\u7684\u53c2\u6570\u5fc5\u987b\u662f\u5b57\u7b26\u4e32"),t&&t()},sd.logout=function(e){var t=store.getFirstId();if(t)if(store.set("first_id",""),!0===e){var r=_.UUID();store.set("distinct_id",r)}else store.set("distinct_id",t);else sd.log("\u6ca1\u6709first_id\uff0clogout\u5931\u8d25")},sd.getPresetProperties=function(){var e,t,r={$is_first_day:_.cookie.getNewUser(),$referrer:_.info.pageProp.referrer||"",$referrer_host:_.info.pageProp.referrer?_.getHostname(_.info.pageProp.referrer):"",$url:location.href,$url_path:location.pathname,$title:document.title||"",_distinct_id:store.getDistinctId()},n=_.extend({},_.info.properties(),sd.store.getProps(),(e=_.info.campaignParams(),t={},_.each(e,(function(e,r,n){-1!==(" "+sd.source_channel_standard+" ").indexOf(" "+r+" ")?t["$"+r]=n[r]:t[r]=n[r]})),t),r);return sd.para.preset_properties.latest_referrer&&sd.para.preset_properties.latest_referrer_host&&(n.$latest_referrer_host=""===n.$latest_referrer?"":_.getHostname(n.$latest_referrer)),n},sd.detectMode=function(){var e={searchKeywordMatch:location.search.match(/sa-request-id=([^&#]+)/),isSeachHasKeyword:function(){var e=this.searchKeywordMatch;return e&&e[0]&&e[1]},hasKeywordHandle:function(){var e=this.searchKeywordMatch,t=location.search.match(/sa-request-type=([^&#]+)/),r=location.search.match(/sa-request-url=([^&#]+)/);heatmap.setNotice(r),_.sessionStorage.isSupport()&&(r&&r[0]&&r[1]&&sessionStorage.setItem("sensors_heatmap_url",decodeURIComponent(r[1])),sessionStorage.setItem("sensors_heatmap_id",e[1]),t&&t[0]&&t[1]?"1"===t[1]||"2"===t[1]||"3"===t[1]?(t=t[1],sessionStorage.setItem("sensors_heatmap_type",t)):t=null:t=null!==sessionStorage.getItem("sensors_heatmap_type")?sessionStorage.getItem("sensors_heatmap_type"):null),this.isReady(e[1],t)},isReady:function(e,t,r){sd.para.heatmap_url?_.loadScript({success:function(){setTimeout((function(){"undefined"!=typeof sa_jssdk_heatmap_render&&(sa_jssdk_heatmap_render(sd,e,t,r),"object"==typeof console&&"function"==typeof console.log&&(sd.heatmap_version&&sd.heatmap_version===sd.lib_version||console.log("heatmap.js\u4e0esensorsdata.js\u7248\u672c\u53f7\u4e0d\u4e00\u81f4\uff0c\u53ef\u80fd\u5b58\u5728\u98ce\u9669!")))}),0)},error:function(){},type:"js",url:sd.para.heatmap_url}):sd.log("\u6ca1\u6709\u6307\u5b9aheatmap_url\u7684\u8def\u5f84")},isStoregeHasKeyword:function(){return _.sessionStorage.isSupport()&&"string"==typeof sessionStorage.getItem("sensors_heatmap_id")},storageHasKeywordHandle:function(){heatmap.setNotice(),e.isReady(sessionStorage.getItem("sensors_heatmap_id"),sessionStorage.getItem("sensors_heatmap_type"),location.href)}},t={isVtrackMode:function(){return location.search.match(/sa-visual-mode=true/)||_.sessionStorage.isSupport()&&"string"==typeof sessionStorage.getItem("sensors-visual-mode")},loadVtrack:function(){_.loadScript({success:function(){},error:function(){},type:"js",url:sd.para.vtrack_url?sd.para.vtrack_url:location.protocol+"//static.sensorsdata.cn/sdk/"+sd.lib_version+"/vtrack.min.js"})},messageListener:function(e){if("sa-fe"!==e.data.source)return!1;"v-track-mode"===e.data.type&&(e.data.data&&e.data.data.isVtrack&&(_.sessionStorage.isSupport()&&sessionStorage.setItem("sensors-visual-mode","true"),e.data.data.userURL&&location.search.match(/sa-visual-mode=true/)?window.location.href=e.data.data.userURL:t.loadVtrack()),window.removeEventListener("message",t.messageListener,!1))},removeMessageHandle:function(){window.removeEventListener&&window.removeEventListener("message",t.messageListener,!1)},verifyVtrackMode:function(){window.addEventListener&&window.addEventListener("message",t.messageListener,!1),t.postMessage()},postMessage:function(){window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"sa-web-sdk",type:"v-is-vtrack",data:{sdkversion:"1.15.27"}},"*")},notifyUser:function(){var e=function(t){if("sa-fe"!==t.data.source)return!1;"v-track-mode"===t.data.type&&(t.data.data&&t.data.data.isVtrack&&alert("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u7248\u795e\u7b56\u5206\u6790"),window.removeEventListener("message",e,!1))};window.addEventListener&&window.addEventListener("message",e,!1),t.postMessage()}},r=function(e){var t=sd.bridge.initDefineBridgeInfo();function r(){var e=[];t.touch_app_bridge||e.push(sd.debug.defineMode("1")),_.isObject(sd.para.app_js_bridge)||(e.push(sd.debug.defineMode("2")),t.verify_success=!1),_.isObject(sd.para.heatmap)&&"default"==sd.para.heatmap.clickmap||e.push(sd.debug.defineMode("3")),"fail"===t.verify_success&&e.push(sd.debug.defineMode("4"));var r={callType:"app_alert",data:e};SensorsData_App_Visual_Bridge&&SensorsData_App_Visual_Bridge.sensorsdata_visualized_alert_info?SensorsData_App_Visual_Bridge.sensorsdata_visualized_alert_info(JSON.stringify(r)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(r))}if(_.isObject(window.SensorsData_App_Visual_Bridge)&&window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode&&(!0===window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode||window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode()))if(_.isObject(sd.para.heatmap)&&"default"==sd.para.heatmap.clickmap)if(_.isObject(sd.para.app_js_bridge)&&"success"===t.verify_success)if(e)sa_jssdk_app_define_mode(sd,e);else{var n=location.protocol;n=_.indexOf(["http:","https:"],n)>-1?n:"https:",_.loadScript({success:function(){setTimeout((function(){"undefined"!=typeof sa_jssdk_app_define_mode&&sa_jssdk_app_define_mode(sd,e)}),0)},error:function(){},type:"js",url:n+"//static.sensorsdata.cn/sdk/"+sd.lib_version+"/vapph5define.min.js"})}else r();else r()};e.isSeachHasKeyword()?e.hasKeywordHandle():window.parent!==self&&t.isVtrackMode()?t.verifyVtrackMode():(sd.readyState.setState(3),new sd.JSBridge({type:"visualized",app_call_js:function(){"undefined"!=typeof sa_jssdk_app_define_mode?r(!0):r(!1)}}),r(!1),sd.bridge.app_js_bridge_v1(),_.info.initPage(),sd.para.is_track_single_page&&_.addSinglePageEvent((function(e){var t=function(t){t=t||{},e!==location.href&&(_.info.pageProp.referrer=e,sd.quick("autoTrack",_.extend({$url:location.href,$referrer:e},t)))};if("boolean"==typeof sd.para.is_track_single_page)t();else if("function"==typeof sd.para.is_track_single_page){var r=sd.para.is_track_single_page();_.isObject(r)?t(r):!0===r&&t()}})),sd.para.batch_send&&(_.addEvent(window,"onpagehide"in window?"pagehide":"unload",(function(e){sd.batchSend.clearPendingStatus()})),sd.batchSend.batchInterval()),sd.store.init(),sd.readyState.setState(4),sd._q&&_.isArray(sd._q)&&sd._q.length>0&&_.each(sd._q,(function(e){sd[e[0]].apply(sd,Array.prototype.slice.call(e[1]))})),_.isObject(sd.para.heatmap)&&(heatmap.initHeatmap(),heatmap.initScrollmap()),t.notifyUser())},BatchSend.prototype={add:function(e){_.isObject(e)&&(this.writeStore(e),"track_signup"!==e.type&&"$pageview"!==e.event||this.sendStrategy())},clearPendingStatus:function(){this.sendingItemKeys.length&&this.removePendingItems(this.sendingItemKeys)},remove:function(e){this.sendingData>0&&--this.sendingData,_.isArray(e)&&e.length>0&&_.each(e,(function(e){_.localStorage.remove(e)}))},send:function(e){var t=this,r=_.isArray(sd.para.server_url)?sd.para.server_url[0]:sd.para.server_url;_.ajax({url:r,type:"POST",data:"data_list="+encodeURIComponent(_.base64Encode(JSON.stringify(e.vals))),credentials:!1,timeout:sd.para.batch_send.datasend_timeout,cors:!0,success:function(){t.remove(e.keys),t.removePendingItems(e.keys)},error:function(){t.sendingData>0&&--t.sendingData,t.removePendingItems(e.keys)}})},appendPendingItems:function(e){if(!1!==_.isArray(e)){this.sendingItemKeys=_.unique(this.sendingItemKeys.concat(e));try{var t=this.getPendingItems(),r=_.unique(t.concat(e));localStorage.setItem("sawebjssdk-sendingitems",JSON.stringify(r))}catch(e){}}},removePendingItems:function(e){if(!1!==_.isArray(e)){this.sendingItemKeys.length&&(this.sendingItemKeys=_.filter(this.sendingItemKeys,(function(t){return-1===_.indexOf(e,t)})));try{var t=this.getPendingItems(),r=_.filter(t,(function(t){return-1===_.indexOf(e,t)}));localStorage.setItem("sawebjssdk-sendingitems",JSON.stringify(r))}catch(e){}}},getPendingItems:function(){var e=[];try{var t=localStorage.getItem("sawebjssdk-sendingitems");t&&(e=JSON.parse(t))}catch(e){}return e},sendPrepare:function(e){this.appendPendingItems(e.keys);var t=e.vals;t.length>0&&this.send({keys:e.keys,vals:t})},sendStrategy:function(){if(!1===document.hasFocus())return!1;var e=this.readStore();e.keys.length>0&&0===this.sendingData&&(this.sendingData=1,this.sendPrepare(e))},batchInterval:function(){var e=this;setInterval((function(){e.sendStrategy()}),sd.para.batch_send.send_interval)},readStore:function(){for(var e=[],t=[],r=null,n=(new Date).getTime(),a=localStorage.length,i=this.getPendingItems(),o=0;o<a;o++){var s=localStorage.key(o);if(0===s.indexOf("sawebjssdk-")&&/^sawebjssdk\-\d+$/.test(s)){if(i.length&&_.indexOf(i,s)>-1)continue;(r=localStorage.getItem(s))?(r=_.safeJSONParse(r))&&_.isObject(r)?(r._flush_time=n,e.push(s),t.push(r)):(localStorage.removeItem(s),sd.log("localStorage-\u6570\u636eparse\u5f02\u5e38"+r)):(localStorage.removeItem(s),sd.log("localStorage-\u6570\u636e\u53d6\u503c\u5f02\u5e38"+r))}}return{keys:e,vals:t}},writeStore:function(e){var t=String(Math.random()).slice(2,5)+String(Math.random()).slice(2,5)+String((new Date).getTime()).slice(3);localStorage.setItem("sawebjssdk-"+t,JSON.stringify(e))}},sd.batchSend=new BatchSend;var dataSend={getSendUrl:function(e,t){var r=_.base64Encode(t),n="crc="+_.hashCode(r);return-1!==e.indexOf("?")?e+"&data="+encodeURIComponent(r)+"&ext="+encodeURIComponent(n):e+"?data="+encodeURIComponent(r)+"&ext="+encodeURIComponent(n)},getSendData:function(e){var t=_.base64Encode(e),r="crc="+_.hashCode(t);return"data="+encodeURIComponent(t)+"&ext="+encodeURIComponent(r)},getInstance:function(e){var t=new(this[this.getSendType(e)])(e),r=t.start;return t.start=function(){_.isObject(sd.para.is_debug)&&sd.para.is_debug.storage&&sd.store.requests&&sd.store.requests.push({name:this.server_url,initiatorType:this.img?"img":"xmlhttprequest",entryType:"resource",requestData:this.data});var e=this;r.apply(this,arguments),setTimeout((function(){e.isEnd(!0)}),sd.para.callback_timeout)},t.end=function(){this.callback&&this.callback();var e=this;setTimeout((function(){e.lastClear&&e.lastClear()}),sd.para.datasend_timeout-sd.para.callback_timeout)},t.isEnd=function(e){if(!this.received){this.received=!0,this.end();var t=this;e?sd.para.queue_timeout-sd.para.callback_timeout<=0?t.close():setTimeout((function(){t.close()}),sd.para.queue_timeout-sd.para.callback_timeout):t.close()}},t},getRealtimeInstance:function(e){var t=new(this[this.getSendType(e)])(e);t.defaultData=e;var r=t.start;return t.start=function(){var e=this;r.apply(this,arguments),setTimeout((function(){e.isEnd(!0)}),sd.para.callback_timeout)},t.end=function(){this.callback&&this.callback();var e=this;setTimeout((function(){e.lastClear&&e.lastClear()}),sd.para.datasend_timeout-sd.para.callback_timeout)},t.isEnd=function(e){this.received||(this.received=!0,this.end())},t},getSendType:function(e){var t=["image","ajax","beacon"],r=t[0];return"beacon"===(r=e.config&&_.indexOf(t,e.config.send_type)>-1?e.config.send_type:sd.para.send_type)&&!1===_.isSupportBeaconSend()&&(r="image"),"ajax"===r&&!1===_.isSupportCors()&&(r="image"),r},image:function(e){this.callback=e.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,sd.para.img_use_crossorigin&&(this.img.crossOrigin="anonymous"),this.data=e.data,this.server_url=dataSend.getSendUrl(e.server_url,e.data)}};dataSend.image.prototype.start=function(){var e=this;sd.para.ignore_oom&&(this.img.onload=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()},this.img.onerror=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()},this.img.onabort=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()}),this.img.src=this.server_url},dataSend.image.prototype.lastClear=function(){this.img.src=""},dataSend.ajax=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=dataSend.getSendData(e.data)},dataSend.ajax.prototype.start=function(){var e=this;_.ajax({url:this.server_url,type:"POST",data:this.data,credentials:!1,timeout:sd.para.datasend_timeout,cors:!0,success:function(){e.isEnd()},error:function(){e.isEnd()}})},dataSend.beacon=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=dataSend.getSendData(e.data)},dataSend.beacon.prototype.start=function(){var e=this;"object"==typeof navigator&&"function"==typeof navigator.sendBeacon&&(navigator.sendBeacon(this.server_url,this.data)||(this.defaultData.config.send_type="image",sendState.realtimeSend(this.defaultData))),setTimeout((function(){e.isEnd()}),40)};var sendState={};sd.sendState=sendState,sd.events=new _.eventEmitter,sendState.queue=_.autoExeQueue(),sendState.requestData=null,sendState.getSendCall=function(e,t,r){if(sd.is_heatmap_render_mode)return!1;if(sd.readyState.state<3)return sd.log("\u521d\u59cb\u5316\u6ca1\u6709\u5b8c\u6210"),!1;e._track_id=Number(String(Math.random()).slice(2,5)+String(Math.random()).slice(2,4)+String((new Date).getTime()).slice(-4)),sd.para.use_client_time&&(e._flush_time=(new Date).getTime());var n=e;if(e=JSON.stringify(e),this.requestData={data:n,config:t,callback:r},sd.events.tempAdd("send",n),!sd.para.app_js_bridge&&sd.para.batch_send&&localStorage.length<200)return sd.log(n),sd.batchSend.add(this.requestData.data),!1;sd.bridge.dataSend(n,this,r),sd.log(n)},sendState.prepareServerUrl=function(){if("object"==typeof this.requestData.config&&this.requestData.config.server_url)this.sendCall(this.requestData.config.server_url,this.requestData.callback);else if(_.isArray(sd.para.server_url))for(var e=0;e<sd.para.server_url.length;e++)this.sendCall(sd.para.server_url[e]);else sd.para.server_url&&this.sendCall(sd.para.server_url,this.requestData.callback)},sendState.sendCall=function(e,t){var r={server_url:e,data:JSON.stringify(this.requestData.data),callback:t,config:this.requestData.config};_.isObject(sd.para.jsapp)&&!sd.para.jsapp.isOnline&&"function"==typeof sd.para.jsapp.setData?(delete r.callback,r=JSON.stringify(r),sd.para.jsapp.setData(r)):sd.para.use_client_time?this.realtimeSend(r):this.pushSend(r)},sendState.pushSend=function(e){var t=dataSend.getInstance(e),r=this;t.close=function(){r.queue.close()},this.queue.enqueue(t)},sendState.realtimeSend=function(e){dataSend.getRealtimeInstance(e).start()};var saEvent={};sd.saEvent=saEvent,saEvent.checkOption={regChecks:{regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$)[a-zA-Z_$][a-zA-Z\d_$]{0,99})$/i},checkPropertiesKey:function(e){var t=this,r=!0;return _.each(e,(function(e,n){t.regChecks.regName.test(n)||(r=!1)})),r},check:function(e,t){return"string"==typeof this[e]?this[this[e]](t):_.isFunction(this[e])?this[e](t):void 0},str:function(e){return!!_.isString(e)||(sd.log("\u8bf7\u68c0\u67e5\u53c2\u6570\u683c\u5f0f,\u5fc5\u987b\u662f\u5b57\u7b26\u4e32"),!0)},properties:function(e){return _.strip_sa_properties(e),!e||(_.isObject(e)?!!this.checkPropertiesKey(e)||(sd.log("properties \u91cc\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\u540d\u9700\u8981\u662f\u5408\u6cd5\u7684\u53d8\u91cf\u540d\uff0c\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u4e14\u53ea\u5305\u542b\uff1a\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\uff0c\u81ea\u5b9a\u4e49\u5c5e\u6027\u4e0d\u80fd\u4ee5 $ \u5f00\u5934"),!0):(sd.log("properties\u53ef\u4ee5\u6ca1\u6709\uff0c\u4f46\u6709\u7684\u8bdd\u5fc5\u987b\u662f\u5bf9\u8c61"),!0))},propertiesMust:function(e){return _.strip_sa_properties(e),void 0===e||!_.isObject(e)||_.isEmptyObject(e)?(sd.log("properties\u5fc5\u987b\u662f\u5bf9\u8c61\u4e14\u6709\u503c"),!0):!!this.checkPropertiesKey(e)||(sd.log("properties \u91cc\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\u540d\u9700\u8981\u662f\u5408\u6cd5\u7684\u53d8\u91cf\u540d\uff0c\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u4e14\u53ea\u5305\u542b\uff1a\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\uff0c\u81ea\u5b9a\u4e49\u5c5e\u6027\u4e0d\u80fd\u4ee5 $ \u5f00\u5934"),!0)},event:function(e){return!(!_.isString(e)||!this.regChecks.regName.test(e))||(sd.log("\u8bf7\u68c0\u67e5\u53c2\u6570\u683c\u5f0f\uff0ceventName \u5fc5\u987b\u662f\u5b57\u7b26\u4e32\uff0c\u4e14\u9700\u662f\u5408\u6cd5\u7684\u53d8\u91cf\u540d\uff0c\u5373\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u4e14\u53ea\u5305\u542b\uff1a\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u548c $,\u5176\u4e2d\u4ee5 $ \u5f00\u5934\u7684\u8868\u660e\u662f\u7cfb\u7edf\u7684\u4fdd\u7559\u5b57\u6bb5\uff0c\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u540d\u8bf7\u4e0d\u8981\u4ee5 $ \u5f00\u5934"),!0)},test_id:"str",group_id:"str",distinct_id:function(e){return!(!_.isString(e)||!/^.{1,255}$/.test(e))||(sd.log("distinct_id\u5fc5\u987b\u662f\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e14\u5c0f\u4e8e255\u4f4d\u7684\u5b57\u7b26\u4e32"),!1)}},saEvent.check=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!this.checkOption.check(t,e[t]))return!1;return!0},saEvent.send=function(e,t){var r={distinct_id:store.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(sd.lib_version)},properties:{}};_.isObject(e)&&_.isObject(e.properties)&&!_.isEmptyObject(e.properties)&&e.properties.$lib_detail&&(r.lib.$lib_detail=e.properties.$lib_detail,delete e.properties.$lib_detail),_.extend(r,sd.store.getUnionId(),e),_.isObject(e.properties)&&!_.isEmptyObject(e.properties)&&_.extend(r.properties,e.properties),e.type&&"profile"===e.type.slice(0,7)||(r.properties=_.extend({},_.info.properties(),store.getProps(),store.getSessionProps(),_.info.currentProps,r.properties),sd.para.preset_properties.latest_referrer&&!_.isString(r.properties.$latest_referrer)&&(r.properties.$latest_referrer="\u53d6\u503c\u5f02\u5e38"),sd.para.preset_properties.latest_search_keyword&&!_.isString(r.properties.$latest_search_keyword)&&(r.properties.$latest_search_keyword="\u53d6\u503c\u5f02\u5e38"),sd.para.preset_properties.latest_traffic_source_type&&!_.isString(r.properties.$latest_traffic_source_type)&&(r.properties.$latest_traffic_source_type="\u53d6\u503c\u5f02\u5e38"),sd.para.preset_properties.latest_landing_page&&!_.isString(r.properties.$latest_landing_page)&&(r.properties.$latest_landing_page="\u53d6\u503c\u5f02\u5e38"),sd.para.preset_properties.latest_wx_ad_click_id&&!_.isString(r.properties._latest_wx_ad_click_id)&&(r.properties._latest_wx_ad_click_id="\u53d6\u503c\u5f02\u5e38",r.properties._latest_wx_ad_hash_key="\u53d6\u503c\u5f02\u5e38",r.properties._latest_wx_ad_callbacks="\u53d6\u503c\u5f02\u5e38")),r.properties.$time&&_.isDate(r.properties.$time)?(r.time=1*r.properties.$time,delete r.properties.$time):sd.para.use_client_time&&(r.time=1*new Date),_.parseSuperProperties(r.properties),_.filterReservedProperties(r.properties),_.searchObjDate(r),_.searchObjString(r),_.searchZZAppStyle(r);var n=_.searchConfigData(r.properties);saNewUser.checkIsAddSign(r),saNewUser.checkIsFirstTime(r),sd.addReferrerHost(r),sd.addPropsHook(r),!0===sd.para.debug_mode?(sd.log(r),this.debugPath(JSON.stringify(r),t)):sd.sendState.getSendCall(r,n,t)},saEvent.debugPath=function(e,t){var r,n=e;r=-1!==sd.para.debug_mode_url.indexOf("?")?sd.para.debug_mode_url+"&data="+encodeURIComponent(_.base64Encode(e)):sd.para.debug_mode_url+"?data="+encodeURIComponent(_.base64Encode(e)),_.ajax({url:r,type:"GET",cors:!0,header:{"Dry-Run":String(sd.para.debug_mode_upload)},success:function(e){!0===_.isEmptyObject(e)?alert("debug\u6570\u636e\u53d1\u9001\u6210\u529f"+n):alert("debug\u5931\u8d25 \u9519\u8bef\u539f\u56e0"+JSON.stringify(e))}})};var store=sd.store={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{}},getProps:function(){return this._state.props||{}},getSessionProps:function(){return this._sessionState},getDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getUnionId:function(){var e={},t=this._state._first_id||this._state.first_id,r=this._state._distinct_id||this._state.distinct_id;return t&&r?(e.login_id=r,e.anonymous_id=t):e.anonymous_id=r,e},getFirstId:function(){return this._state._first_id||this._state.first_id},toState:function(e){var t=null;if(null!=e&&_.isJSONString(e))if(t=JSON.parse(e),this._state=_.extend(t),t.distinct_id){if("object"==typeof t.props){for(var r in t.props)"string"==typeof t.props[r]&&(t.props[r]=t.props[r].slice(0,sd.para.max_referrer_string_length));this.save()}}else this.set("distinct_id",_.UUID()),sd.debug.distinct_id("1",e);else this.set("distinct_id",_.UUID()),sd.debug.distinct_id("2",e)},initSessionState:function(){var e=_.cookie.get("sensorsdata2015session"),t=null;null!==e&&"object"==typeof(t=JSON.parse(e))&&(this._sessionState=t||{})},setOnce:function(e,t){e in this._state||this.set(e,t)},set:function(e,t){this._state=this._state||{},"distinct_id"===e&&this._state.distinct_id&&sd.events.tempAdd("changeDistinctId",t),this._state[e]=t,"first_id"===e?delete this._state._first_id:"distinct_id"===e&&delete this._state._distinct_id,this.save()},change:function(e,t){this._state["_"+e]=t},setSessionProps:function(e){var t=this._sessionState;_.extend(t,e),this.sessionSave(t)},setSessionPropsOnce:function(e){var t=this._sessionState;_.coverExtend(t,e),this.sessionSave(t)},setProps:function(e,t){var r={};for(var n in r=t?e:_.extend(this._state.props||{},e))"string"==typeof r[n]&&(r[n]=r[n].slice(0,sd.para.max_referrer_string_length));this.set("props",r)},setPropsOnce:function(e){var t=this._state.props||{};_.coverExtend(t,e),this.set("props",t)},clearAllProps:function(e){if(this._sessionState={},_.isArray(e)&&e.length>0)for(var t=0;t<e.length;t++)_.isString(e[t])&&-1===e[t].indexOf("latest_")&&e[t]in this._state.props&&delete this._state.props[e[t]];else for(var t in this._state.props)1!==t.indexOf("latest_")&&delete this._state.props[t];this.sessionSave({}),this.save()},sessionSave:function(e){this._sessionState=e,_.cookie.set("sensorsdata2015session",JSON.stringify(this._sessionState),0)},save:function(){var e=JSON.parse(JSON.stringify(this._state));delete e._first_id,delete e._distinct_id,_.cookie.set(this.getCookieName(),JSON.stringify(e),73e3,sd.para.cross_subdomain)},getCookieName:function(){var e="";if(!1===sd.para.cross_subdomain){try{e=_.URL(location.href).hostname}catch(e){sd.log(e)}e="string"==typeof e&&""!==e?"sa_jssdk_2015_"+e.replace(/\./g,"_"):"sa_jssdk_2015_root"}else e="sensorsdata2015jssdkcross";return e},init:function(){this.initSessionState();var e=_.UUID(),t=_.cookie.get(this.getCookieName());null===t?(sd.is_first_visitor=!0,this.set("distinct_id",e)):(_.isJSONString(t)&&JSON.parse(t).distinct_id||(sd.is_first_visitor=!0),this.toState(t)),saNewUser.setDeviceId(e),saNewUser.storeInitCheck(),saNewUser.checkIsFirstLatest()}},saNewUser={checkIsAddSign:function(e){"track"===e.type&&(_.cookie.getNewUser()?e.properties.$is_first_day=!0:e.properties.$is_first_day=!1)},is_first_visit_time:!1,checkIsFirstTime:function(e){"track"===e.type&&"$pageview"===e.event&&(this.is_first_visit_time?(e.properties.$is_first_time=!0,this.is_first_visit_time=!1):e.properties.$is_first_time=!1)},setDeviceId:function(e){var t=null,r=_.cookie.get("sensorsdata2015jssdkcross"),n={};null!=r&&_.isJSONString(r)&&(n=JSON.parse(r)).$device_id&&(t=n.$device_id),t=t||e,!0===sd.para.cross_subdomain?store.set("$device_id",t):(n.$device_id=t,_.cookie.set("sensorsdata2015jssdkcross",JSON.stringify(n),null,!0)),sd.para.is_track_device_id&&(_.info.currentProps.$device_id=t)},storeInitCheck:function(){if(sd.is_first_visitor){var e=new Date,t={h:23-e.getHours(),m:59-e.getMinutes(),s:59-e.getSeconds()};_.cookie.set(_.cookie.getCookieName("new_user"),"1",3600*t.h+60*t.m+t.s+"s"),this.is_first_visit_time=!0}else _.cookie.getNewUser()||(this.checkIsAddSign=function(e){"track"===e.type&&(e.properties.$is_first_day=!1)}),this.checkIsFirstTime=function(e){"track"===e.type&&"$pageview"===e.event&&(e.properties.$is_first_time=!1)}},checkIsFirstLatest:function(){for(var e=_.info.pageProp.url_domain,t=["$utm_source","$utm_medium","$utm_campaign","$utm_content","$utm_term"],r=store.getProps(),n=0;n<t.length;n++)t[n]in r&&delete r[t[n]];store.setProps(r,!0);var a={};if(""===e&&(e="url\u89e3\u6790\u5931\u8d25"),_.each(sd.para.preset_properties,(function(t,r){if(-1===r.indexOf("latest_"))return!1;if(r=r.slice(7),t){if("utm"!==r&&"url\u89e3\u6790\u5931\u8d25"===e)"wx_ad_click_id"===r?(a._latest_wx_ad_click_id="url\u7684domain\u89e3\u6790\u5931\u8d25",a._latest_wx_ad_hash_key="url\u7684domain\u89e3\u6790\u5931\u8d25",a._latest_wx_ad_callbacks="url\u7684domain\u89e3\u6790\u5931\u8d25"):a["$latest_"+r]="url\u7684domain\u89e3\u6790\u5931\u8d25";else if(_.isReferralTraffic(document.referrer))switch(r){case"traffic_source_type":a.$latest_traffic_source_type=_.getSourceFromReferrer();break;case"referrer":a.$latest_referrer=_.info.pageProp.referrer;break;case"search_keyword":a.$latest_search_keyword=_.getKeywordFromReferrer();break;case"landing_page":a.$latest_landing_page=location.href;break;case"wx_ad_click_id":var n=_.getWxAdIdFromUrl(location.href);a._latest_wx_ad_click_id=n.click_id,a._latest_wx_ad_hash_key=n.hash_key,a._latest_wx_ad_callbacks=n.callbacks}}else if("utm"===r&&sd.store._state.props)for(var i in sd.store._state.props)(0===i.indexOf("$latest_utm")||0===i.indexOf("_latest_")&&i.indexOf("_latest_wx_ad_")<0)&&delete sd.store._state.props[i];else sd.store._state.props&&"$latest_"+r in sd.store._state.props?delete sd.store._state.props["$latest_"+r]:"wx_ad_click_id"==r&&sd.store._state.props&&_.each(["_latest_wx_ad_click_id","_latest_wx_ad_hash_key","_latest_wx_ad_callbacks"],(function(e){e in sd.store._state.props&&delete sd.store._state.props[e]}))})),sd.register(a),sd.para.preset_properties.latest_utm){var i=_.info.campaignParamsStandard("$latest_","_latest_"),o=i.$utms,s=i.otherUtms;_.isEmptyObject(o)||sd.register(o),_.isEmptyObject(s)||sd.register(s)}}};sd.bridge={is_verify_success:!1,initPara:function(){var e={is_send:!0,white_list:[],is_mui:!1};"object"==typeof sd.para.app_js_bridge?sd.para.app_js_bridge=_.extend({},e,sd.para.app_js_bridge):!0===sd.para.use_app_track||!0===sd.para.app_js_bridge||"only"===sd.para.use_app_track?(!1!==sd.para.use_app_track_is_send&&"only"!==sd.para.use_app_track||(e.is_send=!1),sd.para.app_js_bridge=_.extend({},e)):"mui"===sd.para.use_app_track&&(e.is_mui=!0,sd.para.app_js_bridge=_.extend({},e)),!1===sd.para.app_js_bridge.is_send&&sd.log("\u8bbe\u7f6e\u4e86 is_send:false,\u5982\u679c\u6253\u901a\u5931\u8d25\uff0c\u6570\u636e\u5c06\u88ab\u4e22\u5f03\uff01")},initState:function(){function e(e){function t(e){var t={hostname:"",project:""};try{t.hostname=_.URL(e).hostname,t.project=_.URL(e).searchParams.get("project")||"default"}catch(e){sd.log(e)}return t}var r=t(e),n=t(sd.para.server_url);if(r.hostname===n.hostname&&r.project===n.project)return!0;if(sd.para.app_js_bridge.white_list.length>0)for(var a=0;a<sd.para.app_js_bridge.white_list.length;a++){var i=t(sd.para.app_js_bridge.white_list[a]);if(i.hostname===r.hostname&&i.project===r.project)return!0}return!1}if(_.isObject(sd.para.app_js_bridge)&&!sd.para.app_js_bridge.is_mui)if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&_.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)e(window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)&&(sd.bridge.is_verify_success=!0);else if(_.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track){var t=window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url();t&&e(t)&&(sd.bridge.is_verify_success=!0)}},initDefineBridgeInfo:function(){var e={touch_app_bridge:!0,verify_success:!1};return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&_.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url||_.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track?sd.bridge.is_verify_success?e.verify_success="success":e.verify_success="fail":"object"==typeof SensorsData_APP_JS_Bridge&&(SensorsData_APP_JS_Bridge.sensorsdata_verify&&SensorsData_APP_JS_Bridge.sensorsdata_visual_verify||SensorsData_APP_JS_Bridge.sensorsdata_track)?SensorsData_APP_JS_Bridge.sensorsdata_verify&&SensorsData_APP_JS_Bridge.sensorsdata_visual_verify?SensorsData_APP_JS_Bridge.sensorsdata_visual_verify(JSON.stringify({server_url:sd.para.server_url}))?e.verify_success="success":e.verify_success="fail":e.verify_success="success":!/sensors-verify/.test(navigator.userAgent)&&!/sa-sdk-ios/.test(navigator.userAgent)||window.MSStream?e.touch_app_bridge=!1:sd.bridge.iOS_UA_bridge()?e.verify_success="success":e.verify_success="fail",e},iOS_UA_bridge:function(){if(/sensors-verify/.test(navigator.userAgent)){var e=navigator.userAgent.match(/sensors-verify\/([^\s]+)/);if(e&&e[0]&&"string"==typeof e[1]&&2===e[1].split("?").length){e=e[1].split("?");var t=null,r=null;try{t=_.URL(sd.para.server_url).hostname,r=_.URL(sd.para.server_url).searchParams.get("project")||"default"}catch(e){sd.log(e)}return!(!t||t!==e[0]||!r||r!==e[1])}return!1}return!!/sa-sdk-ios/.test(navigator.userAgent)},dataSend:function(e,t,r){if(_.isObject(sd.para.app_js_bridge)&&!sd.para.app_js_bridge.is_mui)if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&_.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)sd.bridge.is_verify_success?(window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify({callType:"app_h5_track",data:_.extend({server_url:sd.para.server_url},e)})),"function"==typeof r&&r()):sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"4.1",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r();else if(_.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track)sd.bridge.is_verify_success?(SensorsData_APP_New_H5_Bridge.sensorsdata_track(JSON.stringify(_.extend({server_url:sd.para.server_url},e))),"function"==typeof r&&r()):sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"4.2",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r();else if("object"==typeof SensorsData_APP_JS_Bridge&&(SensorsData_APP_JS_Bridge.sensorsdata_verify||SensorsData_APP_JS_Bridge.sensorsdata_track))SensorsData_APP_JS_Bridge.sensorsdata_verify?SensorsData_APP_JS_Bridge.sensorsdata_verify(JSON.stringify(_.extend({server_url:sd.para.server_url},e)))?"function"==typeof r&&r():sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"3.1",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r():(SensorsData_APP_JS_Bridge.sensorsdata_track(JSON.stringify(_.extend({server_url:sd.para.server_url},e))),"function"==typeof r&&r());else if(!/sensors-verify/.test(navigator.userAgent)&&!/sa-sdk-ios/.test(navigator.userAgent)||window.MSStream)_.isObject(sd.para.app_js_bridge)&&!0===sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"2",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r();else{var n=null;sd.bridge.iOS_UA_bridge()?((n=document.createElement("iframe")).setAttribute("src","sensorsanalytics://trackEvent?event="+encodeURIComponent(JSON.stringify(_.extend({server_url:sd.para.server_url},e)))),document.documentElement.appendChild(n),n.parentNode.removeChild(n),n=null,"function"==typeof r&&r()):sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"3.2",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r()}else _.isObject(sd.para.app_js_bridge)&&sd.para.app_js_bridge.is_mui?_.isObject(window.plus)&&window.plus.SDAnalytics&&window.plus.SDAnalytics.trackH5Event?(window.plus.SDAnalytics.trackH5Event(data),"function"==typeof r&&r()):_.isObject(sd.para.app_js_bridge)&&!0===sd.para.app_js_bridge.is_send?t.prepareServerUrl():"function"==typeof r&&r():(sd.debug.apph5({data:e,step:"1",output:"code"}),t.prepareServerUrl())},app_js_bridge_v1:function(){var e=null,t=null;window.sensorsdata_app_js_bridge_call_js=function(r){!function(r){e=r,_.isJSONString(e)&&(e=JSON.parse(e)),t&&(t(e),t=null,e=null)}(r)},sd.getAppStatus=function(r){if(function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var e=document.createElement("iframe");e.setAttribute("src","sensorsanalytics://getAppInfo"),document.documentElement.appendChild(e),e.parentNode.removeChild(e),e=null}}(),"object"==typeof window.SensorsData_APP_JS_Bridge&&window.SensorsData_APP_JS_Bridge.sensorsdata_call_app&&(e=SensorsData_APP_JS_Bridge.sensorsdata_call_app(),_.isJSONString(e)&&(e=JSON.parse(e))),!r)return e;null===e?t=r:(r(e),e=null)}},supportAppCallJs:function(){window.sensorsdata_app_call_js=function(e,t){e in window.sensorsdata_app_call_js.modules&&window.sensorsdata_app_call_js.modules[e](t)},window.sensorsdata_app_call_js.modules={}}},sd.JSBridge=function(e){this.list={},this.type=e.type,this.app_call_js=_.isFunction(e.app_call_js)?e.app_call_js:function(){},this.init()},sd.JSBridge.prototype.init=function(){var e=this;window.sensorsdata_app_call_js.modules[this.type]||(window.sensorsdata_app_call_js.modules[this.type]=function(t){e.app_call_js(t)})},sd.JSBridge.prototype.jsCallApp=function(e){var t={callType:this.type,data:e};if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage)window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(t));else{if(!_.isObject(window.SensorsData_APP_New_H5_Bridge)||!window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app)return sd.log("\u6570\u636e\u53d1\u5f80App\u5931\u8d25\uff0cApp\u6ca1\u6709\u66b4\u9732bridge"),!1;window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app(JSON.stringify(t))}},sd.JSBridge.prototype.hasAppBridge=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage?"ios":_.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app?"android":(sd.log("App\u7aefbridge\u672a\u66b4\u9732"),!1)},sd.JSBridge.prototype.requestToApp=function(e){var t=this,r=_.isObject(e.data)?e.data:{};_.isFunction(e.callback)||(e.callback=function(){}),_.isObject(e.timeout)&&_.isNumber(e.timeout.time)&&(_.isFunction(e.timeout.callback)||(e.timeout.callback=function(){}),e.timer=setTimeout((function(){e.timeout.callback(),delete t.list[n]}),e.timeout.time));var n=(new Date).getTime().toString(16)+"-"+String(Math.random()).replace(".","").slice(1,8);this.list[n]=e;var a={callType:this.type,data:r};if(a.data.message_id=n,window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage)window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(a));else{if(!_.isObject(window.SensorsData_APP_New_H5_Bridge)||!window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app)return sd.log("\u6570\u636e\u53d1\u5f80App\u5931\u8d25\uff0cApp\u6ca1\u6709\u66b4\u9732bridge"),!1;window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app(JSON.stringify(a))}},sd.JSBridge.prototype.double=function(e){if(e.message_id){var t=this.list[e.message_id];t&&(t.timer&&clearTimeout(t.timer),t.callback(e),delete this.list[e.message_id])}};var heatmap=sd.heatmap={setNotice:function(e){sd.is_heatmap_render_mode=!0,sd.para.heatmap||(sd.errorMsg="\u60a8SDK\u6ca1\u6709\u914d\u7f6e\u5f00\u542f\u70b9\u51fb\u56fe\uff0c\u53ef\u80fd\u6ca1\u6709\u6570\u636e\uff01"),e&&e[0]&&e[1]&&"http:"===e[1].slice(0,5)&&"https:"===location.protocol&&(sd.errorMsg="\u60a8\u7684\u5f53\u524d\u9875\u9762\u662fhttps\u7684\u5730\u5740\uff0c\u795e\u7b56\u5206\u6790\u73af\u5883\u4e5f\u5fc5\u987b\u662fhttps\uff01"),sd.para.heatmap_url||(sd.para.heatmap_url=location.protocol+"//static.sensorsdata.cn/sdk/"+sd.lib_version+"/heatmap.min.js")},getDomIndex:function(e){if(!e.parentNode)return-1;for(var t=0,r=e.tagName,n=e.parentNode.children,a=0;a<n.length;a++)if(n[a].tagName===r){if(e===n[a])return t;t++}return-1},selector:function(e){var t=e.parentNode&&9==e.parentNode.nodeType?-1:this.getDomIndex(e);return e.getAttribute&&e.getAttribute("id")&&(!sd.para.heatmap||sd.para.heatmap&&"not_use_id"!==sd.para.heatmap.element_selector)?"#"+e.getAttribute("id"):e.tagName.toLowerCase()+(~t?":nth-of-type("+(t+1)+")":"")},getDomSelector:function(e,t){if(!e||!e.parentNode||!e.parentNode.children)return!1;t=t&&t.join?t:[];var r=e.nodeName.toLowerCase();return e&&"body"!==r&&1==e.nodeType?(t.unshift(this.selector(e)),e.getAttribute&&e.getAttribute("id")&&sd.para.heatmap&&"not_use_id"!==sd.para.heatmap.element_selector?t.join(" > "):this.getDomSelector(e.parentNode,t)):(t.unshift("body"),t.join(" > "))},na:function(){var e=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(e)?0:e,10)},i:function(){var e=0;try{e=o.documentElement&&o.documentElement.scrollTop||m.pageYOffset,e=isNaN(e)?0:e}catch(t){e=0}return parseInt(e,10)},getBrowserWidth:function(){var e=window.innerWidth||document.body.clientWidth;return isNaN(e)?0:parseInt(e,10)},getBrowserHeight:function(){var e=window.innerHeight||document.body.clientHeight;return isNaN(e)?0:parseInt(e,10)},getScrollWidth:function(){var e=parseInt(document.body.scrollWidth,10);return isNaN(e)?0:e},W:function(e){var t=parseInt(+e.clientX+ +this.na(),10);return e=parseInt(+e.clientY+ +this.i(),10),{x:isNaN(t)?0:t,y:isNaN(e)?0:e}},start:function(e,t,r,n,a){var i=_.isObject(n)?n:{},o=_.isFunction(a)?a:_.isFunction(n)?n:void 0;if(sd.para.heatmap&&sd.para.heatmap.collect_element&&!sd.para.heatmap.collect_element(t))return!1;var s=this.getDomSelector(t),l=_.getEleInfo({target:t});if(l.$element_selector=s||"",sd.para.heatmap&&sd.para.heatmap.custom_property){var c=sd.para.heatmap.custom_property(t);_.isObject(c)&&(l=_.extend(l,c))}l=_.extend(l,i),"a"===r&&sd.para.heatmap&&!0===sd.para.heatmap.isTrackLink?_.trackLink({event:e,target:t},"$WebClick",l):sd.track("$WebClick",l,o)},hasElement:function(e){var t=e._getPath();if(_.isArray(t)&&t.length>0)for(var r=0;r<t.length;r++)if(t[r]&&t[r].tagName&&"a"===t[r].tagName.toLowerCase())return t[r];return!1},isStyleTag:function(e,t){return!(_.indexOf(["a","div","input","button","textarea"],e)>-1)&&(!t||sd.para.heatmap&&sd.para.heatmap.collect_tags&&sd.para.heatmap.collect_tags.div?!!(_.isObject(sd.para.heatmap)&&_.isObject(sd.para.heatmap.collect_tags)&&_.isObject(sd.para.heatmap.collect_tags.div)&&_.indexOf(sd.para.heatmap.collect_tags.div.ignore_tags,e)>-1):_.indexOf(["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"],e)>-1)},isCollectableDiv:function(e,t){try{if(0===e.children.length)return!0;for(var r=0;r<e.children.length;r++)if(1===e.children[r].nodeType){var n=e.children[r].tagName.toLowerCase();if(!this.isStyleTag(n,t))return!1;if(!this.isCollectableDiv(e.children[r],t))return!1}return!0}catch(e){sd.log(e)}return!1},getCollectableParent:function(e,t){try{var r=e.parentNode,n=r?r.tagName.toLowerCase():"";if("body"===n)return!1;if(n&&"div"===n&&this.isCollectableDiv(r,t))return r;if(r&&this.isStyleTag(n,t))return this.getCollectableParent(r,t)}catch(e){sd.log(e)}return!1},initScrollmap:function(){if(!_.isObject(sd.para.heatmap)||"default"!==sd.para.heatmap.scroll_notice_map)return!1;var e=function(){return!(sd.para.scrollmap&&_.isFunction(sd.para.scrollmap.collect_url)&&!sd.para.scrollmap.collect_url())},t=function(e){var t={};return t.timeout=e.timeout||1e3,t.func=e.func,t.hasInit=!1,t.inter=null,t.main=function(e,t){this.func(e,t),this.inter=null},t.go=function(e){var r={};this.inter||(r.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,r.$viewport_position=Math.round(r.$viewport_position)||0,r.$viewport_height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,r.$viewport_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,e?t.main(r,!0):this.inter=setTimeout((function(){t.main(r)}),this.timeout))},t}({timeout:1e3,func:function(e,t){var r=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,n=new Date,a=n-this.current_time;(a>sd.para.heatmap.scroll_delay_time&&r-e.$viewport_position!=0||t)&&(e.$url=location.href,e.$title=document.title,e.$url_path=location.pathname,e.event_duration=Math.min(sd.para.heatmap.scroll_event_duration,parseInt(a)/1e3),sd.track("$WebStay",e)),this.current_time=n}});t.current_time=new Date,_.addEvent(window,"scroll",(function(){if(!e())return!1;t.go()})),_.addEvent(window,"unload",(function(){if(!e())return!1;t.go("notime")}))},initHeatmap:function(){var e=this;return!(!_.isObject(sd.para.heatmap)||"default"!==sd.para.heatmap.clickmap)&&!(_.isFunction(sd.para.heatmap.collect_url)&&!sd.para.heatmap.collect_url())&&("all"===sd.para.heatmap.collect_elements?sd.para.heatmap.collect_elements="all":sd.para.heatmap.collect_elements="interact",void("all"===sd.para.heatmap.collect_elements?_.addEvent(document,"click",(function(t){var r=t||window.event;if(!r)return!1;var n=r.target||r.srcElement;if("object"!=typeof n)return!1;if("string"!=typeof n.tagName)return!1;var a=n.tagName.toLowerCase();if("body"===a||"html"===a)return!1;if(!n||!n.parentNode||!n.parentNode.children)return!1;var i=n.parentNode.tagName.toLowerCase();"a"===i||"button"===i?e.start(r,n.parentNode,i):e.start(r,n,a)})):_.addEvent(document,"click",(function(t){var r=t||window.event;if(!r)return!1;var n=r.target||r.srcElement;if("object"!=typeof n)return!1;if("string"!=typeof n.tagName)return!1;var a=n.tagName.toLowerCase();if("body"===a.toLowerCase()||"html"===a.toLowerCase())return!1;if(!n||!n.parentNode||!n.parentNode.children)return!1;var i=n.parentNode,o=e.hasElement(t),s=sd.para.heatmap.track_attr;if("a"===a||"button"===a||"input"===a||"textarea"===a||_.hasAttributes(n,s))e.start(r,n,a);else if("button"===i.tagName.toLowerCase()||"a"===i.tagName.toLowerCase())e.start(r,i,n.parentNode.tagName.toLowerCase());else if("area"===a&&"map"===i.tagName.toLowerCase()&&_.ry(i).prev().tagName&&"img"===_.ry(i).prev().tagName.toLowerCase())e.start(r,_.ry(i).prev(),_.ry(i).prev().tagName.toLowerCase());else if(o)e.start(r,o,o.tagName.toLowerCase());else if("div"===a&&sd.para.heatmap.collect_tags.div&&e.isCollectableDiv(n))e.start(r,n,a);else if(e.isStyleTag(a)&&sd.para.heatmap.collect_tags.div){var l=e.getCollectableParent(n);l&&e.start(r,l,"div")}}))))}};sd.init=function(e){if(sd.readyState&&sd.readyState.state&&sd.readyState.state>=2)return!1;sd.setInitVar(),sd.readyState.setState(2),sd.initPara(e),sd.bridge.supportAppCallJs(),sd.detectMode(),sd._.isIOS()&&sd._.getIOSVersion()&&sd._.getIOSVersion()<13&&(sd.para.heatmap&&sd.para.heatmap.collect_tags&&sd.para.heatmap.collect_tags.div&&sd._.setCssStyle("div, [data-sensors-click] { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }"),sd.para.heatmap&&sd.para.heatmap.track_attr&&sd._.setCssStyle("["+sd.para.heatmap.track_attr.join("], [")+"] { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }"))};var methods=["getAppStatus","track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","login","logout","trackLink","clearAllRegister"];if(_.each(methods,(function(e){var t=sd[e];sd[e]=function(){if(sd.readyState.state<3)return _.isArray(sd._q)||(sd._q=[]),sd._q.push([e,arguments]),!1;if(sd.readyState.getState())return t.apply(sd,arguments);try{console.error("\u8bf7\u5148\u521d\u59cb\u5316\u795e\u7b56JS SDK")}catch(e){sd.log(e)}}})),sd.modules.Deeplink=function(){"use strict";/micromessenger\/([\d.]+)/i.test(navigator.userAgent||"");var e,t=function(){var e={};return void 0!==document.hidden?(e.hidden="hidden",e.visibilityChange="visibilitychange"):void 0!==document.msHidden?(e.hidden="msHidden",e.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(e.hidden="webkitHidden",e.visibilityChange="webkitvisibilitychange"),e};function r(){return void 0!==e&&document[e]}e=t().hidden;var n={android:/Android/i,iOS:/iPhone|iPad|iPod/i},a=function(){for(var e in n)if(navigator.userAgent.match(n[e]))return e;return""}(),i=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},o={key:null,timer:null,sd:null,data:null,timeout:2500,apiURL:"{origin}/sdk/deeplink/param?key={key}&system_type=JS&project={project}",init:function(){if(this.sd)return this.log("deeplink\u5df2\u7ecf\u521d\u59cb\u5316"),!1;if(i(sensorsDataAnalytic201505)&&(this.sd=sensorsDataAnalytic201505),this.log("init()"),null===this.sd)return this.log("\u795e\u7b56JS SDK\u672a\u6210\u529f\u5f15\u5165"),!1;var e={};if(arguments.length>0&&(1===arguments.length&&i(arguments[0])?e=arguments[0]:arguments.length>=2&&i(arguments[1])&&(e=arguments[1])),!n.hasOwnProperty(a))return this.log("\u4e0d\u652f\u6301\u5f53\u524d\u7cfb\u7edf\uff0c\u76ee\u524d\u53ea\u652f\u6301Android\u548ciOS"),!1;if(i(e)&&this.sd._.isNumber(e.timeout)&&e.timeout>=2500&&(this.timeout=e.timeout),!this.sd.para.server_url)return this.log("\u795e\u7b56JS SDK\u914d\u7f6e\u9879server_url\u672a\u6b63\u786e\u914d\u7f6e"),!1;var t,r,s={origin:(r=(t=this.sd)._.URL(t.para.server_url)).origin,project:r.searchParams.get("project")||"default"};this.apiURL=this.apiURL.replace("{origin}",s.origin).replace("{project}",s.project);var l=this.sd._.URL(window.location.href).searchParams.get("deeplink");if(!l)return this.log("\u5f53\u524d\u9875\u9762\u7f3a\u5c11deeplink\u53c2\u6570"),!1;var c=(l=window.decodeURIComponent(l)).match(/\/sd\/(\w+)\/(\w+)$/);if(!c)return this.log("\u5f53\u524d\u9875\u9762\u7684deeplink\u53c2\u6570\u65e0\u6548"),!1;this.key=c[2],this.apiURL=this.apiURL.replace("{key}",window.encodeURIComponent(c[2])),this.sd._.ajax({url:this.apiURL,type:"GET",cors:!0,credentials:!1,success:function(e){if(e.errorMsg)return o.log("API\u62a5\u9519\uff1a"+e.errorMsg),!1;o.data=e,o.log("API\u67e5\u8be2\u6210\u529f\uff0c\u6570\u636e\uff1a"+JSON.stringify(e,null,"  ")),this.data.app_key&&(this.data.android_info&&this.data.android_info.url_schemes&&(this.data.android_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key),this.data.ios_info&&this.data.ios_info.url_schemes&&(this.data.ios_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key))}.bind(this),error:function(e){o.log("API\u67e5\u8be2\u51fa\u9519")}}),this.addListeners()},openDeepLink:function(){if(this.log("openDeeplink()"),!this.data)return this.log("\u6ca1\u6709Deep link\u6570\u636e!"),!1;if("iOS"===a){this.log("\u5f53\u524d\u7cfb\u7edf\u662fiOS");var t=this.sd&&this.sd._&&this.sd._.getIOSVersion()>=9&&this.data.ios_info.ios_wake_url?this.data.ios_info.ios_wake_url:this.data.ios_info.url_schemes;this.log("\u5524\u8d77APP\u7684\u5730\u5740\uff1a"+t),n=this,i=t,o=this.data.ios_info.download_url,n.log("\u5c1d\u8bd5\u5524\u8d77 iOS app:"+i),window.location.href=i,n.timer=setTimeout((function(){if(r())return n.log("The page is hidden, stop navigating to download page"),!1;n.log("App\u53ef\u80fd\u672a\u5b89\u88c5\uff0c\u8df3\u8f6c\u5230\u4e0b\u8f7d\u5730\u5740"),window.location.href=o}),n.timeout),n.log("new timer:"+n.timer)}else this.log("\u5f53\u524d\u7cfb\u7edf\u662f android"),function(t,n,a){t.log("\u5c1d\u8bd5\u5524\u8d77 android app");var i=n;t.log("\u5524\u8d77APP\u7684\u5730\u5740\uff1a"+i),window.location=i,t.timer=setTimeout((function(){var n=r();if(t.log("hide:"+e+":"+document[e]),n)return t.log("The page is hidden, stop navigating to download page"),!1;t.log("App\u53ef\u80fd\u672a\u5b89\u88c5\uff0c\u8df3\u8f6c\u5230\u4e0b\u8f7d\u5730\u5740"),window.location=a}),t.timeout)}(this,this.data.android_info.url_schemes,this.data.android_info.download_url);var n,i,o},log:function(e){this.sd&&this.sd.log(e)},addListeners:function(){var e=t().visibilityChange;e&&document.addEventListener(e,function(){clearTimeout(this.timer),this.log("visibilitychange, clear timeout:"+this.timer)}.bind(this),!1),window.addEventListener("pagehide",function(){this.log("page hide, clear timeout:"+this.timer),clearTimeout(this.timer)}.bind(this),!1)}};return i(window.SensorsDataWebJSSDKPlugin)?(window.SensorsDataWebJSSDKPlugin.Deeplink=window.SensorsDataWebJSSDKPlugin.Deeplink||o,window.SensorsDataWebJSSDKPlugin.deeplink=window.SensorsDataWebJSSDKPlugin.deeplink||o):window.SensorsDataWebJSSDKPlugin={Deeplink:o,deeplink:o},o}(),sd.modules.Fingerprint=function(){"use strict";var e=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},t=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},r=function(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},n=function(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},a=function(e,t){return[e[0]^t[0],e[1]^t[1]]},i=function(e){return e=a(e,[0,e[0]>>>1]),e=t(e,[4283543511,3981806797]),e=a(e,[0,e[0]>>>1]),e=t(e,[3301882366,444984403]),a(e,[0,e[0]>>>1])},o=function(e,t){if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t);else if(e.length===+e.length)for(var r=0,n=e.length;r<n;r++)t(e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&t(e[a],a,e)},s=function(e,t){var r=[];return null==e?r:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(o(e,(function(e,n,a){r.push(t(e,n,a))})),r)},l=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},c=function(e){if(e){var t=e.getExtension("WEBGL_lose_context");null!=t&&t.loseContext()}},u=function(){if(!l())return!1;var e=d(),t=!!window.WebGLRenderingContext&&!!e;return c(e),t},d=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},p={get:function(){if(l()){var e=[{key:"pixelDepth",data:this.getPixelDepth()},{key:"userAgent",data:this.getUA()},{key:"vendor",data:this.getVendor()},{key:"language",data:this.getLanguage()},{key:"colorDepth",data:this.getColorDepth()},{key:"pixelRatio",data:this.getPixelRatio()},{key:"hardwareConcurrency",data:this.getHardwareConcurrency()},{key:"screenResolution",data:this.getScreenResolution()},{key:"timezoneOffset",data:this.getTimezoneOffset()},{key:"timezone",data:this.getTimezone()},{key:"sessionStorage",data:this.getSessionStorage()},{key:"localStorage",data:this.getLocalStorage()},{key:"indexedDb",data:this.getIndexedDb()},{key:"addBehavior",data:this.getAddBehavior()},{key:"openDatabase",data:this.getOpenDatabase()},{key:"cpuClass",data:this.getCpuClass()},{key:"platform",data:this.getPlatform()},{key:"doNotTrack",data:this.getDoNotTrack()},{key:"plugins",data:this.getPlugins()},{key:"canvas",data:this.getCanvas()},{key:"webgl",data:this.getWebgl()},{key:"webglVendorAndRenderer",data:this.getWebglVendorAndRenderer()},{key:"hasLiedLanguages",data:this.getHasLiedLanguages()},{key:"hasLiedResolution",data:this.getHasLiedResolution()},{key:"hasLiedOs",data:this.getHasLiedOs()},{key:"hasLiedBrowser",data:this.getHasLiedBrowser()},{key:"touchSupport",data:this.getTouchSupport()}];return s(e,(function(e,t,r){return e.key+":"+e.data}))}},getPixelRatio:function(){return window.devicePixelRatio||"not available"},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()},getTimezone:function(){return window.Intl&&window.Intl.DateTimeFormat&&(new window.Intl.DateTimeFormat).resolvedOptions().timeZone||"not available"},getSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return"error"}},getLocalStorage:function(){try{return!!window.localStorage}catch(e){return"error"}},getIndexedDb:function(){if(("msWriteProfilerMark"in window)+("msLaunchUri"in navigator)+("msSaveBlob"in navigator)>=2)return"excluded";try{return!!window.indexedDB}catch(e){return"error"}},getAddBehavior:function(){return!!window.HTMLElement.prototype.addBehavior},getOpenDatabase:function(){return!!window.openDatabase},getPlugins:function(){return"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?"excluded":this.getRegularPlugins()},getRegularPlugins:function(){if(null==navigator.plugins)return"not available";for(var e=[],t=0,r=navigator.plugins.length;t<r;t++)navigator.plugins[t]&&e.push(navigator.plugins[t]);return s(e,(function(e){var t=s(e,(function(e){return[e.type,e.suffixes]}));return[e.name,e.description,t]})).join("_")},getWebgl:function(){return u()?function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"};if(!(e=d()))return null;var r=[],n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n);var a=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW),n.itemSize=3,n.numItems=3;var i=e.createProgram(),s=e.createShader(e.VERTEX_SHADER);e.shaderSource(s,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(s);var l=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(l,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(l),e.attachShader(i,s),e.attachShader(i,l),e.linkProgram(i),e.useProgram(i),i.vertexPosAttrib=e.getAttribLocation(i,"attrVertex"),i.offsetUniform=e.getUniformLocation(i,"uniformOffset"),e.enableVertexAttribArray(i.vertexPosArray),e.vertexAttribPointer(i.vertexPosAttrib,n.itemSize,e.FLOAT,!1,0,0),e.uniform2f(i.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,n.numItems);try{r.push(e.canvas.toDataURL())}catch(e){}r.push("extensions:"+(e.getSupportedExtensions()||[]).join(";")),r.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),r.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),r.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),r.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),r.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),r.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),r.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),r.push("webgl max anisotropy:"+function(e){var t=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");if(t){var r=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===r&&(r=2),r}return null}(e)),r.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),r.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),r.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),r.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),r.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),r.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),r.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),r.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),r.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),r.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),r.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),r.push("webgl red bits:"+e.getParameter(e.RED_BITS)),r.push("webgl renderer:"+e.getParameter(e.RENDERER)),r.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),r.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),r.push("webgl vendor:"+e.getParameter(e.VENDOR)),r.push("webgl version:"+e.getParameter(e.VERSION));try{var u=e.getExtension("WEBGL_debug_renderer_info");u&&(r.push("webgl unmasked vendor:"+e.getParameter(u.UNMASKED_VENDOR_WEBGL)),r.push("webgl unmasked renderer:"+e.getParameter(u.UNMASKED_RENDERER_WEBGL)))}catch(e){}return e.getShaderPrecisionFormat?(o(["FLOAT","INT"],(function(t){o(["VERTEX","FRAGMENT"],(function(n){o(["HIGH","MEDIUM","LOW"],(function(a){o(["precision","rangeMin","rangeMax"],(function(i){var o=e.getShaderPrecisionFormat(e[n+"_SHADER"],e[a+"_"+t])[i];"precision"!==i&&(i="precision "+i);var s=["webgl ",n.toLowerCase()," shader ",a.toLowerCase()," ",t.toLowerCase()," ",i,":",o].join("");r.push(s)}))}))}))})),c(e),r.join("_")):(c(e),r)}():"not available"},getWebglVendorAndRenderer:function(){return u()?function(){try{var e=d(),t=e.getExtension("WEBGL_debug_renderer_info"),r=e.getParameter(t.UNMASKED_VENDOR_WEBGL)+"~"+e.getParameter(t.UNMASKED_RENDERER_WEBGL);return c(e),r}catch(e){return null}}():"not available"},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},getHasLiedResolution:function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},getHasLiedOs:function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.oscpu,n=navigator.platform.toLowerCase();if(e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("windows")>=0||t.indexOf("win16")>=0||t.indexOf("win32")>=0||t.indexOf("win64")>=0||t.indexOf("win95")>=0||t.indexOf("win98")>=0||t.indexOf("winnt")>=0||t.indexOf("wow64")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0||t.indexOf("cros")>=0||t.indexOf("x11")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0||t.indexOf("ipod")>=0||t.indexOf("crios")>=0||t.indexOf("fxios")>=0?"iOS":t.indexOf("macintosh")>=0||t.indexOf("mac_powerpc)")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows"!==e&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e&&-1===t.indexOf("cros"))return!0;if(void 0!==r){if((r=r.toLowerCase()).indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(r.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(r.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===r.indexOf("win")&&-1===r.indexOf("linux")&&-1===r.indexOf("mac"))!=("Other"===e))return!0}return n.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||(n.indexOf("linux")>=0||n.indexOf("android")>=0||n.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||(n.indexOf("mac")>=0||n.indexOf("ipad")>=0||n.indexOf("ipod")>=0||n.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||!(n.indexOf("arm")>=0&&"Windows Phone"===e)&&!(n.indexOf("pike")>=0&&t.indexOf("opera mini")>=0)&&((n.indexOf("win")<0&&n.indexOf("linux")<0&&n.indexOf("mac")<0&&n.indexOf("iphone")<0&&n.indexOf("ipad")<0&&n.indexOf("ipod")<0)!==("Other"===e)||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e)},getHasLiedBrowser:function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.productSub;if(t.indexOf("edge/")>=0||t.indexOf("iemobile/")>=0)return!1;if(t.indexOf("opera mini")>=0)return!1;if(("Chrome"===(e=t.indexOf("firefox/")>=0?"Firefox":t.indexOf("opera/")>=0||t.indexOf(" opr/")>=0?"Opera":t.indexOf("chrome/")>=0?"Chrome":t.indexOf("safari/")>=0?t.indexOf("android 1.")>=0||t.indexOf("android 2.")>=0||t.indexOf("android 3.")>=0||t.indexOf("android 4.")>=0?"AOSP":"Safari":t.indexOf("trident/")>=0?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==r)return!0;var n,a=eval.toString().length;if(37===a&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===a&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===a&&"Chrome"!==e&&"AOSP"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(e){try{e.toSource(),n=!0}catch(e){n=!1}}return n&&"Firefox"!==e&&"Other"!==e},getColorDepth:function(){return window.screen.colorDepth||"not available"},getCpuClass:function(){return navigator.cpuClass||"not available"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"not available"},getHardwareConcurrency:function(){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"not available"},getPlatform:function(){return navigator.platform?navigator.platform:"not available"},getScreenResolution:function(){var e=[window.screen.width,window.screen.height];return e.sort().reverse(),e.join("_")},getPixelDepth:function(){return window.screen.pixelDepth||"not available"},getTouchSupport:function(){var e,t=0;void 0!==navigator.maxTouchPoints?t=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(t=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return[t,e,"ontouchstart"in window].join("_")},getVendor:function(){return window.navigator.vendor},getCanvas:function(){return l()?this.getCanvasFp():""},getCanvasFp:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var r=t.getContext("2d");return r.rect(0,0,10,10),r.rect(2,2,6,6),e.push("canvas winding:"+(!1===r.isPointInPath(5,5,"evenodd")?"yes":"no")),r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",r.font="11pt no-real-font-123",r.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",2,15),r.fillStyle="rgba(102, 204, 0, 0.2)",r.font="18pt Arial",r.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",4,45),r.globalCompositeOperation="multiply",r.fillStyle="rgb(255,0,255)",r.beginPath(),r.arc(50,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(0,255,255)",r.beginPath(),r.arc(100,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,255,0)",r.beginPath(),r.arc(75,100,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,0,255)",r.arc(75,75,75,0,2*Math.PI,!0),r.arc(75,75,25,0,2*Math.PI,!0),r.fill("evenodd"),t.toDataURL&&e.push("canvas fp:"+t.toDataURL()),e.join("_")},getUA:function(){return navigator.userAgent},getLanguage:function(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}},f={sd:null,init:function(o,s){return this.sd?(this.sd.log("fingerprint\u63d2\u4ef6\u5df2\u7ecf\u521d\u59cb\u5316"),!1):(this.sd=o,this.sd.log("init()"),!1===l()?(this.sd.log("\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Canvas, fingerprint\u63d2\u4ef6\u505c\u6b62\u6267\u884c"),!1):void this.sd.quick("isReady",(function(){var o="sasdkfp-"+function(o,s){s=s||0;for(var l=(o=o||"").length%16,c=o.length-l,u=[0,s],d=[0,s],p=[0,0],f=[0,0],m=[2277735313,289559509],g=[1291169091,658871167],h=0;h<c;h+=16)p=[255&o.charCodeAt(h+4)|(255&o.charCodeAt(h+5))<<8|(255&o.charCodeAt(h+6))<<16|(255&o.charCodeAt(h+7))<<24,255&o.charCodeAt(h)|(255&o.charCodeAt(h+1))<<8|(255&o.charCodeAt(h+2))<<16|(255&o.charCodeAt(h+3))<<24],f=[255&o.charCodeAt(h+12)|(255&o.charCodeAt(h+13))<<8|(255&o.charCodeAt(h+14))<<16|(255&o.charCodeAt(h+15))<<24,255&o.charCodeAt(h+8)|(255&o.charCodeAt(h+9))<<8|(255&o.charCodeAt(h+10))<<16|(255&o.charCodeAt(h+11))<<24],p=t(p,m),p=r(p,31),p=t(p,g),u=a(u,p),u=r(u,27),u=e(u,d),u=e(t(u,[0,5]),[0,1390208809]),f=t(f,g),f=r(f,33),f=t(f,m),d=a(d,f),d=r(d,31),d=e(d,u),d=e(t(d,[0,5]),[0,944331445]);switch(p=[0,0],f=[0,0],l){case 15:f=a(f,n([0,o.charCodeAt(h+14)],48));case 14:f=a(f,n([0,o.charCodeAt(h+13)],40));case 13:f=a(f,n([0,o.charCodeAt(h+12)],32));case 12:f=a(f,n([0,o.charCodeAt(h+11)],24));case 11:f=a(f,n([0,o.charCodeAt(h+10)],16));case 10:f=a(f,n([0,o.charCodeAt(h+9)],8));case 9:f=a(f,[0,o.charCodeAt(h+8)]),f=t(f,g),f=r(f,33),f=t(f,m),d=a(d,f);case 8:p=a(p,n([0,o.charCodeAt(h+7)],56));case 7:p=a(p,n([0,o.charCodeAt(h+6)],48));case 6:p=a(p,n([0,o.charCodeAt(h+5)],40));case 5:p=a(p,n([0,o.charCodeAt(h+4)],32));case 4:p=a(p,n([0,o.charCodeAt(h+3)],24));case 3:p=a(p,n([0,o.charCodeAt(h+2)],16));case 2:p=a(p,n([0,o.charCodeAt(h+1)],8));case 1:p=a(p,[0,o.charCodeAt(h)]),p=t(p,m),p=r(p,31),p=t(p,g),u=a(u,p)}return u=a(u,[0,o.length]),d=a(d,[0,o.length]),u=e(u,d),d=e(d,u),u=i(u),d=i(d),u=e(u,d),d=e(d,u),("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)+("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)}(p.get().join(""),31);f.sd.log("fingerprint \u5df2\u7ecf\u751f\u6210:",o);var s=f.sd.quick("getAnonymousID");s===o||s.match(/^sasdkfp-\w+/)||(f.sd.log("anonymous_id \u548c\u751f\u6210\u7684 fingerprint \u4e0d\u4e00\u81f4\uff0c\u8c03\u7528 identify(). \u65e7ID\uff1a"+s),f.sd.identify(o,!0),f.sd.store.getFirstId()&&f.sd.saEvent.send({original_id:o,distinct_id:f.sd.store.getDistinctId(),type:"track_signup",event:"$SignUp",properties:{}},null))})))}};return"object"!=typeof window.SensorsDataWebJSSDKPlugin?window.SensorsDataWebJSSDKPlugin={Fingerprint:f}:window.SensorsDataWebJSSDKPlugin.Fingerprint=window.SensorsDataWebJSSDKPlugin.Fingerprint||f,f}(),sd.modules.SiteLinker=function(){"use strict";var e={getPart:function(e){var t=this.option.length;if(t)for(var r=0;r<t;r++)if(e.indexOf(this.option[r].part_url)>-1)return!0;return!1},getPartHash:function(e){var t=this.option.length;if(t)for(var r=0;r<t;r++)if(e.indexOf(this.option[r].part_url)>-1)return this.option[r].after_hash;return!1},getCurrenId:function(){var e=this.store.getDistinctId()||"",t=this.store.getFirstId()||"";return this._.urlSafeBase64&&this._.urlSafeBase64.encode?e=e?this._.urlSafeBase64.encode(_.base64Encode(e)):"":this._.rot13obfs&&(e=e?this._.rot13obfs(e):""),encodeURIComponent(t?"f"+e:"d"+e)},rewireteUrl:function(e,t){var r=/([^?#]+)(\?[^#]*)?(#.*)?/.exec(e),n="";if(r){var a,i=r[1]||"",o=r[2]||"",s=r[3]||"";return this.getPartHash(e)?(a=s.indexOf("_sasdk"),n=s.indexOf("?")>-1?a>-1?i+o+"#"+s.substring(1,a)+"_sasdk="+this.getCurrenId():i+o+"#"+s.substring(1)+"&_sasdk="+this.getCurrenId():i+o+"#"+s.substring(1)+"?_sasdk="+this.getCurrenId()):(a=o.indexOf("_sasdk"),n=/^\?(\w)+/.test(o)?a>-1?i+"?"+o.substring(1,a)+"_sasdk="+this.getCurrenId()+s:i+"?"+o.substring(1)+"&_sasdk="+this.getCurrenId()+s:i+"?"+o.substring(1)+"_sasdk="+this.getCurrenId()+s),t&&(t.href=n),n}},getUrlId:function(){var e=location.href.match(/_sasdk=([aufd][^\?\#\&\=]+)/);if(this._.isArray(e)&&e[1]){var t=decodeURIComponent(e[1]);return!t||"f"!==t.substring(0,1)&&"d"!==t.substring(0,1)||(this._.urlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64(t)?t=t.substring(0,1)+_.base64Decode(this._.urlSafeBase64.decode(t.substring(1))):this._.rot13defs&&(t=t.substring(0,1)+this._.rot13defs(t.substring(1)))),t}return""},setRefferId:function(){var e=this.store.getDistinctId(),t=this.getUrlId();if(""===t)return!1;var r="a"===t.substring(0,1)||"d"===t.substring(0,1);if((t=t.substring(1))===e)return!1;t&&r&&this.store.getFirstId()&&(this.sd.identify(t,!0),this.sd.saEvent.send({original_id:t,distinct_id:e,type:"track_signup",event:"$SignUp",properties:{}},null)),t&&r&&!this.store.getFirstId()&&this.sd.identify(t,!0),!t||r||this.store.getFirstId()||this.sd.login(t)},addListen:function(){var e=this;e._.addEvent(document,"mousedown",(function(t){var r=t.target;if("a"===r.tagName.toLowerCase()&&r.href){var n=e._.URL(r.href).protocol;"http:"!==n&&"https:"!==n||e.getPart(r.href)&&e.rewireteUrl(r.href,r)}}))},init:function(e,t){this.sd=e,this._=e._,this.store=e.store,this.para=e.para,this._.isObject(t)&&this._.isArray(t.linker)&&t.linker.length>0?(this.setRefferId(),this.addListen(),this.option=t.linker,this.option=function(t){for(var r=t.length,n=[],a=0;a<r;a++)/[A-Za-z0-9]+\./.test(t[a].part_url)&&"[object Boolean]"==Object.prototype.toString.call(t[a].after_hash)?n.push(t[a]):e.log("linker \u914d\u7f6e\u7684\u7b2c "+(a+1)+" \u9879\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u68c0\u67e5\u53c2\u6570\u683c\u5f0f\uff01");return n}(this.option)):e.log("\u8bf7\u914d\u7f6e\u6253\u901a\u57df\u540d\u53c2\u6570\uff01")}};return _.isObject(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.SiteLinker=window.SensorsDataWebJSSDKPlugin.SiteLinker||e:window.SensorsDataWebJSSDKPlugin={SiteLinker:e},e}(),"string"!=typeof window.sensorsDataAnalytic201505)return void 0===window.sensorsDataAnalytic201505?(window.sensorsDataAnalytic201505=sd,sd):window.sensorsDataAnalytic201505;sd.setPreConfig(window[sensorsDataAnalytic201505]),window[sensorsDataAnalytic201505]=sd,window.sensorsDataAnalytic201505=sd,sd.init()}catch(e){if("object"==typeof console&&console.log)try{console.log(e)}catch(e){sd.log(e)}}var T,ENC,DEC,ArrayProto,FuncProto,ObjProto,slice,toString,hasOwnProperty,nativeForEach,nativeIsArray,breaker,each},module.exports=e()},k6Km:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r("xIFI"),a=r.n(n),i=r("A7IO"),o=r("4gr6"),s=r("JLYw"),l=a().createElement;function c(){var e=(0,s.yk)().getI18n,t=(0,o.gN)(),r=(0,s.d0)();return l(i.Z,{i18n:e,contractInfo:t,changeSymbol:r})}},jEfw:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r("DtyY"),a=r("xIFI"),i=r.n(a),o=r("t26l"),s=r("XsYC"),l=r("S2LQ"),c=r("edhh"),u=r("0/U0"),d=r("4gr6"),p=r("xDxD"),f=r("wz6d"),m=r("Cijq"),g=r("HI97"),h=i().createElement,v=i().memo((function(e){var t=(0,d.QV)().isCoinUnit;return h(o.Z,null,(function(r){return r.isMobile?h(u.Z,Object.assign({},e,{getRenderRowConfig:function(e){return function(e){var t=e.median,r=e.quantityPrecision,n=e.decimalPlace,a=e.isCoinUnit,i=e.product;return function(e,o,s){var l=o[s],c=l.amount,u=l.total,d=l.price,p=i.equalQtyPrecision,m=void 0===p?1:p,h=i.contractVal,v={amount:a?(0,g.unitChangeCoinQty)({quantity:c,contractVal:h,price:d,precision:m}):(0,f.uf)(c,r),total:a?(0,g.unitChangeCoinQty)({quantity:Number(u),contractVal:h,price:d,precision:m}):(0,f.uf)(Number(u),n)};return{progress:Number(c)/Number(t),datas:e.map((function(e,t){var r=e.type;return{type:r,value:v[r]||null,style:{textAlign:0===t?"left":"right"}}}))}}}((0,n.Z)((0,n.Z)({},e),{},{isCoinUnit:t}))}})):h(c.Z,Object.assign({},e,{stream:(0,l.RU)(),getHeaderConfig:function(e){return function(e){var t=e.getI18n,r=e.quoteAsset,n=e.baseAsset,a=e.isCoinUnit;return[{type:"price",title:"".concat((0,m.xG)(t).price,"(").concat(r,")"),direction:"l",style:{flex:1,justifyContent:"flex-start"}},{type:"size",title:"".concat((0,m.xG)(t).size,"(").concat(a?n:t("Cont"),")"),direction:"r",style:{flex:1,justifyContent:"flex-end"}},{type:"sum",title:"".concat((0,m.xG)(t).sum,"(").concat(a?n:t("Cont"),")"),style:{flex:1,justifyContent:"flex-end"}}]}((0,n.Z)((0,n.Z)({},e),{},{isCoinUnit:t}))},getRenderRowConfig:function(e){return function(e){var t=e.maxSumRef,r=e.amountAskSum,n=e.quantityPrecision,a=e.isCoinUnit,i=e.product;return function(e,o,s,l){var c,u=(0,p.gm)(),d=i.equalQtyPrecision,m=void 0===d?1:d,h=i.contractVal,v=void 0===h?100:h,_=o[s],y=_.amount,x=_.sum,b=_.price,S=l?r-((null===(c=o[s-1])||void 0===c?void 0:c.sum)||0):x||0,w={size:a?(0,g.unitChangeCoinQty)({quantity:y,contractVal:v,price:b,precision:m}):(0,f.uf)(y,n),sum:a?(0,g.unitChangeCoinQty)({quantity:Number(S),contractVal:v,price:b,precision:m}):(0,f.uf)(Number(S),n)};return{progress:Number(S)/Number(t.current),datas:e.map((function(e,t){var r=e.type;return{type:r,value:w[r]||null,style:{textAlign:{ltr:0===t?"left":"right",rtl:0===t?"right":"left"}[u]}}}))}}}((0,n.Z)((0,n.Z)({},e),{},{isCoinUnit:t}))}}))}))}));const _=function(){return h(s.Z,{sdk:(0,l.RU)(),isDelivery:!0},h(v,null))}},NTbq:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r("xIFI"),a=r.n(n),i=r("Ng/A"),o=r("qN/k"),s=r("ACmA"),l=r("IvGC"),c=r("mm1D"),u=r("S2LQ"),d=r("atEC"),p=r("k6Km"),f=a().createElement,m={display:"grid",width:"100%",height:"100%",gridGap:"4px",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"35px 35px 35px",gridTemplateAreas:'"A B"\n                    "C D"\n                    "E F"'};const g=function(e){var t=e.type,r=e.children,n=(0,d.iq)({type:t}),a=n.list,g=n.fundingTimeProps,h=n.changeColor,v=n.change,_=n.priceColor,y=n.currentPrice,x=n.contractType;return f(i.Z,{sx:{px:["sm","sm",0],pt:["12px",0],pb:["12px",0]}},f(o.Z,null,f(s.Ar,{sx:{mr:["xs","0"],flex:"none",borderRight:"none",pr:["0","16px"],width:"50%"}},f(i.Z,{sx:{display:"flex",alignItems:"center",flex:1}},r),f(l.V,{priceColor:_,showPrice:y,differencePrice:v,color:h,fundingTimeProps:x!==u.Yp.PERPETUAL?void 0:g}),f(p.Z,null)),f(s.Ar,{sx:{flex:1}},f(c.Z,{layout:m,data:a}))))}},Wyme:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r("xIFI"),a=r.n(n),i=r("Ng/A"),o=r("2Y18"),s=r("mm1D"),l=r("OXhx"),c=r("k6Km"),u=r("3n0w"),d=r("atEC"),p=a().createElement;const f=function(e){var t=e.type,r=e.sx,n=e.children,a=(0,d.L8)({type:t}),f=a.list,m=a.priceColor,g=a.currentPrice;return p(i.Z,{sx:r},p(i.Z,{sx:{ml:"16px",display:"flex",alignItems:"center"}},p(i.Z,{sx:{display:"flex",alignItems:"center"}},n),p(o.Z,{currentPrice:g,priceColor:m})),p("div",{style:{marginLeft:"17px",display:"flex",justifyContent:"space-between"}},p(s.Z,{data:f,layout:l.Dr},p(c.Z,null)),p(i.Z,{sx:{alignSelf:"center"}},p(u.Z,null))))}},"b/A6":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r("DtyY"),a=r("xIFI"),i=r.n(a),o=r("Ng/A"),s=r("qN/k"),l=r("ACmA"),c=r("S2LQ"),u=r("2Y18"),d=r("mm1D"),p=r("OXhx"),f=r("JLYw"),m=r("k6Km"),g=r("3n0w"),h=r("atEC"),v=i().createElement;const _=function(e){var t=e.type,r=e.sx,a=e.children,i=(0,h.L8)({type:t}),_=i.list,y=i.priceColor,x=i.currentPrice,b=(0,f.C3)()===c.UW;return v(o.Z,{sx:(0,n.Z)({pl:"16px",display:"flex",justifyContent:"space-between"},r)},v(s.Z,null,v(o.Z,{sx:{display:"flex"}},v(l.Ar,{sx:{mr:["xs","0"],flex:"none"}},v(o.Z,{sx:{display:"flex",alignItems:"center",flex:1}},a),v(u.Z,{currentPrice:x,priceColor:y}))),v(l.Ar,{sx:{flex:1,flexWrap:"nowrap",display:"flex",alignItems:"center"}},v(d.Z,{layout:p.bK,data:_,isFullScreen:b},v(m.Z,null)))),!b&&v(o.Z,{sx:{mr:"2px",display:"flex",alignSelf:"center",justifyContent:"flex-end",paddingRight:"16px"}},v(g.Z,null)))}},atEC:(e,t,r)=>{"use strict";r.d(t,{L8:()=>w,iq:()=>k});var n=r("DtyY"),a=r("DC7k"),i=r("xIFI"),o=r.n(i),s=r("bCmj"),l=r("WbbQ"),c=r("wz6d"),u=r("xDxD"),d=r("S2LQ"),p=r("XCrG"),f=r("qf7v"),m=r("GKk1"),g=r("XEm0"),h=r("OXhx"),v=r("qJlb"),_=r("JLYw"),y=r("4gr6"),x=r("SVjJ"),b=o().createElement,S=function(e){var t,r=e.type,n=(0,f.X)(r),o=(0,p.k)((0,d.l6)(n)).tickProps,s=o.lastPrice,m=void 0===s?0:s,h=o.tickSize,v=void 0===h?1e-7:h,y=o.highPrice,x=o.lowPrice,b=o.volume,S=o.quoteVolume,w=o.diffPrice,k=o.difference,C=o.bigThan,E=(0,u.j2)(),Z=E.baseVolume,T=E.equalQtyPrecision,A=E.quantityPrecision,I=E.contractType,P=E.contractVal,O=(0,u.z4)(),D=(0,a.Z)(O,2),M=D[0],L=(0,a.Z)(D[1],2),N=L[0],R=L[1],B=(0,l.Fg)(),j=(0,g.Z)({lastPrice:m}),F=(0,u.U1)(v),H=(0,c.uf)(m,F),z=(0,u.mC)().formatTk,U=(0,_.CE)()[M]||{},q=U.markPrice,V=U.lastFundingRate,J=U.nextFundingTime,W=null===(t=(0,_.m8)()[M])||void 0===t?void 0:t.indexPrice,K=(0,i.useMemo)((function(){return z(q)}),[z,q]),$=(0,i.useMemo)((function(){return z(W)}),[z,W]),Q=(0,i.useMemo)((function(){return(0,f.Y)(V)}),[V]),X=(0,i.useMemo)((function(){return C?B.colors.buy:B.colors.sell}),[C,B.colors.buy,B.colors.sell]),Y=isNaN(k)?"0.00":k;return{symbol:M,baseAsset:N,quoteAsset:R,mark:K,index:$,fundingFee:Q,nextFundingTime:J,changeColor:X,change:(0,i.useMemo)((function(){return[(0,c.uf)(w||0,F),"".concat(Y,"%")].join(" ")}),[w,Y,F]),low:(0,i.useMemo)((function(){return(0,c.uf)(x,F)}),[x,F]),high:(0,i.useMemo)((function(){return(0,c.uf)(y,F)}),[y,F]),quoteVolume:S,baseVolume:Z,volume:b,contractVal:P,contractType:I,priceColor:j,quantityPrecision:A,equalQtyPrecision:T,currentPrice:H}},w=function(e){var t=e.type,r=S({type:t}),a=r.baseAsset,o=r.quoteAsset,l=r.symbol,p=r.mark,f=r.index,g=r.fundingFee,v=r.nextFundingTime,w=r.changeColor,k=r.change,C=r.low,E=r.high,Z=r.quoteVolume,T=r.baseVolume,A=r.volume,I=r.contractVal,P=r.contractType,O=r.priceColor,D=r.equalQtyPrecision,M=r.quantityPrecision,L=r.currentPrice,N=(0,u.tZ)(),R=(0,_.yk)().getI18n,B=(0,u.ZK)("trd-ticker","").getI18n,j=(0,y.QV)().isCoinUnit,F=j?Z||T:A,H=j?D:M,z=Number(I)*Number(A),U=(0,i.useMemo)((function(){return(0,c.uf)(F,H||0)}),[H,F]),q=(0,i.useMemo)((function(){return(0,c.uf)(z)}),[z]),V=[{label:b(m.Z,{tip:R("header-mark-markPriceTip"),enablePortal:!0},b("div",{style:(0,n.Z)({display:"inline-block"},h.uV)},R("header-mark",{defaultValue:"mark"}))),price:p,labelStyle:{border:"none"},key:"mark"},{label:b(s.Z,{href:"/".concat(N,"/").concat(x.yf,"/3?contract=").concat(l),sx:(0,n.Z)({textDecoration:"none",color:"t.third",display:"inline-block"},h.uV),target:"_blank"},R("header-index",{defaultValue:"Index"})),price:f,labelStyle:{border:"none"},key:"index"},{label:b(m.Z,{tip:R("header-mark-fundingTip")},b("div",{style:(0,n.Z)({display:"inline-block"},h.uV)},R("header-funding",{defaultValue:"Funding/8h"}))),price:g,time:v,timeTips:R("header-mark-countdownTimeTip"),key:"fund"},{label:B("change",{defaultValue:"24h Change"}),price:b("span",{style:{color:w}},k),key:"change"},{label:B("high",{defaultValue:"24 High"}),price:E,key:"high"},{label:B("low",{defaultValue:"24 Low"}),price:C,key:"low"},{label:"".concat(B("volume"),"(").concat(j?a:R("Cont"),")"),price:U,key:"volume"},{label:"".concat(B("transaction"),"(").concat(o,")"),price:q,key:"transaction"}];return{list:(0,i.useMemo)((function(){return P!==d.Yp.PERPETUAL?V.filter((function(e){return"fund"!==e.key})):V}),[P,V]),priceColor:O,currentPrice:L}},k=function(e){var t=e.type,r=S({type:t}),a=r.baseAsset,l=r.quoteAsset,c=r.symbol,d=r.mark,p=r.index,f=r.fundingFee,g=r.nextFundingTime,y=r.changeColor,w=r.change,k=r.low,C=r.high,E=r.quoteVolume,Z=r.volume,T=r.contractType,A=r.priceColor,I=r.currentPrice,P=r.equalQtyPrecision,O=(0,u.tZ)(),D=(0,_.yk)().getI18n,M=(0,u.ZK)("trd-ticker","").getI18n,L=(0,i.useMemo)((function(){return(0,v.kI)(E,{digits:P,isUnit:!0})}),[P,E]),N=(0,i.useMemo)((function(){return(0,v.kI)(Z,{digits:2,isUnit:!0})}),[Z]);return{list:(0,i.useMemo)((function(){return[{label:b(m.Z,{tip:D("header-mark-markPriceTip")},b("div",{style:(0,n.Z)({display:"inline-block"},h.uV)},D("header-mark",{defaultValue:"mark"}))),labelStyle:{border:"none"},price:d,key:"A",sx:{gridArea:"A"}},{label:b(s.Z,{href:"/".concat(O,"/").concat(x.yf,"/3?contract=").concat(c),sx:(0,n.Z)({textDecoration:"none",color:"t.third",display:"inline-block"},h.uV),target:"_blank"},D("header-index",{defaultValue:"Index"})),labelStyle:{border:"none"},price:p,key:"B",sx:{gridArea:"B"}},{label:M("high",{defaultValue:"High"}),price:C,key:"C",sx:{gridArea:"C"}},{label:M("low",{defaultValue:"Low"}),price:k,key:"E",sx:{gridArea:"E"}},{label:b(o().Fragment,null,b("div",{style:h.SJ},M("volume",{defaultValue:"24h Volume"})),b("div",null,"(".concat(a,")"))),price:L,key:"D",sx:{gridArea:"D"}},{label:b(o().Fragment,null,b("div",{style:h.SJ},M("transaction",{defaultValue:"24h Volume"})),b("div",null,"(".concat(l,")"))),price:N,key:"F",sx:{gridArea:"F"}}]}),[a,D,M,C,p,O,k,d,l,L,c,N]),fundingTimeProps:{label:D("header-funding",{defaultValue:"Funding/8h"}),labelTips:D("header-mark-fundingTip"),price:f,time:g,timeTips:D("header-mark-countdownTimeTip")},changeColor:y,change:w,priceColor:A,currentPrice:I,contractType:T}}},LwB8:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var n=r("DtyY"),a=r("DC7k"),i=r("xIFI"),o=r.n(i),s=r("xDxD"),l=r("8+a1"),c=r("xLQ1"),u=r("S2LQ"),d=r("oOsE"),p=r("JLYw"),f=r("4gr6"),m=r("HI97"),g=o().createElement,h=function(e){var t=e.price,r=e.buyerIsMaker,n=e.quantity,a=e.tradeTime,i=(0,f.QV)().isCoinUnit,o=(0,s.j2)(),l=o.contractVal,u=o.equalQtyPrecision,d=i?(0,m.unitChangeCoinQty)({quantity:n,contractVal:l,price:t,precision:u,format:!1}):n;return g(c.GK,{price:t,quantity:d,formatQty:!i,buyerIsMaker:r,tradeTime:a})};const v=o().memo(h);var _=o().createElement,y=function(e){var t=e.onColumnClick,r=e.sx,i=void 0===r?{}:r,o=(0,s.z4)(),m=(0,a.Z)(o,2),g=m[0],h=m[1],y=(0,s.mC)(),x=y.formatMi,b=y.formatTk,S=(0,c.Rk)().getI18n,w=(0,p.yk)().getI18n,k=(0,a.Z)(h,2)[1],C=(0,s.j2)(),E=(0,f.QV)().isCoinUnit,Z=[{text:"".concat(S("price",{defaultValue:"Price"}),"(").concat(k,")"),area:"left"},{text:"".concat(S("amount",{defaultValue:"Amount"}),"(").concat(E?C.baseAsset:w("Cont"),")"),area:"right"},{text:S("time",{defaultValue:"Time"}),area:"right"}],T=(0,d.K)({symbol:g,stream:(0,u.RU)(),isFutures:!0,isDelivery:!0}),A=T.trades,I=T.loading;return _(l.Z,{sx:(0,n.Z)({pr:["0","sm"],pl:"0"},i)},_(c.ZP,{headers:Z,trades:A,loading:I,tradeItem:v,itemHeight:18,formatMi:x,formatTk:b,onItemClick:t}))};const x=o().memo(y)},"3n0w":(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r("DC7k"),a=r("xIFI"),i=r.n(a),o=r("Ng/A"),s=r("I78S"),l=r("xDxD"),c=r("JLYw"),u=r("9KK5"),d=i().createElement;const p=function(){var e=(0,l._n)(),t=(0,a.useRef)(),r=(0,c.yk)().getI18n,i=(0,a.useRef)(),p=(0,c.F7)().unit,f=(0,l.z4)(),m=(0,n.Z)(f,2)[1],g=p===u.iI.coin?m[0]:r("cont-unit"),h=(0,a.useCallback)((function(){i.current.showUnitPanel({title:r("unitPreference",{defaultValue:"Unit Preference"}),unit:p})}),[p,r]);return(0,a.useMemo)((function(){return e?d(o.Z,{ref:t,sx:{borderLeft:"1px solid",borderColor:"t.grey700",color:"t.grey300",fontSize:"12px",ml:2,px:2,cursor:"pointer"},onClick:h,"data-testid":"unit"},r("unit",{defaultValue:"Unit"}),":"," ",d(s.Z,{as:"span",sx:{color:"t.yellow200","&:hover":{color:"t.yellow300"}}},g),d(o.Z,null,d(u.ZP,{ref:i}))):null}),[e,h,r,g])}},AAay:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r("DC7k"),a=r("xIFI"),i=r.n(a),o=r("c83x"),s=r("xDxD"),l=r("S2LQ"),c=r("6uzN"),u=r("A7IO"),d=r("5Xb1"),p=r("Jttt"),f=r("SVjJ"),m=r("up1F"),g=i().createElement,h=function(e){var t=e.i18n,r=e.contractInfo,i=e.name,h=e.curSymbol,v=e.currentProduct,_=void 0===v?{}:v,y=(0,m.c4)(h,_),x=(0,n.Z)(y,1)[0],b=(0,s.AM)(),S=(0,o.useDispatch)(),w=b[x]||{},k=w.deliveryDate,C=w.contractType,E=void 0===C?"":C,Z=w.pair,T=(0,m.Kb)(),A=T.chartSymbol,I=T.currentProductList,P=i.split("-"),O=(0,n.Z)(P,2),D=O[0],M=O[1],L=(0,o.useSelector)((function(e){return e.products.products})),N=I.slice(),R=JSON.parse(JSON.stringify(A)),B=JSON.parse(localStorage.getItem(f.cu)),j=JSON.parse(localStorage.getItem("symbolType"));(0,a.useEffect)((function(){var e=r.symbol,t=r.contractStatus;if(x===e&&"DELIVERED"===(null===t||void 0===t?void 0:t.toUpperCase())){var n=(0,d.Ib)(L,f.kH,"delivery"),a=n.curSymbol,i=n.currentProduct;N[M]=i,R[D][M]=a,B[D][M]=f.kH,j[D][M]="delivery",S.chartType.updateFuturesSymbols({symbolList:R}),localStorage.setItem("symbolType",JSON.stringify(j)),localStorage.setItem(f.cu,JSON.stringify(B)),S.chartType.updateState({currentProductList:N})}}),[D,L,D,A,I,r,Z,b,x]);var F=(0,c.s)(k),H=F.loading,z=F.value,U=t("TimeLeftForDelivery",{defaultValue:"Time left for delivery"}),q=(0,a.useMemo)((function(){return H||!z?"00:00:00":z>24?"".concat(Math.ceil(z/24)," ").concat(t("daysLeft",{defaultValue:"days left"})):g(u.A,{timer:3600*z*1e3,i18n:t})}),[z,t,H]);return E.toUpperCase()===l.Yp.PERPETUAL?null:g(p.j7,{label:U,price:q})};const v=(0,a.memo)(h)},mlHE:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var n=r("gLnL"),a=r("DtyY"),i=r("DC7k"),o=r("xIFI"),s=r.n(o),l=r("bCmj"),c=r("Ng/A"),u=r("qN/k"),d=r("ACmA"),p=r("WbbQ"),f=r("wz6d"),m=r("xDxD"),g=r("S2LQ"),h=r("2Y18"),v=r("mm1D"),_=r("qf7v"),y=r("wHkB"),x=r("XEm0"),b=r("OXhx"),S=r("JLYw"),w=r("SVjJ"),k=r("AAay"),C=r("4gr6"),E=s().createElement;function Z(e){var t=e.curSymbol,r=e.currentProduct,n=e.name,a=(0,S.yk)().getI18n,i=(0,C.gN)();return E(k.Z,{i18n:a,contractInfo:i,name:n,curSymbol:t,currentProduct:r})}var T=r("up1F"),A=s().createElement;const I=function(e){var t,r=e.children,s=e.curSymbol,k=e.name,C=void 0===k?"":k,E=e.currentProduct,I=void 0===E?{}:E,P=(0,T.kP)((0,g.RU)(),s,I).tickProps,O=I.contractType,D=P.lastPrice,M=void 0===D?0:D,L=P.tickSize,N=void 0===L?1e-7:L,R=P.diffPrice,B=P.difference,j=P.bigThan,F=(0,T.c4)(s,I),H=(0,i.Z)(F,1)[0],z=(0,m.tZ)(),U=(0,S.yk)().getI18n,q=(0,m.ZK)("trd-ticker","").getI18n,V=(0,p.Fg)(),J=(0,x.Z)({lastPrice:M}),W=(0,m.U1)(N),K=(0,f.uf)(M,W),$=j?V.colors.buy:V.colors.sell,Q=(0,m.mC)(I).formatTk,X=(0,T.N1)()[H]||{},Y=X.markPrice,G=X.lastFundingRate,ee=X.nextFundingTime,te=((0,T.zC)()[H]||{}).indexPrice,re=(0,o.useRef)(null),ne=null===(t=re.current)||void 0===t?void 0:t.clientWidth,ae=[{label:A(y.Z,{tip:U("header-mark-markPriceTip"),enablePortal:!0},A("div",{style:(0,a.Z)({display:"inline-block"},b.uV)},U("header-mark",{defaultValue:"mark"}))),price:Q(Y),labelStyle:{border:"none"},key:"mark"},{label:A(l.Z,{href:"/".concat(z,"/").concat(w.yf,"/3?contract=").concat(H),sx:(0,a.Z)({textDecoration:"none",color:"t.third",display:"inline-block"},b.uV),target:"_blank"},U("header-index",{defaultValue:"Index"})),price:Q(te),labelStyle:{border:"none"},key:"index"},{label:A(y.Z,{tip:U("header-mark-fundingTip")},A("div",{style:(0,a.Z)({display:"inline-block"},b.uV)},U("header-funding",{defaultValue:"Funding/8h"}))),price:(0,_.Y)(G),time:ee,timeTips:U("header-mark-countdownTimeTip"),key:"fund"},{label:q("change",{defaultValue:"24h Change"}),price:A("span",{style:{color:$}},[(0,f.uf)(R||0,W),"".concat(B,"%")].join(" ")),key:"change"}],ie=(0,o.useMemo)((function(){return O!==g.Yp.PERPETUAL?ae.filter((function(e){return"fund"!==e.key})):ae}),[O,ae]),oe=(0,o.useMemo)((function(){return ie}),[ne,ie]);return(0,o.useMemo)((function(){return A(c.Z,{sx:{pl:"16px",display:"flex",justifyContent:"space-between",width:"100%"},ref:re},A(u.Z,null,A(c.Z,{sx:{display:"flex"}},A(d.Ar,{sx:{mr:["xs","0"],flex:"none"}},A(c.Z,{sx:{display:"flex",alignItems:"center",flex:1}},r),A(h.Z,{currentPrice:K,priceColor:J}))),A(d.Ar,{sx:{flex:[1],flexWrap:"nowrap",display:"flex",alignItems:"center"}},A(v.Z,(0,n.Z)({layout:b.bK,data:oe},"layout",{display:"flex",flexWrap:"wrap","&>div":{mr:"8px"}}),A(c.Z,{sx:{gridArea:"D"}},A(Z,{curSymbol:s,currentProduct:I,name:C}))))))}),[r,s,P,K,ae])}},"+0DM":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var n=r("gLnL"),a=r("DtyY"),i=r("DC7k"),o=r("XP5A"),s=r("xIFI"),l=r.n(s),c=r("bCmj"),u=r("Ng/A"),d=r("qN/k"),p=r("ACmA"),f=r("WbbQ"),m=r("wz6d"),g=r("xDxD"),h=r("S2LQ"),v=r("2Y18"),_=r("mm1D"),y=r("qf7v"),x=r("wHkB"),b=r("XEm0"),S=r("OXhx"),w=r("AAay"),k=r("JLYw"),C=l().createElement;function E(e){var t=e.curSymbol,r=e.currentProduct,n=e.name,a=(0,k.yk)().getI18n,i=(0,k.gN)();return C(w.Z,{i18n:a,contractInfo:i,name:n,curSymbol:t,currentProduct:r})}var Z=r("SVjJ"),T=r("up1F"),A=l().createElement;const I=function(e){var t,r,l=e.children,w=e.curSymbol,C=e.name,I=void 0===C?"":C,P=e.currentProduct,O=void 0===P?{}:P,D=(0,o.Z)(e,["children","curSymbol","name","currentProduct"]),M=(0,T.c4)(w,O),L=(0,i.Z)(M,1)[0],N=O.contractType!==h.Yp.PERPETUAL,R=(0,T.kP)((0,h.BN)(),w,O||{}).tickProps,B=R.lastPrice,j=void 0===B?0:B,F=R.tickSize,H=void 0===F?1e-7:F,z=R.diffPrice,U=R.difference,q=R.bigThan,V=(0,g.tZ)(),J=(0,k.yk)().getI18n,W=(0,g.ZK)("trd-ticker","").getI18n,K=(0,f.Fg)(),$=(0,b.Z)({lastPrice:j}),Q=(0,g.U1)(H),X=(0,m.uf)(j,Q),Y=q?K.colors.buy:K.colors.sell,G=(0,g.mC)(O).formatTk,ee=(0,T._n)()[L]||{},te=ee.markPrice,re=ee.lastFundingRate,ne=ee.nextFundingTime,ae=null===(t=(0,T.oC)()[L])||void 0===t?void 0:t.indexPrice,ie=(0,s.useRef)(null),oe=null===(r=ie.current)||void 0===r?void 0:r.clientWidth,se=[{label:A(x.Z,{tip:J("header-mark-markPriceTip")},A("div",{style:(0,a.Z)({display:"inline-block"},S.uV)},J("header-mark",{defaultValue:"mark"}))),price:G(te),labelStyle:{border:"none"},key:"mark"},{label:A(c.Z,{href:"/".concat(V,"/").concat(Z.yf,"/3?contract=").concat(L),sx:(0,a.Z)({textDecoration:"none",color:"t.third",display:"inline-block"},S.uV),target:"_blank"},J("header-index",{defaultValue:"Index"})),price:G(ae),labelStyle:{border:"none"},key:"index"},{label:J("header-funding",{defaultValue:"Funding/8h"}),price:(0,y.Y)(re),time:ne,timeTips:J("header-mark-countdownTimeTip"),key:"fund"},{label:W("change",{defaultValue:"24h Change"}),price:A("span",{style:{color:Y}},[(0,m.uf)(z||0,Q),"".concat(U,"%")].join(" ")),key:"change"}],le=(0,s.useMemo)((function(){return N&&se.filter((function(e){return"fund"!==e.key})),se}),[N,se]),ce=(0,s.useMemo)((function(){return le}),[oe,le]);return A(u.Z,{sx:(0,a.Z)({pl:"16px",display:"flex",justifyContent:"space-between"},D),className:"ticker-wrap",ref:ie},A(d.Z,null,A(u.Z,{sx:{display:"flex"}},A(p.Ar,{sx:{mr:["xs","0"],flex:"none"}},A(u.Z,{sx:{display:"flex",alignItems:"center",flex:1}},l),A(v.Z,{currentPrice:X,priceColor:$}))),A(p.Ar,{sx:{flex:[1],flexWrap:"wrap",display:"flex",alignItems:"center"}},A(_.Z,(0,n.Z)({layout:S.bK,data:ce},"layout",{display:"flex",flexWrap:"wrap","&>div":{mr:"8px"}}),N&&A(E,{curSymbol:w,currentProduct:O,name:I})))))}},XtcX:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r("xIFI"),a=r.n(n),i=r("Ng/A"),o=r("XV3Y"),s=r("wz6d"),l=r("xDxD"),c=r("75IB"),u=r("L4Ep"),d=r("A/Jf"),p=r("byRa"),f=r("JLYw"),m=a().createElement;const g=function(e){var t=e.size,r=void 0===t?{width:400,height:800}:t,g=e.hidden,h=void 0!==g&&g,v=e.isDelivery,_=e.symbol,y=e.tickSize,x=(0,f.F7)().unit,b=(0,l.pq)(),S=b.scale,w=b.setScale,k=(0,n.useRef)(null),C=(0,n.useState)({x:null,y:null}),E=C[0],Z=C[1],T=(0,p.GO)(),A=(0,d.p8)(y),I=(0,n.useMemo)((function(){return"BTCUSDT"===_?0:A-1}),[_,A]),P=(0,n.useCallback)((function(e){var t=(null===e||void 0===e?void 0:e.evt)||{},r=t.wheelDelta>0?Math.min(S+5,1e3):Math.max(0,S-5);w(r),t&&t.preventDefault()}),[S,w]),O=(0,n.useCallback)((function(){Z(k.current.getPointerPosition())}),[]),D=(0,n.useCallback)((function(){Z({x:null,y:null})}),[]),M=null===r||void 0===r?void 0:r.width,L=null===r||void 0===r?void 0:r.height,N=(null===r||void 0===r?void 0:r.height)/2,R=M-d.hK,B=(0,l.Xl)({symbol:_,width:L,height:R,scale:S,cursor:{x:L-E.y,y:E.x},isVertical:!0,isFuturesUSDT:x===u.AO.usdt,isDelivery:v}),j=B.asks,F=B.bids,H=B.pricePos,z=B.depthPos,U=B.askX,q=B.askY,V=B.bidX,J=B.bidY,W=B.currentAsk,K=B.currentBid,$=B.scaleArray;return(0,n.useEffect)((function(){var e=(c.Z.getItem(d.Ze)||{}).scale;w(Number(void 0===e?0:e))}),[w]),(0,n.useMemo)((function(){return m(i.Z,{style:{display:h&&"none"}},m(o.Stage,{ref:k,width:M,height:L,onWheel:P,onMouseMove:O,onMouseOut:D},m(o.Layer,{hitGraphEnabled:!1},m(o.Group,{x:d.hK},m(o.Line,{points:[0,N,R,N],stroke:"rgba(100, 100, 100, 0.4)",strokeWidth:d.dg}),m(o.Shape,{sceneFunc:function(e,t){e.beginPath();var r=R,n=N,a=!0;F.forEach((function(t){var i=t.price,o=t.depth;if(!((n=L-H(i))>L||n<N)){var s=z(o);a?(e.moveTo(r,n),a=!1):e.lineTo(r,n),r=s,e.lineTo(r,n)}})),e.lineTo(r,L+d.dg),e.lineTo(R+d.dg,L+d.dg),e.fillStrokeShape(t)},fill:T.bidFillColor,stroke:T.bidLineColor,strokeWidth:d.Bh}),m(o.Shape,{sceneFunc:function(e,t){e.beginPath();var r=R,n=N,a=!1;j.forEach((function(t){var i=t.price,o=t.depth;if(!((n=L-H(i))<0||n>N)){var s=z(o);a?(e.moveTo(r,n),a=!1):e.lineTo(r,n),r=s,e.lineTo(r,n)}})),e.lineTo(r,-d.dg),e.lineTo(R,-d.dg),e.fillStrokeShape(t)},fill:T.askFillColor,stroke:T.askLineColor,strokeWidth:d.Bh}),U?m(a().Fragment,null,m(o.Line,{points:[0,L-U,R,L-U],stroke:T.askLineColor,strokeWidth:d.dg,dash:[2,2]}),m(o.Line,{points:[q,0,q,N],stroke:T.askLineColor,strokeWidth:d.dg,dash:[2,2]}),m(o.Line,{points:[0,L-V,R,L-V],stroke:T.bidLineColor,strokeWidth:d.dg,dash:[2,2]}),m(o.Line,{points:[J,N,J,L],stroke:T.bidLineColor,strokeWidth:d.dg,dash:[2,2]}),m(o.Circle,{x:q,y:L-U,radius:3,fill:T.askLineColor}),m(o.Circle,{x:J,y:L-V,radius:3,fill:T.bidLineColor}),m(o.Label,{x:q,y:0},m(o.Tag,{pointerDirection:"up",pointerWidth:4,pointerHeight:2,fill:T.askFillColor}),m(o.Text,{text:W?(0,d.pF)(W.depth):"",fill:T.askLineColor,padding:3})),m(o.Label,{x:J,y:L},m(o.Tag,{pointerDirection:"down",pointerWidth:4,pointerHeight:2,fill:T.bidFillColor}),m(o.Text,{text:K?(0,d.pF)(K.depth):"",fill:T.bidLineColor,padding:3})),m(o.Rect,{x:0,y:0,width:R,height:L-U,fill:T.hoverBgColor}),m(o.Rect,{x:0,y:L-V,width:R,height:V,fill:T.hoverBgColor})):null),m(o.Group,null,m(o.Line,{points:[d.hK,0,d.hK,L],stroke:"rgba(100, 100, 100, 0.4)",strokeWidth:d.dg}),$.map((function(e,t){var r=L-H(e);return m(a().Fragment,{key:t},m(o.Line,{points:[d.hK-4,r,d.hK,r],stroke:T.textColor,strokeWidth:d.dg}),m(o.Label,{x:d.hK-4,y:r},m(o.Tag,{pointerDirection:"right",pointerWidth:0,pointerHeight:0,strokeWidth:0}),m(o.Text,{text:(0,s.uf)(e,A),fill:T.textColor,padding:3})))})),U?m(a().Fragment,null,m(o.Label,{x:d.hK-4,y:L-U},m(o.Tag,{pointerDirection:"right",pointerWidth:T.tagWidth,pointerHeight:T.tagHeight,fill:T.background}),m(o.Text,{text:(0,d.oB)(null===W||void 0===W?void 0:W.price,I),fill:T.askLineColor,padding:3})),m(o.Line,{points:[d.hK-4,L-U,d.hK,L-U],stroke:T.askLineColor,strokeWidth:d.dg}),m(o.Label,{x:d.hK-4,y:L-V},m(o.Tag,{pointerDirection:"right",pointerWidth:T.tagWidth,pointerHeight:T.tagHeight,fill:T.background}),m(o.Text,{text:(0,d.oB)(null===K||void 0===K?void 0:K.price,I),fill:T.bidLineColor,padding:3})),m(o.Line,{points:[d.hK-4,L-V,d.hK,L-V],stroke:T.bidLineColor,strokeWidth:d.dg})):null))))}),[M,L,P,O,D,R,N,U,V,q,J,W,K,$,F,H,z,j,A,I,h,T])}},Qo4k:(e,t,r)=>{"use strict";r.d(t,{o:()=>x});var n=r("xIFI"),a=r.n(n),i=r("jzeX"),o=r("I78S"),s=r("ASW3"),l=r("Ng/A"),c=r("mrSG"),u=r("vJk+");const d=function(e){return a().createElement(u.Z,(0,c.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),a().createElement("path",{d:"M19.5 4.5h-15v2h15v-2zM19.5 17.5h-15v2h15v-2zM19.5 11h-15v2h15v-2z",fill:"currentColor"}))};var p=r("8kWe"),f=r("e0c5"),m=r("wHkB"),g=r("QZto"),h=a().createElement,v={display:"initial"},_=function(){return!1},y=(0,n.memo)((function(e){var t=e.values,r=void 0===t?[]:t,n=e.onClick,s=void 0===n?_:n,l=e.getI18n,c=e.toolTipPrefix,u=e.contentPrefix;return h(i.Z,{sx:{p:0,borderRadius:0,bg:"filterDropdown.bg",color:"filterDropdown.color"}},r.map((function(e,t){var r=l(c+e,{defaultValue:""}),n=c&&r,i=n?m.Z:a().Fragment;return h(i,Object.assign({key:t},n?{tip:r,arrow:!0,placement:"top",sx:v}:{}),h(g.Z,{key:t,onClick:function(){return s(e)},sx:{justifyContent:"flex-start",":hover":{bg:"filterDropdown.listHoverBg",fontWeight:"600"}}},t?h(p.Z,{mr:2,size:10}):h(d,{mr:2,size:10,color:"t.yellow200"}),h(o.Z,{color:t?"filterDropdown.color":"t.yellow200"},l(u+e,{defaultValue:e}))))})))})),x=(0,n.memo)((function(e){var t=e.values,r=e.activeTab,a=e.switchTab,i=e.active,o=e.type,c=e.getI18n,u=e.toolTipPrefix,d=void 0===u?"":u,p=e.contentPrefix,m=void 0===p?"":p,v=e.sx,_=(0,n.useState)(o),x=_[0],b=_[1],S=(0,n.useCallback)((function(e){a(e),b(e)}),[a]),w=i?r:x;return h(s.ZP,{enablePortal:!0,trigger:"hover",overlay:h(l.Z,{sx:{display:"inline-block",mt:"4px"}},h(y,{values:t,onClick:S,getI18n:c,toolTipPrefix:d,contentPrefix:m}))},h(g.Z,{active:i,"data-testid":"".concat(r,"Type"),onClick:function(){return a(w)},style:{fontWeight:"600",marginRight:"1px",paddingRight:0},sx:v},c(m+w,{defaultValue:w}),h(f.Z,{sx:{transform:"scale(1.8)"},size:10})))}))},qM4g:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r("XP5A"),a=r("DtyY"),i=r("xIFI"),o=r.n(i),s=r("qN/k"),l=r("Ng/A"),c=r("I78S"),u=r("XvrV"),d=o().createElement,p=function(e){var t=e.value,r=e.sx,i=e.change,o=void 0===i?function(){return!1}:i,p=(0,u.ZK)().getI18n;return d(s.Z,{sx:(0,a.Z)({flex:"none !important",ml:"xs"},r)},[{text:p("radioChange",{defaultValue:"Change"}),value:"change","data-testid":"changeSelect"},{text:p("radioVolume",{defaultValue:"Volume"}),value:"volume","data-testid":"volumeSeletct"}].map((function(e,r){var a=e.text,i=e.value,u=(0,n.Z)(e,["text","value"]);return d(s.Z,Object.assign({key:r,onClick:function(){return o(i)},sx:{fontSize:0,alignItems:"center",color:"t.grey300",whiteSpace:"nowrap",cursor:"pointer",ml:"xs"}},u),d(l.Z,{as:"i",tx:"forms",variant:i===t?"radioCheck":"radioDefault"}),d(c.Z,null,a))})))};const f=o().memo(p)},s5XO:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r("DtyY"),a=r("xIFI"),i=r.n(a),o=r("Yd8U"),s=r("OKEt"),l=r("mG4f"),c=r("53NN"),u=r("XvrV"),d=i().createElement,p=function(e){var t=e.sx,r=e.value,p=e.search,f=void 0===p?function(){return!1}:p,m=e.openShotCut,g=i().useRef(),h=(0,u.ZK)().getI18n,v=(0,a.useState)(r),_=v[0],y=v[1];return(0,o.Z)((function(){return f(_)}),100,[_]),(0,a.useEffect)((function(){}),[m]),d(s.Z,Object.assign({ref:g,prefix:d(l.Z,{size:20,color:"t.grey300"}),defaultValue:r,value:_,labelFixed:!0,placeholder:h("searchHolder",{defaultValue:"Search"}),onChange:function(e){return y(e.target.value)},sx:{"&::placeholder":{fontSize:0,color:"t.grey500"}},"data-testid":"searchInput",boxProps:{sx:(0,n.Z)({"& input":{fontSize:0,mt:"-5px"},lineHeight:1.5,height:"24px"},t)}},_.length>0&&{suffix:d(c.Z,{size:20,color:"t.grey300",onClick:function(){return y("")}})}))};const f=i().memo(p)},nOFq:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r("DtyY"),a=r("XP5A"),i=r("xIFI"),o=r.n(i),s=r("qN/k"),l=r("I78S"),c=r("mrSG"),u=r("vJk+");const d=function(e){return o().createElement(u.Z,(0,c.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:e.color},e),o().createElement("path",{d:"M9 10.368v-1.4L11.968 6l2.968 2.968v1.4H9zM14.936 13v1.4l-2.968 2.968L9 14.4V13h5.936z",fill:"#C1C6CD"}))};const p=function(e){return o().createElement(u.Z,(0,c.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{opacity:.5,d:"M16 12.85v1.65L12.75 18 9.5 14.5v-1.65H16z",fill:"#848E9C"}),o().createElement("path",{d:"M9.5 9.745v-1.65l3.25-3.5 3.25 3.5v1.65H9.5z",fill:"url(#sorting-up-color-s24_svg__paint0_linear)"}),o().createElement("defs",null,o().createElement("linearGradient",{id:"sorting-up-color-s24_svg__paint0_linear",x1:16,y1:4.594,x2:9.5,y2:4.594,gradientUnits:"userSpaceOnUse"},o().createElement("stop",{stopColor:"#EFB80B"}),o().createElement("stop",{offset:1,stopColor:"#FBDA3C"}))))};const f=function(e){return o().createElement(u.Z,(0,c.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{opacity:.5,d:"M9 10.153V8.5L12.25 5l3.25 3.501v1.652H9z",fill:"#848E9C"}),o().createElement("path",{d:"M15.5 13.257v1.652l-3.25 3.5L9 14.91v-1.652h6.5z",fill:"url(#sorting-down-color-s24_svg__paint0_linear)"}),o().createElement("defs",null,o().createElement("linearGradient",{id:"sorting-down-color-s24_svg__paint0_linear",x1:9,y1:18.41,x2:15.5,y2:18.41,gradientUnits:"userSpaceOnUse"},o().createElement("stop",{stopColor:"#EFB80B"}),o().createElement("stop",{offset:1,stopColor:"#FBDA3C"}))))};var m=o().createElement,g={0:0,1:0,2:0};const h=function(e){var t=e.headers,r=void 0===t?[]:t,o=e.sortInfo,c=e.switchSort,u=e.setSort,h=e.sx,v=o.index,_=o.desc;(0,i.useEffect)((function(){switch(v){case 0:g[0]=_;break;case 1:g[1]=_;break;case 2:g[2]=_}}),[_,v]);var y=(0,i.useMemo)((function(){switch(_){case 0:return m(d,null);case 1:return m(p,null);case 2:return m(f,null);default:return m(d,null)}}),[_]),x=(0,i.useCallback)((function(e){return function(){g[e]<2?g[e]++:g[e]=0,c&&(c({index:e,desc:g[e]}),u&&u({index:e,desc:g[e]}))}}),[c,u]);return m(s.Z,{variant:"market.sortHeader",sx:h},m("div",{className:"content"},r.map((function(e,t){var r=e.text,o=(0,a.Z)(e,["text"]),s=v===t?y:m(d,null);return m("div",{key:t,onClick:x(t),className:"item",style:(0,n.Z)({},o)},m(l.Z,{title:r,variant:"layouts.ellipsis",sx:{fontSize:0,color:"t.third"}},r),c&&(0,i.cloneElement)(s,{size:10,sx:{mt:"4px",transform:"scale(1.6)",pointerEvents:"none",flex:"none",color:"t.grey60"}}))}))))}},XvrV:(e,t,r)=>{"use strict";r.d(t,{ZK:()=>i,Yk:()=>o});var n=r("xDxD"),a=r("S2LQ"),i=function(e){return(0,n.ZK)("trd-market",e)},o=["BOTH",a.xy.CROSS,a.xy.ISOLATED]},"Xe5/":(e,t,r)=>{"use strict";r.d(t,{_:()=>n});r("S2LQ");var n=function(e){var t=e.data,r=e.path,n=e.metaKey,a=e.ctrlKey,i=(e.deliveryPath,t.symbol,t.symbolDisplay,t.isDelivery);/windows|win32/i.test(navigator.userAgent)}},XsYC:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var n=r("gLnL"),a=r("DtyY"),i=r("DC7k"),o=r("xIFI"),s=r.n(o),l=r("c83x"),c=r("wz6d"),u=r("kmhi"),d=r("IpTK"),p=r("xDxD"),f=r("Z4JP"),m=r("HZII"),g=r.n(m),h=r("cy2V"),v=r("s+8p"),_=r("W2MH"),y=g()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];v.Z.log(JSON.stringify({type:"orderbook-cross",snapshot:e.getSnapshot(),asks:t.slice(-10),bids:r.slice(0,10)}),"custom"),(0,_.j)("orderbook_cross",{uuid:h.Q.read("bnc-uuid")})})),x=s().createElement;function b(e,t,r){var n=e%t;switch(r){case"floor":return e-n;case"ceil":return 0===n?e:e-n+t;default:return n<t/2?e-n:e+t-n}}var S={ask:void 0,bid:void 0},w="obSymbol",k=function(e){var t=e.info,r=e.symbol,m=e.children,g=e.sdk,h=e.isDelivery,v=(0,l.useDispatch)(),_=(0,p.ke)(),k=(0,o.useRef)(S),C=(0,o.useCallback)((function(e){v.orderForm.updateState({priceQty:{side:"ask"===e.type?"SELL":"BUY",qty:(null===e||void 0===e?void 0:e.noAmount)?null:k.current["ask"===e.type?"ask":"bid"],price:e.price}}),_&&v.position.setOrderbookPrice({symbol:r,price:e.price})}),[v.orderForm,v.position,_,r]),E=t.levels,Z=t.levelsIndex,T=t.minQty,A=t.symbolDisplay,I=(0,p.it)(w,{}),P=(0,i.Z)(I,2),O=P[0],D=P[1],M=(0,p.r5)(w),L=(null===A||void 0===A?void 0:A.split("/"))||[],N=(0,i.Z)(L,2),R=N[0],B=N[1],j=function(){return"undefined"===typeof O[r]?Z[Z.length-1]:O[r]},F=s().useState(j()),H=(0,i.Z)(F,2),z=H[0],U=H[1],q=(0,o.useCallback)((function(e,t){if(U(e),!t){var i=u.tO.getItem(M,{});D((0,a.Z)((0,a.Z)({},i),{},(0,n.Z)({},r,e)))}}),[D,M,r]),V=E[z],J=(0,p.E)(),W=J.preOrders,K=J.loading,$=(0,d.AJ)(W,!0,r,_),Q={},X={};!K&&Array.isArray($)&&$.forEach((function(e){var t=e.side,r=function(e,t,r){var n=Number(t);if(n<1){var a=t.split(".")[1].length;return(b((0,c.Jp)(e,Math.pow(10,a)),1,r)*n).toFixed(a)}return Number(b(e,n,r)).toFixed(0)}(e.price,V,"BUY"===t?"floor":"ceil");"BUY"===t?X[r]=0:Q[r]=0}));var Y=(0,p.U6)(r,g,h),G=Y.getState(),ee=(0,p.jM)(G.ask,{num:400,level:V,desc:!1}),te=(0,p.jM)(G.bid,{num:400,level:V,desc:!0});return function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=null===(t=n[n.length-1])||void 0===t?void 0:t.price,o=null===(r=a[0])||void 0===r?void 0:r.price;i&&o&&Number(i)<Number(o)&&y(e,n,a)}(Y,ee,te),(0,o.useEffect)((function(){0}),[ee,te,v.orderForm]),(0,o.useEffect)((function(){q(j(),"changeSymbol")}),[Z,r]),x(f.Z.Provider,{value:{handleOrderSelected:C,symbol:r,tickSize:V,level:z,setLevel:q,sumAountRef:k,qty:T,tickMap:E,tickSizeMap:Z,baseAsset:R,quoteAsset:B,bidOrders:X,askOrders:Q,asks:ee,bids:te}},m)};const C=function(e){var t=e.children,r=e.sdk,n=e.isDelivery,a=void 0!==n&&n,o=(0,p.z4)(),s=(0,i.Z)(o,1)[0],c=(0,l.useSelector)((function(e){return e.exchangeInfo.infos}))[s];return c?x(k,{info:c,symbol:s,sdk:r,isDelivery:a},t):null}},yVMw:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r("gLnL"),a=r("XP5A"),i=r("xIFI"),o=r.n(i),s=r("c83x"),l=r("xDxD"),c=r("XCrG"),u=r("jw37"),d=r("S2LQ"),p=r("qoOy"),f=r("Z4JP"),m=o().createElement,g=(0,u.ck)("pc",(function(){return Promise.all([r.e(834),r.e(639),r.e(18)]).then(r.bind(r,"/Olr"))}));const h=function(e){var t,r=e.trades,o=e.stream,u=(0,a.Z)(e,["trades","stream"]),h=(0,i.useContext)(f.Z),v=h.handleOrderSelected,_=h.level,y=h.tickSizeMap,x=h.tickMap,b=h.asks,S=h.bids,w=h.askOrders,k=h.bidOrders,C=h.baseAsset,E=h.quoteAsset,Z=h.setLevel,T=(0,c.k)(o).tickProps,A=(0,l.Ul)(),I=(0,s.useSelector)((function(e){return e.setting.color})),P=(t={},(0,n.Z)(t,d.Pe,p.ZA),(0,n.Z)(t,d.Qq,p.xN),t),O=(0,l.gm)(),D=(0,s.useDispatch)(),M=(0,i.useCallback)((function(e){D.userProfile.save({key:"orderBookDecimal",value:e}),Z(e)}),[D.userProfile,Z]),L=0;return r[0]&&r[1]&&r[0].price!==r[1].price&&(L=r[0].price-r[1].price>0?-1:1),m(g,Object.assign({listStyle:{direction:O},onOrderSelected:v,asks:b,bids:S,askOrders:Object.keys(w),bidOrders:Object.keys(k),contractPrice:T?T.showPrice:0,currentLevel:_,isConnected:A,treeLevels:y,treeLevelsMapTickSize:x,quoteAsset:E,baseAsset:C,lastPriceSign:L,handleDecimalChange:M,themeColor:P[I]},u))}},WbBH:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r("xIFI"),a=r.n(n),i=r("xDxD"),o=r("jw37"),s=r("Z4JP"),l=a().createElement,c=(0,o.ck)("mobile",(function(){return Promise.all([r.e(834),r.e(639),r.e(40)]).then(r.bind(r,"Vs9V"))}));const u=function(e){var t=(0,n.useContext)(s.Z),r=t.handleOrderSelected,a=t.level,o=t.setLevel,u=t.tickSizeMap,d=t.tickMap,p=t.asks,f=t.bids,m=(0,i.gm)();return l(c,Object.assign({listStyle:{direction:m},onOrderSelected:r,asks:p,bids:f,treeLevels:u,treeLevelsMapTickSize:d,currentLevel:a,handleDecimalChange:function(e){return o(e)}},e))}},NpsE:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r("DtyY"),a=r("DC7k"),i=r("xIFI"),o=r("k+uP"),s=r.n(o),l=r("BdPR"),c=r("W2MH"),u=r("xDxD"),d=r("S2LQ");const p=function(){var e=(0,u.ke)(),t=(0,u.rd)().color,r=(0,u.z4)(),o=(0,a.Z)(r,1)[0],p=(0,u.uT)(),f=(0,a.Z)(p,1)[0],m=(0,u.Fg)().isLight,g=(0,l.Z)(d.Eb),h=(0,a.Z)(g,1)[0],v=(0,l.Z)(d.IF),_=(0,a.Z)(v,1)[0],y=(0,l.Z)(d.et),x=(0,a.Z)(y,1)[0],b=(void 0===x?[]:x).map((function(e){return e.i})),S=(0,u.VX)();return f===d.Yl&&delete S.positionsMark,(0,i.useEffect)((function(){try{s().init({server_url:d.yB,web_url:d.Dy,heatmap_url:"".concat(d.Xs,"/static/sensors/heatmap@1.14.23.js"),heatmap:{useCapture:!0,collect_elements:"all",scroll_notice_map:"default",clickmap:"default",custom_property:function(t){if(t)return{tag:e?"futuresng":"tradeng"}}},name:"SensorsSdk",preset_properties:{url:!0},show_log:!1}),e?s().quick("autoTrack",(0,n.Z)((0,n.Z)({},{theme:m?d.rp:d.Py,tag:"futuresng",version:d.lO,chart:b.indexOf("chart")>-1,market:b.indexOf("market")>-1,depth:b.indexOf("verticalDepth")>-1,orderbook:b.indexOf("orderbook")>-1,trades:b.indexOf("trades")>-1,position:b.indexOf("userinfo")>-1,flashOrder:b.indexOf("flashOrder")>-1,panelSetting:_}),d.jX?{channel:d.jX}:{})):s().quick("autoTrack",(0,n.Z)((0,n.Z)({},(0,n.Z)({tag:"tradeng",version:d.lO,color:t,theme:m?d.rp:d.Py,layout:h},S)),d.jX?{channel:d.jX}:{})),(0,c.$0)(s())}catch(r){Sentry.captureException(r),console.log("senor init error",r)}}),[e,f,o]),null}},xLQ1:(e,t,r)=>{"use strict";r.d(t,{GK:()=>Z,ZP:()=>I,Rk:()=>w});var n=r("xIFI"),a=r.n(n),i=r("qN/k"),o=r("I78S"),s=a().createElement,l=[70,75,60],c=function(e){return"".concat(l[e]||0,"px")},u=function(e){var t=e.headers;return s(i.Z,{variant:"girdList.columnBox",sx:{px:["0","sm"],py:"8px"}},t.map((function(e,t){var r=e.text,n=e.area;return s(i.Z,{key:t,className:n,sx:{userSelect:"none",height:"16px"},style:{minWidth:c(t)}},s(o.Z,{title:r,variant:"layouts.ellipsis",sx:{fontSize:0,color:"t.secondary"}},r))})))};const d=a().memo(u);var p=r("s/Ur"),f=r("v424"),m=r("mAm5"),g=a().createElement,h=Math.floor((m.FA-44-31)/20),v=function(e){var t=e.trades,r=e.loading,a=e.tradeItem,i=e.itemHeight,o=void 0===i?18:i,s=(0,p.useMediaQuery)({query:m.is}),l=(0,n.useMemo)((function(){return s?t.reverse().slice(0,h):t.reverse()}),[t,s]);return g(f.Z,{variant:"girdList.tradeList",dataSource:l,loading:r,itemElement:a,itemHeight:o})};const _=a().memo(v);var y=function(e){var t=e.price;console.info(t)},x=function(e){return"".concat(e)};const b=(0,n.createContext)({formatTk:x,formatMi:x,onItemClick:y});var S=r("xDxD"),w=function(){return(0,S.ZK)("trd-trades")},k=r("lukr"),C=a().createElement,E=function(e){var t=e.price,r=e.buyerIsMaker,a=e.quantity,i=e.tradeTime,o=e.formatPrice,s=void 0===o||o,l=e.formatQty,u=void 0===l||l,d=e.formatDate,p=void 0===d||d,m=(0,n.useContext)(b),g=m.formatMi,h=m.formatTk,v=m.onItemClick,_=r?"sell":"buy";return C(f.H,{className:"trade-list-item trade-list-item-".concat(_),onClick:function(){v({price:t,side:_})}},C("div",{className:"price left",style:{minWidth:c(0)}},s?h(t):t),C("div",{className:"text right",style:{minWidth:c(1)}},u?g(a):a),C("div",{className:"text right",style:{minWidth:c(2)}},p?(0,k.v)(new Date(i),"hh:mm:ss"):i))};const Z=a().memo(E);var T=a().createElement,A=function(e){var t=e.headers,r=e.trades,n=e.loading,i=e.tradeItem,o=e.itemHeight,s=e.formatMi,l=e.formatTk,c=e.onItemClick,u=void 0===c?y:c;return T(a().Fragment,null,T(d,{headers:t}),T(b.Provider,{value:{formatMi:s,formatTk:l,onItemClick:u}},T(_,{trades:r,loading:n,tradeItem:i,itemHeight:o})))};const I=a().memo(A)},WWjG:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r("DC7k"),a=r("yCSn"),i=r("DtyY"),o=r("xIFI"),s=r.n(o),l=r("c83x"),c=r("s/Ur"),u=r("qN/k"),d=r("xz8j"),p=r("S2LQ"),f=r("xDxD"),m=r("ZIGC"),g=r("mAm5"),h=r("gRXG"),v=s().createElement,_=(0,m._x)((function(){return Promise.all([r.e(834),r.e(639),r.e(666)]).then(r.bind(r,"n+YH"))}),"ssr");function y(e){var t=e.children,r=(0,f.tZ)(),m=((0,f._n)(),(0,o.useRef)(null)),y=(0,l.useSelector)((function(e){return e.pageStore.headerConfigs})),x=(0,h.Z)("Navigation").i18n,b=(0,c.useMediaQuery)({query:g.is}),S=(0,f.z4)(),w=(0,n.Z)(S,2)[1],k=(0,o.useMemo)((function(){return function(e,t,r,n,o){var s=(0,i.Z)({},null===t||void 0===t?void 0:t.auth),l={type:"list",display:["none"],title:{type:"text",title:"ba-guide"},children:[{link:(0,h.c)(e),title:"ba-tutorial"}]};return o?(0,i.Z)((0,i.Z)({},t),{},{auth:s,list:[l].concat((0,a.Z)((null===t||void 0===t?void 0:t.list)||["space"]))}):{list:["space",l],usercenterRedirectList:{type:"list",children:[{prefixIcon:"h-account-security",title:"ba-security",link:"/".concat(e,"/usercenter/security")},{prefixIcon:"h-IdentityVeritication",title:"ba-identification",link:"/".concat(e,"/usercenter/settings/select-identity-verification-type")},{prefixIcon:"h-api-management",title:"ba-APIManagement",link:"/".concat(e,"/usercenter/settings/api-management")},{prefixIcon:"h-coupons",title:"ba-Reward",link:"/".concat(e,"/my/coupon")},{prefixIcon:"h-referral1",title:"ba-referral",link:"/".concat(e,"/activity/referral"),suffixIcon:"Earnbonus"}]},auth:s,locale:r.language,type:"new"}}(r,y.header,x,0,b)}),[r,y.header,x,w,b]);return v(s().Fragment,null,v(u.Z,{sx:{position:"sticky",top:0,alignItems:"center","header > svg":{ml:"sm"}}},v(d.Z,{needSeo:!1,ref:m,apiHost:p.H,customConfig:!0,origin:y.origin,config:k||{},locale:r,i18n:y.lang,staticUrl:p.Xs,beta:p.jX},!b&&v(u.Z,{sx:{alignItems:"center",flex:100,display:"flex",justifyContent:"space-between"}},t)),b?null:v(_,null)))}},gRXG:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i,c:()=>o});var n=r("xDxD"),a=r("S2LQ"),i=function(e){return(0,n.ZK)("ba",e)},o=function(e){return"".concat(a.$g,"/").concat(e,"/").concat(a.Kl)}},"0jhq":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r("DtyY"),a=r("xIFI"),i=r.n(a),o=r("GF7F"),s=r.n(o),l=r("qJlb");const c=function(e){var t=e.chartType,r=void 0===t?"line":t,a=e.categories,i=e.xStep,o=void 0===i?2:i,s=e.xType,c=void 0===s?null:s,u=e.xDateFormat,d=void 0===u?"":u,p=e.xRotation,f=void 0===p?0:p,m=e.staggerLines,g=void 0===m?1:m,h=e.title,v=void 0===h?null:h,_=e.yAxis,y=void 0===_?null:_,x=e.yAxisTitle,b=void 0===x?null:x,S=e.yLineWidth,w=void 0===S?1:S,k=e.xFormatter,C=void 0===k?function(e){return e}:k,E=e.yFormatter,Z=void 0===E?function(e){return(0,l.uf)(e,0)}:E,T=e.pointFormatter,A=void 0===T?function(e){return e}:T,I=e.legend,P=void 0===I?null:I,O=e.legendEnabled,D=void 0!==O&&O,M=e.isLight;return{chart:{type:r,zoomType:"x",backgroundColor:M?"#FFFFFF":"#1E2026"},title:{text:v},legend:P||{enabled:D,itemStyle:{fontFamily:"BinancePlex",fontWeight:500,fontSize:"12px",lineHeight:"18px",color:"#48515D"}},credits:{enabled:!1},xAxis:(0,n.Z)((0,n.Z)({},c),{},{categories:a,labels:{step:o,rotation:f,staggerLines:g,style:{color:M?"#76808F":"#929AA5",fontSize:"12px",fontFamily:"BinancePlex"},formatter:function(){return C(this.value)}},lineColor:"#CACED3",tickWidth:0}),yAxis:y||[{title:{text:b},labels:{x:-5,style:{color:M?"#76808F":"#929AA5",fontSize:"12px",fontFamily:"BinancePlex"},formatter:function(){return Z(this.value)}},lineColor:"#CACED3",lineWidth:w,gridLineColor:M?"#E6E8EA":"#2B2F36"}],tooltip:(0,n.Z)((0,n.Z)({},c?{xDateFormat:d}:null),{},{shared:!0,useHTML:!0,padding:10,headerFormat:'<span style="font-family: BinancePlex; line-height: 14px; color: '.concat(M?"#76808F":"#929AA5",';">{point.key}</span>'),pointFormatter:function(){var e=this.series,t=e.name,r=e.type,n=t,a=this.y,i=!0;return A&&(a=A(0===this.y?(0,l.uf)(this.y):this.y,r)),/^Series/.test(t)&&(i=!1),/%/.test(t)&&(n=n.slice(0,n.length-2)),'\n        <div class="tooltip-wrap" style="font-weight: bold;">\n          <span style="font-weight: normal;">\n            '.concat(i?"".concat(n," "):"","\n          </span>\n          ").concat(a,"\n        </div>")},shape:"square",shadow:!0,borderRadius:"4px",borderWidth:0,backgroundColor:M?"#fff":"#2B2F36",style:{fontFamily:"BinancePlex",color:M?"#1E2026":"#E6E8EA",fontSize:"14px",lineHeight:"24px"}})}};var u=i().createElement;function d(e){var t=e.categories,r=e.seriesName,i=e.seriesData,o=e.chartConf,l=o.isLight,d=(0,a.useMemo)((function(){return(0,n.Z)((0,n.Z)({},c((0,n.Z)({chartType:"line",categories:t,xRotation:0},o))),{},{series:[{name:r,data:i,cursor:"pointer",color:l?"#48515D":"#76808F",marker:{fillColor:l?"#fff":"#1E2026",lineWidth:1,lineColor:l?"#212833":"#caced3"}}]})}),[r,t,o,i,l]);return(0,a.useMemo)((function(){return u(s(),{config:d})}),[d])}},BjZT:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var n=r("DtyY"),a=r("VwJU"),i=r.n(a),o=r("HSMY"),s=r("xIFI"),l=r.n(s),c=r("qN/k"),u=r("Ng/A"),d=r("wd/R"),p=r.n(d),f=r("xDxD"),m=r("ZODY"),g=r("ZIGC"),h=r("qJlb"),v=r("z0TZ"),_=r("mrSG"),y=r("QK4s"),x=function(e){return(0,_.__awaiter)(void 0,void 0,void 0,(function(){var t,r,n,a,i;return(0,_.__generator)(this,(function(o){switch(o.label){case 0:t=e.symbol,r=e.interval,n=e.startTime,a=e.endTime,i=[],o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,y.U2)("/fapi/v1/lvtKlines?symbol="+t+"&interval="+r+"&startTime="+n+"&endTime="+a)];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,i]}}))}))},b=r("axHs"),S=[{min:0,max:20,step:1,rotation:0},{min:20,max:35,step:1,rotation:-45},{min:35,max:70,step:4,rotation:-45},{min:70,max:100,step:5,rotation:-45},{min:100,max:140,step:6,rotation:-45},{min:140,max:180,step:25,rotation:-45}],w=[{min:5,max:12,step:2,rotation:0},{min:12,max:24,step:2,rotation:-45},{min:24,max:35,step:3,rotation:-45},{min:35,max:48,step:4,rotation:-45},{min:48,max:60,step:5,rotation:-45},{min:60,max:80,step:6,rotation:-45},{min:80,max:100,step:7,rotation:-45},{min:100,max:112,step:8,rotation:-45},{min:112,max:122,step:9,rotation:-45},{min:122,max:132,step:10,rotation:-45},{min:132,max:142,step:11,rotation:-45},{min:142,max:152,step:12,rotation:-45},{min:152,max:162,step:13,rotation:-45},{min:162,max:180,step:13,rotation:0}],k=r("0pZZ"),C=l().createElement,E=[{key:"7",textKey:"Last7Days",value:[p()().subtract(7,"days"),p()()]},{key:"30",textKey:"Last30Days",value:[p()().subtract(30,"days"),p()()]}];const Z=function(e){var t=e.periods,r=void 0===t?E:t,n=e.curPeriod,a=e.onChange,i=(0,f.KL)().getI18n;return C(c.Z,{sx:{alignItems:"flex-end"}},r.map((function(e){var t=e.key,r=e.textKey,o=e.value;return C(k.Z,{key:t,variant:"outline",mr:2,sx:{fontFamily:"IBM Plex Sans",borderRadius:"circle",fontSize:0,height:"22px",lineHeight:"22px",minHeight:"unset",padding:"0 10px",border:"1px solid",borderColor:n.key===t?"t.yellow200":"lines.border",boxShadow:function(e){return n.key===t?"inset 0 0 0 1px ".concat(e.colors.primary):"inset 0 0 0 1px ".concat(e.colors.bg)}},color:n.key===t?"t.yellow200":"t.primary",onClick:function(){return a(t,o)}},i("leveragedTokens-".concat(r)))})))};var T=l().createElement,A=(0,g.SA)((function(){return Promise.all([r.e(834),r.e(567),r.e(639),r.e(898),r.e(789)]).then(r.bind(r,"0jhq"))}),"csr"),I=function(e){var t=e.isMobile,r=e.tokenName,a=e.isLight,l=(0,s.useRef)({}),d=(0,f.KL)().getI18n,g=(0,s.useState)(!1),_=g[0],y=g[1],k=(0,s.useState)({key:"7",value:[p()().subtract(7,"days"),p()()]}),C=k[0],E=k[1],I=(0,s.useState)([]),P=I[0],O=I[1],D=(0,s.useCallback)((function(e,t){_||e===l.current.key||E({key:e,value:t})}),[_]),M=[],L=[];P.forEach((function(e){e[0]>=15927912e5&&(M.push((0,v.B5)(e[0])),L.push(parseFloat(e[5])))}));var N=function(e){var t=e.isMobile,r=e.categorieLen,n=S;t||(n=w);var a,i=(0,b.Z)(n);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o.min,l=o.max,c=o.step,u=o.rotation;if(r>s&&r<=l)return{step:c,rotation:u}}}catch(d){i.e(d)}finally{i.f()}return{step:1,rotation:0}}({isMobile:t,categorieLen:M.length}),R=N.step,B=N.rotation;(0,s.useEffect)((function(){var e=C.key,t=C.value,a=function(){var n=(0,o.Z)(i().mark((function n(){var a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return y(!0),n.next=3,x({symbol:r,limit:1e3,interval:"7"===e?"1h":"4h",startTime:t[0].valueOf(),endTime:t[1].valueOf()});case 3:a=n.sent,O(a),y(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();l.current=(0,n.Z)({},C),a()}),[C,r]);var j=(0,s.useMemo)((function(){return T(A,{categories:M,seriesName:d("leveragedTokens-realLeverage"),seriesData:L,isLight:a,chartConf:{xStep:R,xRotation:B,xType:{type:"datetime"},isLight:a,xDateFormat:"%m-%d %H:%M",xFormatter:function(e){return(0,v.vs)(e,"MM-DD")},yFormatter:function(e){return(0,h.uf)(e,t?2:8)},pointFormatter:function(e){return(0,h.uf)(e,8)}}})}),[M,d,L,R,B,t,a]);return(0,s.useMemo)((function(){return T(c.Z,{flexDirection:"column",sx:{my:["-24px",0],mx:["-24px",0],width:"100%"}},T(c.Z,{mt:["40px","0"],mb:["plus","sm"],ml:["16px","0"],sx:{alignItems:"center",justifyContent:t?"flex-start":"flex-end"}},T(Z,{curPeriod:C,onChange:D})),T(u.Z,{width:t?"375px":"100%",height:230,sx:{"& > div":{width:t?"375px":"100%",height:"100%"}}},j),_&&T(m.Z,null))}),[t,C,j,D,_])};const P=l().memo(I)},"3y2H":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var n=r("XP5A"),a=r("xIFI"),i=r.n(a),o=r("c83x"),s=r("I78S"),l=r("Ng/A"),c=r("qN/k"),u=r("kz/E"),d=r("bCmj"),p=r("vsgX"),f=r("xDxD"),m=r("FU4r"),g=r("jTy+"),h=r("S2LQ"),v=r("qJlb"),_=r("jw37"),y=r("PRLU"),x=r("wz6d"),b=i().createElement,S={width:"100%",".title":{color:"t.primary",padding:"20px 24px",lineHeight:"24px",fontWeight:600,boxShadow:"shadow1",fontSize:"20px"},".content":{padding:"16px 24px 24px"},".item":{display:"flex",lineHeight:"18px",justifyContent:"space-between",marginTop:"8px"},".label":{color:"#76808F"}},w=i().memo((function(e){var t=e.label,r=e.value,a=(0,n.Z)(e,["label","value"]);return b("div",Object.assign({className:"item"},a),b("div",{className:"label"},t),b("div",null,r))})),k=function(e){var t=e.purchaseFeePct,r=void 0===t?0:t,n=e.userDailyPurchaseLimit,i=void 0===n?0:n,o=e.dailyPurchaseLimit,s=void 0===o?0:o,c=e.redeemFeePct,u=void 0===c?0:c,d=e.userDailyRedeemLimit,p=void 0===d?0:d,g=e.dailyRedeemLimit,h=void 0===g?0:g,v=(0,f.ZK)().getI18n,_=(0,f.Fg)().isLight,y=(0,a.useCallback)((function(){m.ZP.show({isLight:_,contentSx:{padding:0,width:["100%","480px"]},children:b(l.Z,{sx:S},b("div",{className:"title"},v("trd-leveraged-trdrules")),b("div",{className:"content"},b(w,{label:v("trd-leveraged-trdrules-pfee"),value:"".concat((0,x.Jp)(r,100),"%")}),b(w,{label:v("trd-leveraged-trdrules-userplimit"),value:(0,x.uf)(i)}),b(w,{label:v("trd-leveraged-trdrules-plimit"),value:(0,x.uf)(s)}),b(w,{label:v("trd-leveraged-trdrules-rfee"),value:"".concat((0,x.Jp)(u,100),"%"),style:{marginTop:"32px"}}),b(w,{label:v("trd-leveraged-trdrules-userrlimit"),value:(0,x.uf)(p)}),b(w,{label:v("trd-leveraged-trdrules-rlimit"),value:(0,x.uf)(h)})))})}),[s,h,v,_,r,u,i,p]);return b("div",{onClick:y,style:{color:"#D0980B",cursor:"pointer",display:"inline-block",marginLeft:"4px"}},v("trd-leveraged-trdrules"))};const C=i().memo(k);var E=i().createElement,Z=(0,_.SA)((function(){return Promise.all([r.e(834),r.e(567),r.e(639),r.e(898),r.e(789)]).then(r.bind(r,"BjZT"))}),"csr"),T=h.x.LEVERAGED_TOKENS_URL,A=function(e){var t,r=e.type,i=(e.onClickReal,(0,n.Z)(e,["type","onClickReal"])),h=(0,o.useSelector)((function(e){return e.market.netValue})),_=h.leverageTokenName,x=void 0===_?"":_,b=h.underlying,S=void 0===b?"":b,w=h.currentLeverage,k=void 0===w?0:w,A=h.nav,I=void 0===A?0:A,P=h.side,O=void 0===P?"LONG":P,D=h.managementFeePct,M=void 0===D?0:D,L=h.issuedAmount,N=void 0===L?0:L,R=h.referenceSymbol,B=void 0===R?"":R,j=h.currentBaskets,F=void 0===j?[]:j,H=h.purchaseFeePct,z=h.userDailyPurchaseLimit,U=h.dailyPurchaseLimit,q=h.redeemFeePct,V=h.userDailyRedeemLimit,J=h.dailyRedeemLimit,W=(0,f.j2)().baseAsset,K=void 0===W?"":W,$=(0,f.rR)(),Q=(0,f.U1)($),X=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)((function(e){return e.market.logos})),r=Object.keys(t).length;return(0,a.useEffect)((function(){0===r&&e.market.queryLogos()}),[e.market,r]),t}(),Y=(0,f.KL)().getI18n,G=(0,f.tZ)(),ee=(0,f.Fs)().isMobile,te=(0,f.Fg)().isLight,re=(0,y.hd)(),ne="LONG"===O?"up":"down",ae=K.replace("LONG"===O?"UP":"DOWN",""),ie=(0,a.useMemo)((function(){return Y("leveraged-".concat(ne,"-tips"),{tokenName:ae,lever:re?"4":"4x"})}),[Y,ne,ae,re]),oe=(0,a.useMemo)((function(){return Y("leveraged-".concat(ne,"-desc"),{tokenName:ae,leverRange:"1.25x-4x"})}),[Y,ne,ae]),se=(0,a.useMemo)((function(){return(0,p.CN)(T,{locale:G,name:x})}),[x,G]),le="LONG"===O?"+":"-",ce="LONG"===O?"+1.25 ~ +4.00":"-4.00 ~ -1.25",ue=(0,a.useCallback)((function(){m.ZP.show({sx:{top:"0px",left:"0px",transform:"none",width:["375px","900px"],height:["100%","374px"]},isLight:te,title:E(s.Z,{sx:{fontSize:"16px",fontWeight:"500",color:te?"#212833":"t.grey50"}},Y("leveragedTokens-realLeverageChart")),children:E(Z,{isMobile:ee,tokenName:x,isLight:te})})}),[Y,te,x,ee]);return E(l.Z,Object.assign({tx:"leveragedTokens",variant:"container",className:r},i),E(c.Z,{tx:"leveragedTokens",variant:"header",className:"header"},X[x]&&E(u.Z,{variant:"avatar",src:X[x],alt:"",size:"18px"}),E(d.Z,{tx:"leveragedTokens.header",sx:{fontSize:"16px",fontWeight:"500",ml:2,color:"position.leverageColor",textDecoration:"none"},href:se,target:"_blank"},x),E(g.Z,{size:"l"},le+(0,v.uf)(k,3),"X")),E(l.Z,{tx:"leveragedTokens.header",variant:"title",sx:{mb:3,ml:0}},ie),E(l.Z,{tx:"leveragedTokens",sx:{color:"t.grey400"},variant:"tip",className:"tip"},oe,E(C,{purchaseFeePct:H,userDailyPurchaseLimit:z,dailyPurchaseLimit:U,redeemFeePct:q,userDailyRedeemLimit:V,dailyRedeemLimit:J})),E(l.Z,{tx:"leveragedTokens",variant:"list"},E(c.Z,{tx:"leveragedTokens.list",variant:"item"},E(l.Z,{tx:"leveragedTokens.list",variant:"label"},Y("leveraged-underlying",{defaultValue:"Underlying"})),E(l.Z,{tx:"leveragedTokens.list",variant:"value"},S)),E(c.Z,{tx:"leveragedTokens.list",variant:"item"},E(l.Z,{tx:"leveragedTokens.list",variant:"label"},Y("leveraged-target",{defaultValue:"Leverage (Target/"}),E(d.Z,{sx:{textDecoration:"none",cursor:"pointer"},onClick:ue},Y("leveraged-real",{defaultValue:"Real"})),")"),E(l.Z,{tx:"leveragedTokens.list",variant:"value"},ce,"/",le,(0,v.uf)(k,3),"X")),E(c.Z,{tx:"leveragedTokens.list",variant:"item"},E(l.Z,{tx:"leveragedTokens.list",variant:"label"},Y("leveraged-nav",{defaultValue:"NAV"})),E(l.Z,{tx:"leveragedTokens.list",variant:"value"},E(l.Z,null,(0,v.uf)(I,Q)," USDT"))),E(c.Z,{tx:"leveragedTokens.list",variant:"item"},E(l.Z,{tx:"leveragedTokens.list",variant:"label"},Y("leveraged-dmf",{defaultValue:"Daily Management Fee"})),E(l.Z,{tx:"leveragedTokens.list",variant:"value"},E(l.Z,null,(0,v.uf)(100*(M||0),2),"%"))),E(c.Z,{tx:"leveragedTokens.list",variant:"item"},E(l.Z,{tx:"leveragedTokens.list",variant:"label"},Y("leveraged-token",{defaultValue:"Token Issued"})),E(l.Z,{tx:"leveragedTokens.list",variant:"value"},E(l.Z,null,(0,v.uf)(N,2)," ".concat(x)))),E(c.Z,{tx:"leveragedTokens.list",variant:"item"},E(l.Z,{tx:"leveragedTokens.list",variant:"label"},Y("leveraged-basket",{defaultValue:"Basket"})),E(l.Z,{tx:"leveragedTokens.list",variant:"value"},E(l.Z,null,(0,v.uf)((null===(t=F[0])||void 0===t?void 0:t.amount)||0,3)," ",B," ",Y("leveraged-futures",{defaultValue:"Futures"}))))))};const I=i().memo(A)},IUPd:(e,t,r)=>{"use strict";r.d(t,{Z:()=>$e});var n=r("DtyY"),a=r("DC7k"),i=r("xIFI"),o=r.n(i),s=r("cZZN"),l=r("0pZZ"),c=r("UIN9"),u=r("YKSe"),d=r("J6Qs"),p=r("Ng/A"),f=r("qN/k"),m=r("M4Mh"),g=r("ZEy7"),h=r("gLnL"),v=r("I78S"),_=r("kB5k"),y=r.n(_);function x(e){return new(y())(e).toString(10)}function b(e,t){var r=new(y())(e),n=new(y())(t);return r.isLessThanOrEqualTo(n)}var S=(0,i.createContext)({type:"cross",setType:function(){}}),w=S.Provider,k=function(){return(0,i.useContext)(S)},C=(0,i.createContext)({direction:"sell",setDirection:function(){}}),E=C.Provider,Z=function(){return(0,i.useContext)(C)},T=(0,i.createContext)({symbol:"BTC/USDT",setSymbol:function(){},symbolMap:{}}),A=T.Provider,I=function(){return(0,i.useContext)(T)},P=r("QK4s"),O="gateway-api",D={CROSS_LIST_ALL:"/".concat(O,"/v1/friendly/margin/vip/spec/list-all"),CROSS_MAX_BORROW:"/".concat(O,"/v1/private/margin/max-borrow"),ISOLATED_MAX_BORROW:"/".concat(O,"/v1/public/isolated-margin/pair/vip-level")};function M(){var e=I().symbol,t=(0,i.useState)(""),r=t[0],n=t[1],a=(0,i.useState)(8),o=a[0],s=a[1],l=(0,i.useState)(8),c=l[0],u=l[1],d=(0,i.useState)(!0),p=d[0],f=d[1];return(0,i.useEffect)((function(){var t=e.replace("/","");t&&e.indexOf("/")>=0&&(f(!0),function(e){return(0,P.U2)("/exchange-api/v2/public/asset-service/product/get-product-by-symbol?symbol=".concat(e))}(t).then((function(e){var t,r,a,i,o,l;n(null!==(t=null===(r=e.data)||void 0===r?void 0:r.c)&&void 0!==t?t:"0"),u(Math.max(x(null!==(a=null===(i=e.data)||void 0===i?void 0:i.ts)&&void 0!==a?a:"0.01").length-2,0)),s(Math.max(x(null!==(o=null===(l=e.data)||void 0===l?void 0:l.i)&&void 0!==o?o:"0.000001").length-2,0)),f(!1)})).catch((function(e){return"undefined"!==typeof Sentry&&Sentry.captureException(e),f(!1)})))}),[e]),{price:r,baseTs:o,quoteTs:c,pricePending:p}}var L=(0,i.createContext)({defaultSymbol:"BTC/USDT",theme:"light"}),N=L.Provider,R=r("c83x"),B=function(e){return e.userCenter||{}},j=function(){return(0,R.useSelector)(B).userInfo||{}},F=r("wz6d"),H=r("xDxD"),z={loaded:!1,data:{}},U={},q={loaded:!1,data:{}},V=function(){var e=I().symbol,t=k().type,r=Z().direction,n=j().tradeLevel,o=void 0===n?0:n,s=(0,H._n)(),l=(0,i.useState)("0"),c=l[0],u=l[1],d=(0,i.useState)("0"),p=d[0],f=d[1],m=(0,i.useState)(!0),g=m[0],h=m[1];(0,i.useEffect)((function(){var r=e.split("/"),n=2===r.filter((function(e){return e.length})).length,i=(0,a.Z)(r,2),l=i[0],c=i[1];if(!n)return u("0"),void f("0");if("cross"===t)if(s)r.map((function(e){return"undefined"===typeof U[e]})).filter((function(e){return!!e})).length>0?(h(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,P.U2)("".concat(D.CROSS_MAX_BORROW,"?assets=").concat(e.join(",")))}(r).then((function(e){var t,r,n,a,i,o,s,d,p=(0,F.fd)(null!==(t=null===(r=e.data)||void 0===r||null===(n=r.filter((function(e){return e.asset===l})))||void 0===n||null===(a=n[0])||void 0===a?void 0:a.maxBorrow)&&void 0!==t?t:"0"),m=(0,F.fd)(null!==(i=null===(o=e.data)||void 0===o||null===(s=o.filter((function(e){return e.asset===c})))||void 0===s||null===(d=s[0])||void 0===d?void 0:d.maxBorrow)&&void 0!==i?i:"0");f(m),u(p),h(!1),U[l]=p,U[c]=m})).catch((function(e){"undefined"!==typeof Sentry&&Sentry.captureException(e),h(!1)}))):(f(String(U[c])),u(String(U[l])),h(!1));else if(z.loaded){var d=z.data;f(String(d[c])),u(String(d[l])),h(!1)}else h(!0),(0,P.U2)(D.CROSS_LIST_ALL).then((function(e){var t,r=(null!==(t=e.data)&&void 0!==t?t:[]).reduce((function(e,t){var r,n,a,i,s=null!==(r=null===t||void 0===t||null===(n=t.specs)||void 0===n||null===(a=n.filter((function(e){return+e.vipLevel===o})))||void 0===a||null===(i=a[0])||void 0===i?void 0:i.borrowLimit)&&void 0!==r?r:"0";return e[t.assetName]=(0,F.fd)(s),e}),{});z.loaded=!0,z.data=r,f(r[c]),u(r[l]),h(!1)})).catch((function(e){"undefined"!==typeof Sentry&&Sentry.captureException(e),h(!1)}));else if(q.loaded){var p,m,g,v=null!==(p=q.data[e])&&void 0!==p?p:{};u(null!==(m=v.base)&&void 0!==m?m:"0"),f(null!==(g=v.quote)&&void 0!==g?g:"0"),h(!1)}else h(!0),(0,P.U2)(D.ISOLATED_MAX_BORROW).then((function(t){var r,n,i,s;q.loaded=!0;var l=(null!==(r=null===t||void 0===t?void 0:t.data)&&void 0!==r?r:[]).reduce((function(e,t){var r=[t.base,t.quote].map((function(e){var t,r,n,a;return(0,F.fd)(null!==(t=null===e||void 0===e||null===(r=e.levelDetails)||void 0===r||null===(n=r.filter((function(e){return+e.level===o})))||void 0===n||null===(a=n[0])||void 0===a?void 0:a.maxBorrowable)&&void 0!==t?t:"0")})),n=(0,a.Z)(r,2),i=n[0],s=n[1];return e["".concat(t.base.assetName,"/").concat(t.quote.assetName)]={quote:s,base:i},e}),{});q.data=l;var c=null!==(n=l[e])&&void 0!==n?n:{};u(null!==(i=c.base)&&void 0!==i?i:"0"),f(null!==(s=c.quote)&&void 0!==s?s:"0"),h(!1)})).catch((function(e){"undefined"!==typeof Sentry&&Sentry.captureException(e),h(!1)}))}),[s,e,o,t]);var v="buy"===r?p:c;return{maxBorrow:isNaN(Number(v))?"0":v,pending:g}},J=r("9Koi"),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"widget",t=(0,J.$)("widget-common"),r=t.t;return(0,i.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[e,t].filter((function(e){return e})).join("-");return r(a,n).trim()||n.defaultValue||""}),[r,e])},K={pt:["12px","24px"],".row":{flexDirection:["column","row"],".sp":{justifyContent:"space-between",flexWrap:"wrap"},".dir":{mt:["12px","16px"]},".col":{flexDirection:"column",mr:["0px","32px"],flex:1,px:["12px","0px"],"&:last-of-type":{mr:"0px"},".input-group":{mt:["20px","24px"]},".tip":{mt:["-4px","0px"],lineHeight:"16px",fontSize:"12px",color:"#929AA5"}}},".input-fix":{mb:["12px","8px"]},".result":{mt:["24px","0px"],mb:["16px","0px"],p:["12px","16px"],bg:"calc.resBg",borderRadius:"2px",height:"100%",color:"#848E9C",position:"relative",".title":{lineHeight:["18px","21px"],fontSize:"16px",fontWeight:"500",color:"calc.resTitleColor",mb:["12px","16px"]},".line":{width:"100%",justifyContent:"space-between",alignItems:"baseline",lineHeight:"20px",fontSize:"14px",mb:"8px",".num":{lineHeight:["20px","24px"],fontSize:"16px",color:"calc.resNumColor",fontWeight:"500"}},".foot":{mt:["16px","0px"],position:["relative","absolute"],bottom:["0px","16px"],right:["0px","16px"],left:["0px","16px"],lineHeight:["18px","16px"],fontSize:"12px",color:""}},".cfm-btn":{display:["none","block"],"&.h5":{display:["block","none"]}}},$=o().createElement,Q=function(e){return+e>0?"+":+e<0?"-":""},X=(0,i.forwardRef)((function(e,t){var r=e.inDialog,a=e.onAbleChange,o=W(),s=V(),c=s.maxBorrow,u=s.pending,d=k().type,m=M(),g=m.price,_=m.baseTs,y=m.quoteTs,x=m.pricePending,S=Z().direction,w=I(),C=w.symbolMap,E=w.symbol,T=(0,i.useMemo)((function(){var e;return null!==(e=null===C||void 0===C?void 0:C[E])&&void 0!==e?e:{}}),[E,C]),A=T.quote,P=T.base,O=(0,i.useState)({entryPrice:"",exitPrice:"",originAmount:"",borrowAmount:""}),D=O[0],L=O[1],N=(0,i.useState)({roe:"-",pnl:"-"}),R=N[0],B=N[1];(0,i.useEffect)((function(){x||L((function(e){return(0,n.Z)((0,n.Z)({},e),{},{entryPrice:g})}))}),[g,x]),(0,i.useEffect)((function(){L((function(e){return(0,n.Z)((0,n.Z)({},e),{},{originAmount:"",borrowAmount:"",exitPrice:""})})),B({pnl:"-",roe:"-"})}),[S,E,d]);var j=(0,i.useCallback)((function(e){return function(t){return L((function(r){return(0,n.Z)((0,n.Z)({},r),{},(0,h.Z)({},e,t))}))}}),[]),F=D.entryPrice,H=D.exitPrice,z=D.originAmount,U=D.borrowAmount,q=(0,i.useMemo)((function(){var e=4===[F,H,z,U].filter((function(e){return+e>0})).length;return b(U,c)&&e}),[U,F,H,c,z]);(0,i.useEffect)((function(){null===a||void 0===a||a(q)}),[q,a]);var J=(0,i.useCallback)((function(){if("buy"===S){var e=((+z+ +U)*(+H/+F-1)).toFixed(y);B({pnl:e,roe:"".concat(Q(e)).concat(Math.abs(+e/+z*100).toFixed(2))})}else{var t=((+z+ +U)*(+F-+H)).toFixed(y);B({pnl:t,roe:"".concat(Q(t)).concat(Math.abs(+t/(+z*+F)*100).toFixed(2))})}}),[U,S,F,H,z,y]);(0,i.useImperativeHandle)(t,(function(){return{calc:J}}),[J]);var X=(0,i.useMemo)((function(){return u?"\u3000":0===+c?o("no-bor"):"".concat(o("max-bor-amt"),": ").concat(c," ").concat("buy"===S?A:P)}),[P,S,c,u,A,o]);return $(p.Z,{sx:K,className:"panel"},$(f.Z,{className:"row"},$(f.Z,{className:"col"},$(f.Z,{className:"sp"},$(xe,null),$(ke,null)),$(p.Z,{className:"dir"},$(Te,null)),$(p.Z,{className:"input-group"},$(p.Z,{className:"input-fix"},$(Oe,{onChange:j("entryPrice"),maxDecimal:y,value:F,prefix:o("ent-pri"),suffix:A})),$(p.Z,{className:"input-fix"},$(Oe,{value:H,onChange:j("exitPrice"),prefix:o("ext-pri"),suffix:A,maxDecimal:y})),$(p.Z,{className:"input-fix"},$(Oe,{value:z,onChange:j("originAmount"),prefix:o("org-amt"),suffix:"buy"===S?A:P,maxDecimal:"buy"===S?y:_})),$(p.Z,{className:"input-fix"},$(Oe,{value:U,onChange:j("borrowAmount"),prefix:o("bor-amt"),suffix:"buy"===S?A:P,maxDecimal:"buy"===S?y:_,max:c,disabled:!u&&0===+c}))),$(v.Z,{className:"tip"},X),$(l.Z,{onClick:J,disabled:!q,mt:"60px",sz:"l",className:"cfm-btn"},o("conf"))),$(f.Z,{className:"col"},$(p.Z,{className:"result"},$(v.Z,{className:"title"},o("res")),$(f.Z,{className:"line"},$(v.Z,null,o("pnl")),$(f.Z,{alignItems:"baseline"},$(v.Z,{className:"num"},R.pnl),"\xa0",$(v.Z,null,A))),$(f.Z,{className:"line"},$(v.Z,null,o("roe")),$(f.Z,{alignItems:"baseline"},$(v.Z,{className:"num"},R.roe),"\xa0",$(v.Z,null,"%"))),$(v.Z,{className:"foot"},o("ref")))),!r&&$(l.Z,{onClick:J,disabled:!q,mx:"12px",sz:"xl",className:"cfm-btn h5"},o("conf"))))}));const Y=o().memo(X);var G=o().createElement,ee=(0,i.forwardRef)((function(e,t){var r=e.inDialog,a=e.onAbleChange,o=W(),s=V(),c=s.maxBorrow,u=s.pending,d=k().type,m=M(),g=m.price,_=m.baseTs,y=m.quoteTs,x=m.pricePending,S=Z().direction,w=I(),C=w.symbolMap,E=w.symbol,T=(0,i.useMemo)((function(){var e;return null!==(e=null===C||void 0===C?void 0:C[E])&&void 0!==e?e:{}}),[E,C]),A=T.quote,P=T.base,O=(0,i.useState)({entryPrice:"",roe:"",originAmount:"",borrowAmount:""}),D=O[0],L=O[1],N=(0,i.useState)("-"),R=N[0],B=N[1],j=(0,i.useState)(null),F=j[0],H=j[1],z=(0,i.useState)(null),U=z[0],q=z[1];(0,i.useEffect)((function(){x||L((function(e){return(0,n.Z)((0,n.Z)({},e),{},{entryPrice:g})}))}),[g,x]),(0,i.useEffect)((function(){L((function(e){return(0,n.Z)((0,n.Z)({},e),{},{originAmount:"",borrowAmount:"",exitPrice:"",roe:""})})),B("-")}),[S,E,d]);var J=(0,i.useCallback)((function(e){return function(t){L((function(r){return(0,n.Z)((0,n.Z)({},r),{},(0,h.Z)({},e,t))})),H(null),q(null)}}),[]),$=D.entryPrice,Q=D.roe,X=D.originAmount,Y=D.borrowAmount,ee=(0,i.useMemo)((function(){var e=4===[$,Q,X,Y].filter((function(e){return+e>0})).length;return b(Y,c)&&e}),[Y,$,c,X,Q]);(0,i.useEffect)((function(){null===a||void 0===a||a(ee)}),[ee,a]);var te=(0,i.useCallback)((function(){var e="-";+(e="buy"===S?(+$*(+X*(+Q/100+1)+ +Y)/(+X+ +Y)).toFixed(y):(+$*(+X*(1-+Q/100)+ +Y)/(+X+ +Y)).toFixed(y))>0?(B(e),H(null),q(null)):(B("-"),H(!0),q(o("unable")))}),[Y,S,$,X,y,Q,o]);(0,i.useImperativeHandle)(t,(function(){return{calc:te}}),[te]);var re=(0,i.useMemo)((function(){return u?"\u3000":0===+c?o("no-bor"):"".concat(o("max-bor-amt"),": ").concat(c," ").concat("buy"===S?A:P)}),[P,S,c,u,A,o]);return G(p.Z,{sx:K,className:"panel"},G(f.Z,{className:"row"},G(f.Z,{className:"col"},G(f.Z,{className:"sp"},G(xe,null),G(ke,null)),G(p.Z,{className:"dir"},G(Te,null)),G(p.Z,{className:"input-group"},G(p.Z,{className:"input-fix"},G(Oe,{onChange:J("entryPrice"),maxDecimal:y,value:$,prefix:o("ent-pri"),suffix:A})),G(p.Z,{className:"input-fix"},G(Oe,{value:Q,onChange:J("roe"),prefix:o("roe"),suffix:"%",maxDecimal:2,maxInt:6,error:F,errorText:U})),G(p.Z,{className:"input-fix"},G(Oe,{value:X,onChange:J("originAmount"),prefix:o("org-amt"),suffix:"buy"===S?A:P,maxDecimal:"buy"===S?y:_})),G(p.Z,{className:"input-fix"},G(Oe,{value:Y,onChange:J("borrowAmount"),prefix:o("bor-amt"),suffix:"buy"===S?A:P,maxDecimal:"buy"===S?y:_,max:c,disabled:!u&&0===+c}))),G(v.Z,{className:"tip"},re),G(l.Z,{onClick:te,disabled:!ee,mt:"60px",sz:"l",className:"cfm-btn"},o("conf"))),G(f.Z,{className:"col"},G(p.Z,{className:"result"},G(v.Z,{className:"title"},o("res")),G(f.Z,{className:"line"},G(v.Z,null,o("tar-pri")),G(f.Z,{alignItems:"baseline"},G(v.Z,{className:"num"},+R<=0?"-":R),"\xa0",G(v.Z,null,A))),G(v.Z,{className:"foot"},o("ref")))),!r&&G(l.Z,{onClick:te,disabled:!ee,mx:"12px",sz:"xl",className:"cfm-btn h5"},o("conf"))))}));const te=o().memo(ee);var re=r("mrSG"),ne=r("Vns9"),ae=r("mG4f"),ie=r("vJk+");const oe=function(e){return o().createElement(ie.Z,(0,re.__assign)({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none"},e),o().createElement("rect",{width:16,height:16,rx:8,fill:"currentColor"}),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 11.117l-.883.878-3.122-3.117L4.883 12l-.878-.883L7.117 8 4 4.883l.883-.878 3.112 3.117L11.117 4l.873.883L8.878 8 12 11.117z",fill:"#FEFEFE"}))};var se=r("OKEt"),le=r("LkW3"),ce=function(e){return o().createElement(ie.Z,(0,re.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:e.color},e),o().createElement("path",{d:"M20.5 7.42L9.41 18.5 8 17.09l-5-5 1.41-1.42 5 5L19.08 6l1.42 1.42z",fill:e.color}))},ue=o().forwardRef((function(e,t){var r=e.multiple,n=void 0!==r&&r,a=e.isActive,i=void 0!==a&&a,s=e.isChecked,l=void 0!==s&&s,c=e.value,u=e.disabled,d=e.showChecked,m=void 0!==d&&d,g=e.children,h=e.prefix,v=e.suffix,_=(0,re.__rest)(e,["multiple","isActive","isChecked","value","disabled","showChecked","children","prefix","suffix"]);return o().createElement(p.Z,(0,re.__assign)({as:"li",role:"option",id:c,key:c,title:c,ref:t,className:"bn-sdd-option "+(l?"bnb-active-option":""),__css:{color:!u&&i?"primary":"t.primary",opacity:u?.4:1,cursor:u?"default":"pointer",bg:"popupBg",":hover":{bg:u?"":"bg2"}}},_),n&&o().createElement(le.Z,{checked:l,disabled:u}),h&&o().createElement(f.Z,{mr:2,alignItems:"center"},h),o().createElement(p.Z,{flex:1},g),m&&o().createElement(o().Fragment,null,o().createElement(f.Z,{flex:1,minWidth:"8px"}),o().createElement(ce,{color:l?"primary":"transparent"})),v&&o().createElement(p.Z,{color:"t.third"},v))}));ue.displayName="SearchDropdownOption";var de=function(e){var t=e.label,r=e.children;return i.createElement(p.Z,{as:"li"},i.createElement(p.Z,{className:"bn-sdd-optionGroupLabel"},t),i.createElement(p.Z,{as:"ul",padding:0},r))};de.displayName="SearchDropdownOptGroup";var pe,fe="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,me=function(e,t){void 0===t&&(t="");var r=o().Children.toArray(e);return e?r.reduce((function(e,r){var n;if((null===(n=null===r||void 0===r?void 0:r.type)||void 0===n?void 0:n.displayName)===de.displayName){var a=r.props,i=a.label,o=a.children;return e.concat(me(o,i))}return e.concat((0,re.__assign)({group:t},r.props))}),[]):[]},ge=function(e){var t=e.disabled,r=e.label,n=e.onValueChange,a=e.limit,s=void 0===a?5:a,l=e.children,c=e.value,u=e.placeholder,d=e.defaultValue,m=e.renderValue,g=e.filterFunction,h=void 0===g?function(e,t){return t.toLowerCase().startsWith(e.toLowerCase())}:g,v=e.onChange,_=e.onBlur,y=e.multiple,x=void 0!==y&&y,b=e.showChecked,S=void 0!==b&&b,w=e.searchPlaceholder,k=e.empty,C=void 0===k?"No results found.":k,E=e.dropdownFullWidth,Z=e.variant,T=void 0===Z?"outline":Z,A=e.hideSearch,I=void 0!==A&&A,P=e.lazy,O=void 0!==P&&P,D=e.error,M=void 0!==D&&D,L=e.infoText,N=e.errorText,R=e.footer,B=(0,re.__rest)(e,["disabled","label","onValueChange","limit","children","value","placeholder","defaultValue","renderValue","filterFunction","onChange","onBlur","multiple","showChecked","searchPlaceholder","empty","dropdownFullWidth","variant","hideSearch","lazy","error","infoText","errorText","footer"]),j=(0,re.__read)((0,i.useState)(""),2),F=j[0],H=j[1],z=(0,re.__read)((0,i.useState)(d),2),U=z[0],q=z[1],V=(0,re.__read)((0,i.useState)(0),2),J=V[0],W=V[1],K=(0,re.__read)((0,i.useState)(!1),2),$=K[0],Q=K[1],X=(0,re.__read)((0,i.useState)({}),2),Y=X[0],G=X[1],ee=(0,i.useRef)(null),te=(0,i.useRef)(null),ie=(0,i.useRef)({}),le=(0,i.useRef)(null),ce=(0,i.useRef)(null);void 0!==c&&c!==U&&q(c);var ge=(0,i.useMemo)((function(){return F?me(l).filter((function(e){return h(F,e.value)})):me(l)}),[l,F]),he=(0,i.useMemo)((function(){return Array.isArray(ge)?Math.min(ge.length,s):0}),[ge]),ve=(0,i.useMemo)((function(){return ge.reduce((function(e,t,r){var n=t.group;return e.length>0&&e[e.length-1].group===n?e[e.length-1].options.push(t):e.push({key:r,index:r,group:n,options:[t]}),e}),[])}),[ge]),_e=(0,i.useCallback)((function(){H(""),Q(!1)}),[]);(0,i.useEffect)((function(){var e=Math.max(ge.findIndex((function(e){return e.value===U})),0);W(e)}),[F,U]),(0,i.useEffect)((function(){if(ge.length>0){var e=ie.current[J],t=ie.current[J+1],r=le.current;if(e&&r){var n=r.scrollTop,a=r.clientHeight,i=e.offsetTop;if(i-68<n)return void(r.scrollTop=i-68);i>=n+a&&t&&(r.scrollTop+=t.offsetTop-i)}}}),[J]),(0,i.useEffect)((function(){if($){window.addEventListener("click",_e),te.current&&te.current.focus();var e=ie.current[J],t=le.current;e&&t&&(t.scrollTop=40*J)}else window.removeEventListener("click",_e);return function(){window.removeEventListener("click",_e)}}),[$]);var ye=(0,i.useRef)(null),xe=(0,re.__read)((0,i.useState)(1),2),be=xe[0],Se=xe[1];fe((function(){ye.current&&ee.current&&(ye.current.clientHeight>=ee.current.clientHeight?Se((function(e){return e+1})):ee.current.clientHeight-ye.current.clientHeight>20&&Se((function(e){return e-1})))}),[U]);var we=function(e){n&&n(e),H(e)},ke=function(){if(null!==ce.current){var e=ce.current.getBoundingClientRect(),t="function"===typeof getComputedStyle?getComputedStyle(ce.current):{marginLeft:"0",marginRight:"0",margin:"0"},r=t.marginLeft,n=t.marginRight,a=t.margin,i=function(e){return Number(e.split("px")[0])},o=ce.current.parentElement.getBoundingClientRect().width-i(r)-i(n)-i(a)/2;if(e.bottom+40*he>window.innerHeight)G((0,re.__assign)({bottom:e.height+"px"},E&&{width:o}));else{var s=M?N:L,l=s&&s.length>0;G((0,re.__assign)({mt:l?"-20px":"4px"},E&&{width:o}))}Q(!0)}},Ce=function(e){if(38===e.keyCode){e.preventDefault();var t=Math.max(J-1,0);W(t)}else if(40===e.keyCode){e.preventDefault();t=Math.min(J+1,ge.length-1);W(t)}else if(13===e.keyCode)if($&&!x){if(ge[J]){var r=ge[J],n=r.label||r.value;if(r.disabled)return;we(n),v&&v(n),q(n),ee.current&&ee.current.blur()}_e()}else ke();else 27===e.keyCode&&_e()},Ee=m?m(U):Array.isArray(U)?o().createElement(f.Z,{flexWrap:"wrap",ref:ye},U.map((function(e){return o().createElement(p.Z,{key:e,flexShrink:0,__css:{bg:"line",borderRadius:"small",my:"2px",mr:"minor",px:"xs",height:"24px",lineHeight:"24px"}},e)}))):U,Ze=o().createElement(se.Z,(0,re.__assign)({ref:ee,className:"bn-sdd-input",variant:"outlineLarge",disabled:t,error:M,infoText:L,errorText:N,sx:{visibility:"hidden",cursor:t?"default":"pointer"},boxProps:{sx:{height:x&&be>1?40+28*(be-1)+"px":null,width:"100%",".bn-input-suffix":{height:"100%",mr:"xs"},cursor:t?"default":"pointer"},onClick:function(e){e.preventDefault(),t||!1!==$||ke()},onMouseDown:function(e){e.stopPropagation(),e.preventDefault(),_e()}},suffix:o().createElement(f.Z,{height:"100%",alignItems:"center"},o().createElement(ne.Z,{sx:{transform:$?"rotate(180deg)":"rotate(0)",color:"t.third"},size:16})),onFocus:function(e){e.stopPropagation(),e.preventDefault(),ee.current&&ee.current.blur(),!1===$&&ke()},label:r,value:U||"",labelFixed:!0,onKeyDown:function(e){return Ce(e)}},!c&&!U&&{placeholder:u,sx:{visibility:"visible",cursor:t?"default":"pointer"}})),Te=o().createElement(p.Z,{className:"bn-sdd-innerInputContainer",width:"100%"},o().createElement(se.Z,{ref:te,boxProps:{width:"100%",sx:{".bn-input-prefix":{display:"flex"},".bn-input-suffix":{display:"flex"}}},variant:"outlineLarge",labelFixed:!0,onClick:function(e){e.stopPropagation(),e.preventDefault()},value:F,onChange:function(e){we(e.target.value),!1===$&&ke()},onKeyDown:function(e){return Ce(e)},onBlur:function(e){_&&_(e),x||(pe=setTimeout((function(){_e()}),150))},prefix:o().createElement(ae.Z,{color:"t.placeholder",ml:"8.5px",mr:"-7.5px",className:"bn-sdd-icon"}),suffix:o().createElement(oe,{className:"bn-sdd-icon",sx:{color:"t.placeholder",mr:"xs"},size:16,onClick:function(e){e.preventDefault(),e.stopPropagation(),H(""),te.current&&te.current.focus(),pe&&(clearTimeout(pe),pe=void 0)}}),placeholder:w}));return o().createElement(p.Z,(0,re.__assign)({tx:"searchDropdown",variant:T,ref:ce},B),Ze,Ee&&o().createElement(p.Z,{className:"bn-sdd-value",sx:{height:x&&be>1?40+28*(be-1)+"px":"40px",position:"absolute",display:"flex",alignItems:"center",left:0,bottom:0,right:0,pointerEvents:"none",wordBreak:"keep-all",fontSize:"sm",lineHeight:1,color:t?"t.disabled":"t.primary"}},Ee),o().createElement(p.Z,{className:"bn-sdd-dropdown",__css:(0,re.__assign)({outline:"none",height:"auto",display:$?"block":"none",width:"auto!important",minWidth:"100%!important"},Y)},!I&&Te,0===ve.length&&o().createElement(p.Z,{className:"bn-sdd-noResults"},C),o().createElement(p.Z,{ref:le,as:"ul",role:"listbox",className:"bn-sdd-list",sx:{maxHeight:40*(.7+s)+"px"}},(!O||$)&&ve.map((function(e){return function(e){var t=e.key,r=e.group,n=e.children;return r?o().createElement(de,{label:r,key:t},n):o().createElement(o().Fragment,{key:t},n)}({key:e.key,group:e.group,children:e.options.map((function(t,r){t.group;var a=(0,re.__rest)(t,["group"]),i=e.index+r;return o().createElement(ue,(0,re.__assign)((0,re.__assign)({},a),{className:"bn-sdd-option",key:i,multiple:x,isActive:J===i&&!x,isChecked:Array.isArray(U)?-1!==U.indexOf(a.value):a.value===U,showChecked:S,ref:function(e){return ie.current[i]=e},onClick:function(e){if(e.stopPropagation(),!a.disabled){var t;if(x||W(i),x){var r=Array.isArray(U)?new(Array.bind.apply(Array,(0,re.__spread)([void 0],U))):[],o=r.indexOf(a.value);-1===o?r.push(a.value):r.splice(o,1),t=r}else t=a.value;n&&n(t),v&&v(t),q(t),x||_e()}}}))}))})}))),R))};ge.displayName="SearchDropdown";const he=ge;var ve=o().createElement,_e={"> div":{"> div:first-of-type":{height:"30px",margin:"0px",width:"124px",border:"none",bg:"calc.symbolBg"},".bn-sdd-value":{padding:"0px",py:"2px",minHeight:"30px",height:"30px",lineHeight:"18px",fontSize:"14px",mr:"20px",justifyContent:"center",fontWeight:"500"},".bn-sdd-dropdown":{bg:"calc.miniSelectBg",li:{bg:"calc.miniSelectBg","&:hover":{bg:"calc.miniSelectHoverBg"}},".bn-sdd-innerInputContainer":{".bn-input-prefix, .bn-input-suffix":{display:"none"}}}}};function ye(){var e=I(),t=e.symbol,r=e.setSymbol,n=e.symbolMap,a=(0,i.useContext)(L).defaultSymbol,o=(0,i.useMemo)((function(){return Object.keys(n).map((function(e){return n[e].displaySymbol})).sort((function(e,t){return e>t?1:-1}))}),[n]);return(0,i.useEffect)((function(){if(o.length){var e,t=o.map((function(e){return e.replace("/","")})).indexOf(a),n=null!==(e=o[t])&&void 0!==e?e:"BTC/USDT";r((function(e){return e||n}))}}),[a,r,o]),ve(p.Z,{sx:_e,className:"mini-select"},ve(he,{value:t,onChange:function(e){var t;return r("string"===typeof e?e:null!==(t=null===e||void 0===e?void 0:e[0])&&void 0!==t?t:"")}},o.map((function(e){return ve(ue,{key:e,value:e},e)}))))}const xe=o().memo(ye);var be=o().createElement,Se={lineHeight:"20px",fontSize:"14px",borderRadius:"4px",overflow:"hidden",".item":{cursor:"pointer",minWidth:"80px",p:"5px 12px",justifyContent:"center",color:"calc.typeColor",bg:"calc.typeBg","&.on":{bg:"calc.typeOnBg",color:"calc.typeOnColor",fontWeight:"500"}}};function we(){var e=W(),t=k(),r=t.type,n=t.setType,a=I(),o=a.symbol,s=a.symbolMap,l=(0,i.useMemo)((function(){var e;return null!==(e=s[o])&&void 0!==e?e:{}}),[o,s]),c=l.isCross,u=l.isIsolated;return l&&be(f.Z,{sx:Se},c&&be(f.Z,{onClick:function(){return n("cross")},className:"item ".concat("cross"===r?"on":"")},e("cross")),u&&be(f.Z,{onClick:function(){return n("isolated")},className:"item ".concat("isolated"===r?"on":"")},e("iso")))}const ke=o().memo(we);var Ce=o().createElement,Ee={lineHeight:"18px",fontSize:"14px",borderRadius:"4px",overflow:"hidden",".item":{cursor:"pointer",flex:1,p:"7px 12px",justifyContent:"center",color:"calc.dirColor",bg:"calc.dirBg","&.on":{color:"#fff",fontWeight:"500",borderRadius:"2px"},"&.buy.on":{bg:"#2EBD85"},"&.sell.on":{bg:"#F84960"}}};function Ze(){var e=W(),t=Z(),r=t.direction,n=t.setDirection;return Ce(f.Z,{sx:Ee},Ce(f.Z,{onClick:function(){return n("buy")},className:"item buy ".concat("buy"===r?"on":"")},e("buy")),Ce(f.Z,{onClick:function(){return n("sell")},className:"item sell ".concat("sell"===r?"on":"")},e("sell")))}const Te=o().memo(Ze);var Ae=o().createElement,Ie={"> div":{m:"0",width:"100%",px:"8px",height:["44px","32px"],input:{fontWeight:"500"},".bn-input-prefix, .bn-input-suffix":{fontSize:["14px","12px"],color:"#848E9C",m:"0px"},".bn-input-tooltip":{fontSize:"12px",".bn-input-tooltip-arrow, .bn-input-tooltip-content":{bg:"rgb(93, 102, 105)",color:"#fff"}}}};function Pe(e){var t=e.error,r=e.errorText,n=e.maxInt,a=void 0===n?12:n,o=e.maxDecimal,s=void 0===o?2:o,l=e.value,c=void 0===l?"":l,u=e.prefix,d=e.suffix,f=e.onChange,m=e.max,g=void 0===m?Number.POSITIVE_INFINITY:m,h=e.disabled,v=void 0!==h&&h,_=(0,i.useState)(!1),y=_[0],x=_[1],S=(0,i.useState)(""),w=S[0],k=S[1],C=W(),E=(0,i.useCallback)((function(e){var t=e.target.value;new RegExp("^\\d{0,".concat(a,"}(\\.\\d{0,").concat(s,"})?$")).test(t)&&"function"===typeof f&&f(t.trim())}),[s,a,f]);return(0,i.useEffect)((function(){""!==c?b(c,g)?(x(!1),k("")):(x(!0),k("".concat(C("max-bor-amt")," ").concat(g," ").concat(d))):(x(!1),k(""))}),[g,d,C,c]),Ae(p.Z,{sx:Ie},Ae(se.Z,{disabled:v,error:null!==t&&void 0!==t?t:y,errorText:null!==r&&void 0!==r?r:w,value:c,onChange:E,variant:"inline",textAlign:"right",prefix:u,suffix:d}))}const Oe=o().memo(Pe);var De=o().createElement;function Me(e){var t=e.children,r=e.props;return De(w,{value:r.marginType},De(E,{value:r.direction},De(A,{value:r.symbol},De(N,{value:r.initState},t))))}var Le=o().createElement,Ne={width:["auto","624px"],flex:"none",bg:"calc.bg",overflowY:"auto",scrollBehavior:"smooth",".switch":{width:"100%",borderBottom:"1px solid",borderColor:"calc.modeSwitchBorderColor",pl:["24px","0px"],".item":{height:["auto","38px"],py:["20px","0px"],position:"relative",lineHeight:["24px","21px"],fontSize:["20px","16px"],fontWeight:"500",color:"#848E9C",cursor:"pointer",mr:["16px","24px"],"&:last-of-type":{mr:"0px"},"&.on":{color:"primary","&:after":{content:'""',position:"absolute",height:"2px",width:"100%",bottom:"-1px",bg:"primary",right:"0px"}}}}},Re=(0,i.forwardRef)((function(e,t){var r=e.defaultSymbol,n=void 0===r?"":r,o=e.theme,s=void 0===o?"light":o,l=e.inDialog,c=void 0!==l&&l,u=e.onAbleChange,d=void 0===u?function(){}:u,h=(0,i.useState)(""),v=h[0],_=h[1],y=(0,i.useState)("pnl"),x=y[0],b=y[1],S=(0,i.useState)(e.isCross?"cross":"isolated"),w=S[0],k=S[1],C=(0,i.useState)("buy"),E=C[0],Z=C[1],T=(0,i.useState)({}),A=T[0],I=T[1],P=W(),O=(0,i.useRef)(),D=(0,i.useRef)(),M=(0,i.useMemo)((function(){return"pnl"===x?Le(Y,{onAbleChange:d,ref:O,inDialog:c}):Le(te,{onAbleChange:d,ref:D,inDialog:c})}),[c,x,d]),L=(0,i.useCallback)((function(){var e,t;"pnl"===x?"function"===typeof(null===(t=O.current)||void 0===t?void 0:t.calc)&&O.current.calc():"function"===typeof(null===(e=D.current)||void 0===e?void 0:e.calc)&&D.current.calc()}),[x]);return(0,i.useImperativeHandle)(t,(function(){return{calc:L}}),[L]),(0,i.useEffect)((function(){Promise.all([(0,m.X)(),(0,g.gN)()]).then((function(e){var t=(0,a.Z)(e,2),r=t[0],n=t[1],i={};r.forEach((function(e){var t=e.base,r=e.quote,n="".concat(t,"/").concat(r);i[n]={isCross:!0,base:t,quote:r,displaySymbol:n}})),n.forEach((function(e){var t=e.base,r=e.quote,n="".concat(t,"/").concat(r);i[n]?i[n].isIsolated=!0:i[n]={isIsolated:!0,isCross:!1,base:t,quote:r,displaySymbol:n}})),I(i)})).catch((function(e){"undefined"!==typeof Sentry&&Sentry.captureException(e)}))}),[]),(0,i.useEffect)((function(){var e,t=null!==(e=A[v])&&void 0!==e?e:{},r=t.isCross,n=t.isIsolated;r&&!n&&k("cross"),!r&&n&&k("isolated")}),[v,A]),Le(Me,{props:{marginType:{type:w,setType:k},direction:{direction:E,setDirection:Z},symbol:{symbol:v,setSymbol:_,symbolMap:A},initState:{theme:s,defaultSymbol:n}}},Le(p.Z,{sx:Ne,height:c?["calc(100vh - 136px)","auto"]:"auto"},Le(f.Z,{className:"switch"},Le(p.Z,{onClick:function(){return b("pnl")},className:"item".concat("pnl"===x?" on":"")},P("pnl")),Le(p.Z,{onClick:function(){return b("target-price")},className:"item".concat("target-price"===x?" on":"")},P("tar-pri"))),Le(p.Z,null,M)))}));const Be=o().memo(Re);var je=r("rm+J");const Fe=(0,n.Z)((0,n.Z)({},je.Z),{},{colors:(0,n.Z)((0,n.Z)({},je.Z.colors),{},{calc:{foreBg:"#fff",bg:"#fff",miniSelectBg:"#fff",miniSelectHoverBg:"#FAFAFA",modeSwitchBorderColor:"#EAECEF",symbolBg:"#EAECEF",typeBg:"#E6E7EA",typeOnBg:"#F0B90B",typeColor:"#848E9C",typeOnColor:"#1E2026",dirBg:"#EAECEF",dirColor:"#848E9C",resBg:"rgba(234, 236, 239,.5)",resTitleColor:"#212833",resNumColor:"#1E2026"}})});var He=r("eBQ3");const ze=(0,n.Z)((0,n.Z)({},He.Z),{},{colors:(0,n.Z)((0,n.Z)({},He.Z.colors),{},{calc:{foreBg:"#1E2026",bg:"#12161C",miniSelectBg:"#2B2F36",miniSelectHoverBg:"#0B0E11",modeSwitchBorderColor:"#0B0E11",symbolBg:"rgba(72, 81, 93, 0.15)",typeBg:"#1A1F26",typeOnBg:"rgba(106, 76, 12,.5)",typeColor:"#929AA5",typeOnColor:"#F0B90B",dirBg:"#212833",dirColor:"#fff",resBg:"#212833",resTitleColor:"#fff",resNumColor:"#fff"}})});var Ue=o().createElement,qe=(0,i.forwardRef)((function(e,t){var r=(0,i.useState)(!1),a=r[0],o=r[1],s=W(),p=(0,i.useState)("light"),f=p[0],m=p[1],g=(0,i.useState)(""),h=g[0],v=g[1],_=(0,i.useState)(!0),y=_[0],x=_[1],b=(0,i.useCallback)((function(e){var t,r,n;o(!0),m(null!==(t=e.theme)&&void 0!==t?t:"light"),v(null!==(r=e.defaultSymbol)&&void 0!==r?r:""),x(null===(n=e.isCross)||void 0===n||n)}),[]),S=(0,i.useCallback)((function(){return o(!1)}),[]),w=(0,i.useRef)(),k=(0,i.useState)(!1),C=k[0],E=k[1];(0,i.useImperativeHandle)(t,(function(){return{showModal:b}}),[b]);var Z=(0,i.useCallback)((function(){var e,t;"function"===typeof(null===(e=w.current)||void 0===e?void 0:e.calc)&&(null===(t=w.current)||void 0===t||t.calc())}),[]);return Ue(c.Z,{theme:"light"===f?Fe:ze},Ue(u.Z,{sx:"dark"===f?{svg:{mt:["0px","-4px"]},bg:"#12161C",color:"#fff",">div[data-bn-type=text]":{borderColor:"#333B47"}}:{svg:{mt:["0px","-4px"]},bg:"#fff",color:"#1E2026",">div[data-bn-type=text]":{borderColor:"#EAECEF"}},contentSx:{p:[0,"18px 24px 24px"]},open:a,showCloseIcon:!0,onCloseIconClick:S},Ue(Be,{ref:w,onAbleChange:E,inDialog:!0,theme:f,defaultSymbol:h,isCross:y}),Ue(d.y,{sx:(0,n.Z)({display:["block","none"],p:"12px"},"dark"===f?{bg:"#12161C"}:{bg:"#fff"})},Ue(l.Z,{disabled:!C,onClick:Z,sz:"xl",width:"100%"},s("conf")))))}));const Ve=o().memo(qe);var Je=r("S2LQ"),We=o().createElement;function Ke(e){var t=e.wrapper,r=void 0===t?function(e){return e}:t,l=e.sx,c=void 0===l?{}:l,u=(0,H.uT)(),d=(0,a.Z)(u,1)[0],p=(0,H.Fg)().isLight,f=(0,H.Fs)().isMobile,m=(0,H.z4)(),g=(0,a.Z)(m,1)[0],h=(0,i.useRef)(),v=(0,i.useCallback)((function(){h.current.showModal({theme:f?"dark":p?"light":"dark",isCross:d===Je.xy.CROSS,defaultSymbol:g})}),[p,f,g,d]);return[Je.xy.CROSS,Je.xy.ISOLATED].indexOf(d)>=0?r(We(o().Fragment,null,We(s.Z,{onClick:v,sx:(0,n.Z)((0,n.Z)({},c),{},{cursor:"pointer",color:"t.third"}),size:[18,16]}),We(Ve,{ref:h}))):null}const $e=o().memo(Ke)},NZk9:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O});var n=r("xIFI"),a=r.n(n),i=r("c83x"),o=r("Ng/A"),s=r("I78S"),l=r("bCmj"),c=r("qN/k"),u=r("mrSG"),d=r("vJk+");const p=function(e){return a().createElement(d.Z,(0,u.__assign)({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:e.color},e),a().createElement("path",{d:"M13.667 4.947l-7.394 7.386-.94-.94L2 8.06l.94-.947 3.333 3.334L12.72 4l.947.947z",fill:e.color}))};var f="8px",m={color:"t.third",padding:f,flexGrow:0,alignItems:"center",overflow:"hidden",'&[data-status="finish"]':{color:"t.primary",'[data-class="step_marker"]':{backgroundColor:"primary"}},'&[data-status="process"]':{color:"t.primary",'[data-class="step_marker"]':{backgroundColor:"primary"},'[data-class="step_marker"]::after':{backgroundColor:"lines.primary"}},'[data-class="step_marker"]':{position:"relative",width:"24px",height:"24px",lineHeight:"24px",textAlign:"center",borderRadius:"100%",marginTop:"20px",backgroundColor:"lines.primary",userSelect:"none","&::before":{content:"''",position:"absolute",height:"1px",top:"12px",width:"9999px",backgroundColor:"inherit",right:"100%",marginRight:f},"&::after":{content:"''",position:"absolute",height:"1px",top:"12px",width:"9999px",backgroundColor:"inherit",left:"100%",marginLeft:f}},'&:first-of-type [data-class="step_marker"]::before':{display:"none"},'&:last-of-type [data-class="step_marker"]::after':{display:"none"}};const g=a().memo((function(e){var t=e.title,r=e.status,n=void 0===r?"wait":r,i=e.number,l=e.children;return a().createElement(c.Z,{sx:m,"data-status":n},a().createElement(c.Z,{flexDirection:"column",alignItems:"center"},a().createElement(s.Z,{sx:{display:["none","block"]}},t),a().createElement(o.Z,{"data-class":"step_marker"},"finish"===n?a().createElement(p,{size:20,mt:"2px",color:"t.primary"}):a().createElement(s.Z,{as:"span",fontSize:"2"},l||i))))}));var h={root:{},line:{flex:"1",position:"relative",bottom:"20px",backgroundColor:"lines.primary","&::after":{content:"''",position:"absolute",top:0,left:0,right:0,height:"1px",backgroundColor:"inherit"},'&[data-status="finish"]':{backgroundColor:"primary"},'&[data-status="process"]':{backgroundColor:"primary"},'&[data-status-line="finish"]':{backgroundColor:"primary"},'&[data-status-line="process"]':{backgroundColor:"primary"}}},v=function(e){var t=e.children,r=e.current,n=void 0===r?0:r,i="",s=[];return a().Children.forEach(t,(function(e,t){var r=null!=e.key?e.key:t,l=t,c=l===n;c&&(i=e.props.title);var d=c?"process":l<n?"finish":"wait";0!==t&&s.push(a().createElement(o.Z,{key:"line-"+r,sx:h.line,"data-status-line":d})),s.push(a().cloneElement(e,(0,u.__assign)((0,u.__assign)({status:d},e.props),{number:l,key:"step-"+r})))})),a().createElement(o.Z,{sx:h.root},a().createElement(o.Z,{textAlign:"center",color:"t.primary",display:["block","none"]},i),a().createElement(c.Z,{alignItems:"flex-end"},s))};v.Step=g,v.displayName="Steps";const _=v;var y=r("wHkB"),x=r("E56i"),b=r("xDxD"),S=r("ZIGC"),w=r("S2LQ"),k=r("MrD4"),C=r("vsgX"),E=r("/Tgl"),Z=function(e,t){var r=(0,E.yV)(t),n="borrow"===e?"360030486551":"360030486591";return"zh"===r?"https://www.binancezh.com/".concat(t,"/support/articles/").concat(n):["en","fr","id","it","ja","kr","nl","pl","pt","ru"].indexOf(r)>-1?"https://www.binance.com/".concat(t,"/support/articles/").concat(n):"https://www.binance.com/en/support/articles/".concat(n)},T={ja:"https://fast.wistia.com/embed/medias/w95p4glwot.jsonp",vn:"https://fast.wistia.com/embed/medias/5mnz8w2lb0.jsonp",ru:"https://fast.wistia.com/embed/medias/7z9otsofpv.jsonp",kr:"https://fast.wistia.com/embed/medias/khyzouxc4o.jsonp",es:"https://fast.wistia.com/embed/medias/uxavvu6s4e.jsonp",tw:"https://fast.wistia.com/embed/medias/9o6rs63q3d.jsonp","zh-TW":"https://fast.wistia.com/embed/medias/9o6rs63q3d.jsonp",cn:"https://fast.wistia.com/embed/medias/9o6rs63q3d.jsonp",en:"https://fast.wistia.com/embed/medias/eygx6c0mpu.jsonp",pt:"https://fast.wistia.com/embed/medias/z9nzhmoyx2.jsonp"},A={ja:"w95p4glwot",vn:"5mnz8w2lb0",ru:"7z9otsofpv",kr:"khyzouxc4o",es:"uxavvu6s4e",tw:"9o6rs63q3d","zh-TW":"9o6rs63q3d",cn:"9o6rs63q3d",en:"eygx6c0mpu",pt:"z9nzhmoyx2"},I=a().createElement,P=function(e){var t,r=e.isTablet,a=_.Step,u=(0,b._n)(),d=(0,i.useSelector)((function(e){return e.setting.layout}))===w.UW,p=(0,b.tZ)(),f=(0,b.ZK)("trd-step",t).getI18n,m=(0,n.useCallback)((function(){var e=A.en;return A[p]&&(e=A[p]),"wistia_async_".concat(e)}),[p]);(0,n.useEffect)((function(){var e=T.en;T[p]&&(e=T[p]);var t=document.createElement("script");t.src=e,t.async=!0;var r=document.createElement("script");r.async=!0,r.src="https://fast.wistia.com/assets/external/E-v1.js",document.body.appendChild(t),document.body.appendChild(r)}),[p]);var g=(0,n.useCallback)((function(){if(!u){var e={locale:p,callback:(0,k.Ok)(window.location.href)};window.location.href=(0,C.CN)(w.x.LOGIN_URL,e)}S.TB.emit("triggerModal","TRANSTER")}),[p,u]),h=(0,n.useCallback)((function(e){return I(o.Z,{sx:{width:"276px",height:"auto",ml:"4px"}},I(s.Z,{sx:{color:"t.grey50",display:"inline-block",fontSize:1}},f("".concat(e,"-tip")),"\xa0",I(l.Z,{target:"_blank",href:Z(e,p),sx:{color:"t.yellow200",textDecoration:"none",fontSize:1}},f("".concat(e,"-link")))))}),[f,p]),v=I(c.Z,{sx:{width:"100%",justifyContent:"space-between"}},I(s.Z,{sx:{mr:"0",ml:2,color:"t.grey300",fontSize:"12px",height:"32px",lineHeight:"32px",flex:"0 0 auto"}},f("title",{defaultValue:"Margin trading steps:"})),I(o.Z,{sx:{height:"100%",cursor:"pointer",display:"flex",alignItems:"center","& > div":{display:"flex",alignItems:"center"}},className:"wistia_embed \n        ".concat(m()," popover=true popoverContent=link")},I(x.Z,{size:20,color:"t.grey300"}),I(l.Z,{sx:{ml:1,mr:0,"&:hover":{textDecoration:"underline"}},variant:"marginStep.text",textDecoration:"none"},f("tutorial",{defaultValue:"Margin Tutorial"}))));return I(c.Z,{sx:{position:r?"absolute":"relative",bottom:"0",borderTop:"2px solid",borderColor:"marginStep.border",width:"100%",height:r?"56px":"32px",flexWrap:r?"wrap":"nowrap",alignItems:"center",justifyContent:"space-between",bg:"marginStep.bg",pl:2,pr:3}},r?v:null,I(o.Z,{sx:{display:"flex",mt:r?"-8px":"0",width:"80%","[data-status-line=wait]":{width:d?"96px":"48px","&::after":{top:"4px !important"}}}},I(_,{variant:"step"},I(o.Z,{variant:"marginStep.box"},r?null:I(s.Z,{sx:{mr:"0",ml:2,color:"t.grey300",fontSize:"12px",height:"32px",lineHeight:"32px",flex:"0 0 auto"}},f("title",{defaultValue:"Margin trading steps:"})),I(a,null,"1"),I(s.Z,{sx:{textDecoration:"underline"},variant:"marginStep.text",onClick:function(){return g()}},f("transfer",{defaultValue:"Transfer  Collaterals"}))),I(o.Z,{variant:"marginStep.box"},I(a,null,"2"),I(y.Z,{arrow:!0,tip:h("borrow"),placement:"top-start",_css:{width:"280px",height:"72px"}},I(s.Z,{sx:{textDecoration:"underline dotted"},variant:"marginStep.text"},f("borrow",{defaultValue:"Borrow/Trade"})))),I(o.Z,{variant:"marginStep.box"},I(a,null,"3"),I(y.Z,{arrow:!0,tip:h("repay"),placement:"top-start",_css:{width:"280px",height:"72px"}},I(s.Z,{sx:{textDecoration:"underline dotted"},variant:"marginStep.text"},f("repay",{defaultValue:"Repay/Trade"})))))),I(o.Z,{sx:{height:"100%",cursor:"pointer",display:r?"none":"flex",alignItems:"center","& > div":{display:r?"none":"flex",alignItems:"center"}},className:"wistia_embed \n        ".concat(m()," popover=true popoverContent=link")},I(x.Z,{size:20,color:"t.grey300"}),I(l.Z,{sx:{ml:1,mr:0,"&:hover":{textDecoration:"underline"}},variant:"marginStep.text",textDecoration:"none"},f("tutorial",{defaultValue:"Margin Tutorial"}))))};const O=a().memo(P)},Dhwz:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Je});var n=r("DC7k"),a=r("xIFI"),i=r.n(a),o=r("c83x"),s=r("Ng/A"),l=r("qN/k"),c=r("xDxD"),u=r("S2LQ"),d=r("NXRQ"),p=r("BdPR"),f=r("s5XO"),m=r("nOFq"),g=r("qM4g"),h=r("TSYQ"),v=r.n(h),_=r("XvrV"),y=i().createElement,x=(0,a.memo)((function(e){var t=e.type,r=e.onChange,n=(0,_.ZK)().getI18n;return y(l.Z,{variant:"market.typeSwitch"},y("div",{className:"wrap"},_.Yk.map((function(e){return y("div",{key:e,className:v()(["default"," ".concat(t===e?"active":"")]),onClick:function(){return r(e)}},n(e))}))))}));const b=i().memo(x);var S=r("Xe5/"),w=r("8aqO"),k=r("yCSn"),C=r("XP5A"),E=r("I78S"),Z=r("QZto"),T=r("BbQq"),A=r("Qo4k"),I=function(e){return(0,c.ZK)("trd-market",e)},P=function(){return!0},O="FAVORITES",D="BTC",M="margin",L="ETF",N="BOTH",R="FIAT",B=(u.xy.CROSS,u.xy.ISOLATED,["BNB",D,"ALTS",R,"Zones"]),j=function(e){var t=Object.keys(e).sort((function(e,t){return B.indexOf(e)-B.indexOf(t)}));return t.unshift(O,M),t},F=["TRX","ETH","BTC","BNB","BUSD","USDT"],H=1e4,z={first:{flex:"70 1 0",justifyContent:"flex-start",minWidth:"125px"},second:{flex:"80 1 0",minWidth:"80px",justifyContent:"flex-start"},third:{flex:"65 1 0",minWidth:"65px",justifyContent:"flex-end"}},U=i().createElement,q=function(e){var t=e.tabInfo,r=e.activeTab,n=e.setTab,i=e.noMargin,o=(0,C.Z)(e,["tabInfo","activeTab","setTab","noMargin"]),s=I().getI18n,c=(0,a.useMemo)((function(){return j(t)}),[t]);return U(l.Z,Object.assign({variant:"market.tabList"},o),c.map((function(e){var a=[e];t[e]&&(a=[e].concat((0,k.Z)(Object.keys(t[e]))));var o=a.indexOf(r)>-1;return a.length>2?U(A.o,{key:e,type:e,active:o,activeTab:r,values:a,switchTab:n,getI18n:s}):"FAVORITES"===e?U(Z.Z,{key:e,onClick:function(){return n(e)},active:o},U(T.Z,{size:14,color:"themeConfig.grey600"})):"margin"===e?U(Z.Z,{key:e,hidden:i,minWidth:"auto",active:o,onClick:function(){return n(e)},"data-testid":"marginType"},U(E.Z,null,s("margin",{defaultValue:"Margin"}))):U(Z.Z,{key:e,"data-testid":"".concat(e,"Type"),active:o,onClick:function(){return n(e)}},s(e,{defaultValue:e}))})))};const V=i().memo(q);var J=r("XL6Z"),W=r("mEsB"),K=r("byRa"),$=r("C50S"),Q=function(){var e=(0,c.AM)(),t=(0,c.vK)(),r=(0,W.r)(e).baseTicker,n=function(){var e=(0,J.s)((0,u.Cu)());return{update:e.update,tickers:e.tickers}}().tickers,a=(0,W.A)(r,n),i=(0,K.sf)();return{loading:t,nextTickers:Object.keys(a).reduce((function(e,t){var r=a[t];if((null===r||void 0===r?void 0:r.parentMarket)===R){var n=(0,$.$)(i,r);r.usdVolume=n}return e.push(r),e}),[])}},X=r("027f"),Y=r("ZIGC"),G=r("DtyY"),ee=r("QsMz"),te=[0,Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],re=r("M5Nd"),ne=r("MXyZ"),ae=r("v424"),ie=r("ASW3"),oe=r("NEkv"),se=r("6jfc"),le=r("qJlb"),ce=r("rDOG"),ue=r("HFO+");const de=(0,a.createContext)({radioType:"",activeTab:"",margins:{},favorite:{values:[],setValues:function(){return!1}}});var pe=i().createElement,fe=function(e){var t=e.children;return pe("span",{className:"market-multiple"},t)},me=function(e){var t,r=e.symbol,n=e.symbolDisplay,i=e.lastPrice,s=e.baseAsset,u=e.quoteAsset,d=e.difference,p=void 0===d?"--":d,f=e.quoteVolume,m=e.usdVolume,g=e.bigThan,h=e.tickSize,v=void 0===h?1e-7:h,_=e.noMargin,y=e.noFiat,x=e.placement,b=e.changeSymbol,S=e.lastFlag,w=e.parentMarket,k=e.active,C=e.openShotCut,E=(0,c.U1)(v),Z=(0,c.ve)(E).format,A=(0,X.useMarginSymbol)().symbolsMap,I=(0,c.ve)(0).format,P=(0,X.useMarketFavorites)(),O=P.favorites,D=P.setFavorite,M=(0,c.PK)(),N=(0,ce.useCurrentRoute)().pathname.split("/").slice(0,-1),B=(0,a.useContext)(de),j=B.radioType,F=B.activeTab,H=(A[r]||{}).marginRatio,U=O.indexOf(r),q="change"===j,V=F===L,J=function(e,t){var r=((0,o.useSelector)((function(e){return e.market.netValueAll[t]}),o.shallowEqual)||{}).amount,n=void 0===r?0:r;return(0,a.useMemo)((function(){return e?n:null}),[e,n])}(!0,s),W=M(i,u),K=W.symbol,$=W.fiatPrice,Q=N.concat("".concat(s,"_").concat(u)).join("/"),Y=(0,a.useMemo)((function(){return S>0?"buy":S<0?"sell":"normal"}),[S]),G=(0,a.useMemo)((function(){return q?g?"buy":"sell":"normal"}),[g,q]),ee=(0,a.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),D(r,U,O)}),[U,D,r,O]),te=(0,a.useCallback)((function(e){var t;e.metaKey||e.ctrlKey||(e.preventDefault(),b([null===n||void 0===n||null===(t=n.split("/"))||void 0===t?void 0:t.join("_")]))}),[b,n]),re=(0,a.useMemo)((function(){return C&&k}),[k,C]);return pe(ie.ZP,{className:"tradeMarketColumnWrap",sx:re?{bg:"marketColumn.hover"}:{},enablePortal:!0,trigger:"hover",placement:x,overlay:y?null:pe(l.Z,{variant:"layouts.toolTips".concat(x),sx:{alignItems:"center"}},[K,$].join(""),pe("a",{href:Q,target:"_blank",rel:"noreferrer",style:{marginLeft:"2px"}},pe(oe.Z,{size:10,sx:{color:"#fff",transform:"scale(1.6)",":hover":{color:"t.yellow300"}}})))},pe("a",{className:"content",href:Q,onClick:te},pe("div",{className:"item item-symbol",style:z.first},pe("div",{className:"favorite ".concat(U>-1?"primary":""),onClick:ee},pe(T.Z,{size:12})),pe("div",{className:"item-symbol-text"},pe("span",{className:"item-symbol-ba"},s),"/",u,pe(se.Z,null,H&&!_?pe(fe,null,H):null))),pe("div",{className:"item item-price",style:z.second},pe("div",{className:"item-price-text item-color-".concat(Y)},Z(i),w===L?"/".concat((0,le.uf)(J,E)):""),!V&&y?pe("div",{className:"item-price-fiat"},["/ ",K,$].join("")):null),pe("div",{className:"item item-change",style:z.third},pe(ue.PH,{className:"item-change-text item-color-".concat(G)},q?"".concat((t=p,Number.isNaN(Number(t))?"+0.0":t),"%"):"".concat(I(F===R?m:f))))))};const ge=i().memo(me);var he=i().createElement,ve=function(e,t){return t[e].symbol},_e=function(e){var t=e.filterFunc,r=void 0===t?function(){return!0}:t,n=e.sortFunc,i=void 0===n?function(){return 0}:n,o=e.noFiat,s=e.noMargin,l=e.placement,c=e.changeSymbol,u=e.openShotCut,d=Q(),p=d.nextTickers,f=void 0===p?[]:p,m=d.loading,g=(0,a.useMemo)((function(){return f.filter(r)}),[f,r]),h=(0,a.useMemo)((function(){return g.sort(i)}),[g,i]),v=(0,ne.D)((function(e){return he(ge,Object.assign({},e,{noFiat:o,noMargin:s,placement:l,openShotCut:u,changeSymbol:c}))}));return he(ae.Z,{variant:"market",dataSource:h,loading:m,itemElement:v,itemKey:ve,itemHeight:(re.C?document.documentElement:{clientWidth:415}).clientWidth<415?30:24,openShotCut:u,onKeyDownCallback:S._})};const ye=i().memo(_e);var xe=r("kz/E"),be=r("bCmj"),Se=r("wz6d"),we=r("ZODY"),ke=r("0pZZ"),Ce=i().createElement,Ee=function(e){var t=e.show,r=e.onRefresh;return t?Ce(s.Z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:"radial-gradient(rgba(0, 0, 0, 0.05), transparent)",zIndex:100}},Ce(ke.Z,{variant:"outline",onClick:function(e){e.stopPropagation(),r&&r()},sx:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",px:"xs",py:"minor",fontSize:1,bg:"background",borderRadius:"default",color:"t.primary"}},"try again")):null};const Ze=i().memo(Ee);var Te=i().createElement,Ae=function(e){var t=e.loading,r=e.error,n=e.onRefresh,a=e.children,i=(0,C.Z)(e,["loading","error","onRefresh","children"]);return Te(s.Z,Object.assign({__css:{position:"relative"}},i),Te(we.Z,{inner:!0,show:!!t}),Te(Ze,{show:!t&&!!r,onRefresh:n}),a)};const Ie=i().memo(Ae);var Pe=r("vsgX"),Oe=r("toeX"),De=r("jw37"),Me=i().createElement,Le=(0,De.SA)((function(){return Promise.all([r.e(834),r.e(567),r.e(639),r.e(898),r.e(789)]).then(r.bind(r,"3y2H"))}),"csr"),Ne=function(){return Me(Ie,{error:!1,sx:{pt:"minor",pb:"minor",px:"sm"}},Me(s.Z,{tx:"drivers",variant:"horizontal"}),Me(Le,{type:"market"}))};const Re=i().memo(Ne);var Be=i().createElement,je=function(e){return Be(l.Z,Object.assign({__css:{justifyContent:"space-between",alignItems:"center",color:"t.primary",my:"xs",fontSize:0}},e))},Fe=function(){return(arguments.length<=0?void 0:arguments[0])?Se.uf.apply(void 0,arguments):u.GR},He=function(e){var t=e.coin,r=(0,c.tZ)()||"",i=I().getI18n,d=(0,c.Z4)(),p=d.name,f=d.status,m=(0,c.bf)({coin:t}),g=m.coinInfo,h=m.err,v=g||{},_=v.url,y=v.alias,x=v.symbol,b=v.rank,S=v.marketCap,w=v.circulatingSupply,k=v.maxSupply,C=v.totalSupply,Z="".concat((0,Pe.Qj)(r),"/projects/").concat((0,Pe.lV)(p)),T=(0,o.useSelector)(Oe.makeFiatCurrency),A=(0,c.Q4)().split("_"),P=(0,n.Z)(A,1)[0],O=(0,a.useMemo)((function(){var e=u.GR,t="";if(T[P]){var r=T[P],n=r.rate,a=r.symbol;e=n*S,t=a}return[t,e]}),[T,P,S]),D=O[0],M=O[1],L=[{label:i("infoMarketCap",{defaultValue:"Market Cap"}),value:"".concat(D).concat(Fe(M))},{label:i("infoCircSupply",{defaultValue:"Circulation Supply"}),value:Fe(w)},{label:i("infoMaxSupply",{defaultValue:"Max Supply"}),value:Fe(k)},{label:i("infoTotalSupply",{defaultValue:"Total Supply"}),value:Fe(C)}];return Be(Ie,{error:h,sx:{pt:"minor",pb:"plus",px:"16px"}},Be(s.Z,{tx:"drivers",variant:"horizontal"}),Be(je,{sx:{mb:"sm",pt:"minor"}},Be(xe.Z,{variant:"avatar",src:_,alt:"",size:"18px"}),Be(l.Z,{sx:{alignItems:"baseline",flex:1,px:"minor"}},Be(be.Z,{href:Z,target:"_blank",disabled:f,sx:{fontSize:[2],mx:"minor",textDecoration:"none",color:"t.primary",fontWeight:"semibold"}},x),Be(E.Z,{sx:{color:"t.third",fontWeight:"semibold"}},y)),Be(E.Z,{sx:{color:"t.grey600"}},"No.".concat(b||"-"))),L.map((function(e){return Be(je,{key:e.label},Be(E.Z,{sx:{color:"t.third"}},e.label),Be(E.Z,null,e.value))})))};const ze=i().memo((function(){var e=(0,c.w1)(),t=(null===e||void 0===e?void 0:e.assetCode)||"";return(0,c.rX)()?Be(Re,null):t?Be(He,{coin:t}):null}));var Ue=i().createElement,qe=u.xy.SPOT,Ve=function(e){var t=e.noMargin,r=e.noFiat,i=e.placement,h=void 0===i?"right":i,v=e.showCoinInfo,_=void 0===v||v,y=e.withVolume,x=void 0!==y&&y,k=e.h,C=e.electronUpdateTabs,E=e.openShotCut,Z=e.selectedCallback,T=e.changeSymbolCb,A=(0,a.useRef)(),I=(0,a.useState)(0),B=I[0],j=I[1],U=(0,o.useDispatch)(),q=(0,d.KO)().putCoachMarkStep,J=(0,c.KL)().getI18n,W=(0,o.useSelector)((function(e){return e.setting.layout})),K=(0,p.Z)("spotSort"),$=(0,n.Z)(K,2),Q=$[0],re=$[1],ne=(0,o.useSelector)((function(e){return e.exchangeInfo.marketTabs})),ae=(0,o.useSelector)((function(e){return e.market.sortInfo})),ie=(0,o.useSelector)((function(e){return e.market.radioWord})),oe=(0,c.le)()||D,se=(0,c.uT)(),le=(0,n.Z)(se,2)[1];(0,a.useEffect)((function(){A&&A.current&&j(A.current.getBoundingClientRect().height)}),[k]),(0,a.useEffect)((function(){W===u.rh&&q("tradeGuide",0,{title:J("ticker-guide-title"),content:J("ticker-guide-content"),target:A,position:"left-start"})}),[W,J,q]);var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=(0,X.useMarketFavorites)().favorites,r=(0,a.useState)(e),n=r[0],i=r[1],o=(0,a.useState)(N),s=o[0],l=o[1],u=(0,a.useState)(""),d=u[0],p=u[1],f=(0,X.useMarginSymbol)().symbolsMap,m=(0,c.W3)(),g=(0,a.useMemo)((function(){return(0,Y.JA)(n,O)?function(e){var r=e.isDelivery?t.indexOf("".concat(e.pair,"-").concat(e.contractType)):t.indexOf(e.symbol);return r>-1&&(e.favoritesIndex=t.length-r),~r}:P}),[n,t]),h=(0,a.useCallback)((function(e){var t=e||{},r=t.parentMarket,a=t.quoteAsset,i=t.symbol,o=t.tags,l=t.baseAsset;e.priority&&delete e.priority;var c=(f[i]||{}).type;if(d){var u=new RegExp((0,Y.hr)(d),"i").test(l),p=new RegExp((0,Y.hr)(d),"i").test(a),h=new RegExp((0,Y.hr)(d),"i").test(i)||new RegExp((0,Y.hr)(d),"i").test("".concat(l,"/").concat(a))||new RegExp((0,Y.hr)(d),"i").test("".concat(l,"_").concat(a))||new RegExp((0,Y.hr)(d),"i").test("".concat(l," ").concat(a));return u&&(e.priority=H+F.indexOf(a)),n===a&&(e.priority=10010),u||p||h}if(Array.isArray(m)&&m.includes(n))return Array.isArray(o)&&o.includes(n);switch(n){case"all":return e;case O:return g(e);case M:return(0,Y.JA)(s,N)?c:(0,Y.JA)(c,N)||(0,Y.JA)(c,s);case L:return(0,Y.JA)(r,L);default:return[a,r].indexOf(n)>-1&&!(0,Y.JA)(r,L)}}),[g,n,s,d,f,m]);return{tabState:{activeTab:n,switchTab:i},subTabState:{activeSubTab:s,switchSubTab:l},searchState:{keyword:d,search:p},filterFunc:h,margins:f}}(oe),ue=ce.tabState,pe=ue.activeTab,fe=ue.switchTab,me=ce.subTabState,ge=me.activeSubTab,he=me.switchSubTab,ve=ce.searchState,_e=ve.keyword,xe=ve.search,be=ce.favoritesState,Se=ce.filterFunc,we=ce.margins,ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=(0,o.useSelector)((function(e){return e.market.sortInfo})),n=(0,o.useSelector)((function(e){return e.market.radioWord})),i=e===O,s=(0,ee.K)().getI18n,l=(0,a.useMemo)((function(){var r="change"===n,a=e===L,i=e===R,o=s(t?"market-radioVolume":"market-volume",{defaultValue:"Volume"});return[(0,G.Z)({text:s("market-pair",{defaultValue:"Pair"}),sortKey:"symbol"},z.first),(0,G.Z)({text:a?"".concat(s("orderForm-price",{defaultValue:"Price"}),"/").concat(s("leveraged-nav",{defaultValue:"NAV"})):s("market-price",{defaultValue:"Last Price"}),sortKey:"lastPrice"},z.second),r?(0,G.Z)({text:s("market-change",{defaultValue:"Change"}),sortKey:"difference"},z.third):(0,G.Z)({text:"".concat(o).concat(i?"($)":""),sortKey:i?"usdVolume":"quoteVolume"},z.third)]}),[e,s,n,t]),c=(0,a.useMemo)((function(){var t=r.index,n=r.desc;if(!l[t])return function(){};var a=l[t].sortKey,i=te[n];return function(t,r){if(t.priority||r.priority)return Number(r.priority||0)-Number(t.priority||0);var o,s=i,l=i;return 1===n&&(s=t[a],l=r[a]),2===n&&(s=r[a],l=t[a]),0===n&&e===O?Number(r.favoritesIndex||0)-Number(t.favoritesIndex||0):"symbol"===a&&0!==n?null===(o=s)||void 0===o?void 0:o.localeCompare(l):+s-+l}}),[r,i]);return{sortHeaders:l,sortFunc:c}}(pe,x),Ce=ke.sortFunc,Ee=ke.sortHeaders,Ze=(0,w.d)();Ze=T||Ze;var Te=(0,a.useCallback)((function(e,t){pe===L&&(le(qe),U.userProfile.save({key:"tradeType",value:qe})),Ze({resPathList:e,electronUpdateTabs:C,contractType:t}),Z&&Z()}),[pe,Ze,C,Z,le,U.userProfile]),Ae=(0,a.useCallback)((function(e){U.market.updateState({sortInfo:e})}),[U.market]),Ie=(0,a.useCallback)((function(e){return U.market.updateState({radioWord:e})}),[U.market]),Pe=function(e){return e.stopPropagation()},Oe=(0,a.useCallback)((function(e){U.userProfile.save({key:"market",value:e}),fe(e)}),[U.userProfile,fe]);return(0,a.useEffect)((function(){Ae(Q||(pe===O?{index:0,desc:0}:{index:0,desc:1}))}),[pe,Q,Ae]),Ue(s.Z,{ref:A,sx:{display:"flex",flexDirection:"column",height:"100%",pb:"margin"===pe?"0px":"6px"}},Ue(de.Provider,{value:{margins:we,favorite:be,activeTab:pe,radioType:ie}},Ue(V,{tabInfo:ne,activeTab:pe,setTab:Oe,noMargin:t,sx:{marginLeft:"16px"},onClick:Pe}),Ue(s.Z,{onClick:Pe,sx:{px:"sm",overflow:"auto"}},"margin"===pe&&Ue(b,{type:ge,onChange:he}),Ue(l.Z,{sx:{justifyContent:"space-between","> div":{flex:1}}},Ue(f.Z,{value:_e,search:xe,openShotCut:E}),Ue(g.Z,{value:ie,change:Ie})),Ue(m.Z,{headers:Ee,sortInfo:ae,switchSort:_e?void 0:Ae,setSort:re})),Ue(ye,{filterFunc:Se,sortFunc:Ce,noFiat:r,noMargin:t,placement:h,changeSymbol:Te,openShotCut:E,onKeyDownCallback:function(e){var t=e.data,r=e.metaKey,n=e.ctrlKey;(0,S._)({data:t,metaKey:r,ctrlKey:n}),setTimeout((function(){Z&&Z()}),100)}}),!!_&&B>300&&Ue(ze,{activeTab:pe,style:{padding:"0 16px 0 16px"}})))};const Je=i().memo(Ve)},pMPZ:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ue});var n=r("xIFI"),a=r.n(n),i=r("Ng/A"),o=r("I78S"),s=r("ZODY"),l=r("xDxD"),c=r("VwJU"),u=r.n(c),d=r("HSMY"),p=r("QK4s"),f=r("S2LQ"),m={UP_BREAKTHROUGH:{DAY_1:"24hHigh",WEEK_1:"7dayHigh",MONTH_1:"30dayHigh"},DOWN_BREAKTHROUGH:{DAY_1:"24hLow",WEEK_1:"7dayLow",MONTH_1:"30dayLow"},DROP_BACK:"risedrop",RISE_AGAIN:"Dropfast",HIGH_VOLUME_RISE_3:"HighVolumePump",HIGH_VOLUME_RISE_2:"HighVolumeSurge",HIGH_VOLUME_RISE_1:"VolumeRise",HIGH_VOLUME_DROP_3:"VolumePlunge",HIGH_VOLUME_DROP_2:"VolumeDrop",HIGH_VOLUME_DROP_1:"VolumeFall",BLOCK_TRADES_BUY:"LargePurchase",BLOCK_TRADES_SELL:"LargeSale",default:{MINUTE_5:"5min",HOUR_2:"2hours"}},g={1e3:"NORMAL_CLOSURE",1005:"NO_STATUS_RECEIVED"};function h(e){var t,r,n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open=function(){(t=new WebSocket(e)).onmessage=a.onmessage,t.onclose=function(e){return n.reconnect(e)},t.onerror=function(e){return n.reconnect(e)}},this.reconnect=function(e){e.code in g||t._hand_close_||r||(r=setTimeout((function(){n.open()}),a.timeout||3e3))},this.close=function(){t._hand_close_=!0,t.close()},this.open(),this}var v="".concat(f._U,"/stream?streams=abnormaltradingnotices"),_=function(){var e=(0,d.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.U2)("/gateway-api/v1/public/indicator/abnormal-trading-notice/list",{headers:{lang:t}});case 3:return r=e.sent,e.abrupt("return",r||{});case 7:e.prev=7,e.t0=e.catch(0),Sentry.captureException(e.t0),console.log("BAD REQUEST: parse ERROR is ".concat(e.t0.message,"\n").concat(e.t0.stack));case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();const y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,r=void 0===t?10:t,a=(0,l.tZ)()||"",i=(0,n.useState)([]),o=i[0],s=i[1],c=(0,n.useState)(!1),u=c[0],d=c[1],p=(0,n.useState)(!1),f=p[0],m=p[1],g=function(e,t){return t.map((function(e){var t=e.baseAsset,r=e.quotaAsset,n=e.priceChange,a=e.eventType,i=e.createTimestamp,o=e.sendTimestamp;return{ba:t,qa:r,change:n,type:a,time:i||o,period:e.period,volume:e.volume}})).concat(e).slice(0,r)};return(0,n.useEffect)((function(){d(!0),_(a).then((function(e){e.success&&e.data&&s((function(t){return g(t,e.data)}))})).catch((function(){})).finally((function(){d(!1),m(!0)})).catch((function(e){"undefined"!==typeof Sentry&&Sentry.captureException(e)}));var e=new h(v,{onmessage:function(e){var t=JSON.parse(e.data).data;s((function(e){return g(e,[t])}))}});return function(){e.close()}}),[]),{list:o,loading:u,loaded:f}};var x=r("yCSn"),b=r("DtyY"),S=r("rDOG"),w=r("qN/k"),k=r("mrSG"),C=r("vJk+");const E=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M12.535 11V8.5L16 6l3.465 2.5V11L16 8.5 12.535 11zm9.445-3.636H29v2.272h-7.02V7.364zM3 7.364h7.02v2.272H3V7.364z",fill:"currentColor"}))};const Z=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M12.555 13v-2.676l3.465-2.677 3.465 2.677V13l-3.465-2.676L12.555 13z",fill:"currentColor"}),a().createElement("path",{d:"M12.555 8.352V5.677L16.02 3l3.465 2.676v2.676L16.02 5.676l-3.465 2.676zM22 6.784h7.02v2.432H22V6.784zm-18.98 0h7.02v2.432H3.02V6.784z",fill:"currentColor"}))};const T=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M19.465 14v-2.192L16 9.615l-3.465 2.192V14L16 11.807 19.465 14z",fill:"currentColor"}),a().createElement("path",{d:"M19.465 10.193V8L16 5.807 12.535 8v2.193L16 8l3.465 2.193z",fill:"currentColor"}),a().createElement("path",{d:"M19.465 6.385V4.193L16 2l-3.465 2.192v2.193L16 4.193l3.465 2.192zM10.02 8.996H3V7.004h7.02v1.992zm18.98 0h-7.02V7.004H29v1.992z",fill:"currentColor"}))};const A=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M19.465 6v2.5L16 11l-3.465-2.5V6L16 8.5 19.465 6zM10.02 9.636H3V7.364h7.02v2.272zm18.98 0h-7.02V7.364H29v2.272z",fill:"currentColor"}))};const I=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M19.484 3v2.676L16.02 8.353l-3.465-2.677V3l3.465 2.676L19.484 3z",fill:"currentColor"}),a().createElement("path",{d:"M19.484 7.647v2.676L16.02 13l-3.465-2.676V7.648l3.465 2.676 3.464-2.676zM10.04 9.216H3.02V6.784h7.02v2.432zm18.98 0H22V6.784h7.02v2.432z",fill:"currentColor"}))};const P=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M12.535 2v2.192L16 6.385l3.465-2.192V2L16 4.193 12.535 2z",fill:"currentColor"}),a().createElement("path",{d:"M12.535 5.807V8L16 10.193 19.465 8V5.807L16 8l-3.465-2.193z",fill:"currentColor"}),a().createElement("path",{d:"M12.535 9.615v2.192L16 14l3.465-2.193V9.615L16 11.807l-3.465-2.192zm9.445-2.611H29v1.992h-7.02V7.004zM3 7.004h7.02v1.992H3V7.004z",fill:"currentColor"}))};const O=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M11.4 2.493h1.2V4.5H14v7h-1.4v2.006h-1.2v-2.006H10v-7h1.4V2.493zM19 2.493l3 3.75h-2.4v7.264h-1.2V6.243H16l3-3.75z",fill:"currentColor"}))};const D=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M7.9 2.493h1.2V4.5h1.4v7H9.1v2.006H7.9v-2.006H6.5v-7h1.4V2.493zM18.5 6.243l-3-3.75-3 3.75h2.4v7.264h1.2V6.243h2.4zM25.5 6.243l-3-3.75-3 3.75h2.4v7.264h1.2V6.243h2.4z",fill:"currentColor"}))};const M=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M4.4 2.493h1.2V4.5H7v7H5.6v2.006H4.4v-2.006H3v-7h1.4V2.493zM12 2.493l3 3.75h-2.4v7.264h-1.2V6.243H9l3-3.75zM19 2.493l3 3.75h-2.4v7.264h-1.2V6.243H16l3-3.75zM29 6.243l-3-3.75-3 3.75h2.4v7.264h1.2V6.243H29z",fill:"currentColor"}))};const L=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M11.4 13.507h1.2V11.5H14v-7h-1.4V2.493h-1.2v2.006H10v7h1.4v2.008zM19 13.507l3-3.75h-2.4V2.493h-1.2v7.264H16l3 3.75z",fill:"currentColor"}))};const N=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M7.9 13.507h1.2V11.5h1.4v-7H9.1V2.493H7.9v2.006H6.5v7h1.4v2.008zM18.5 9.757l-3 3.75-3-3.75h2.4V2.493h1.2v7.264h2.4zM25.5 9.757l-3 3.75-3-3.75h2.4V2.493h1.2v7.264h2.4z",fill:"currentColor"}))};const R=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M4.4 13.507h1.2V11.5H7v-7H5.6V2.493H4.4v2.006H3v7h1.4v2.008zM12 13.507l3-3.75h-2.4V2.493h-1.2v7.264H9l3 3.75zM19 13.507l3-3.75h-2.4V2.493h-1.2v7.264H16l3 3.75zM29 9.757l-3 3.75-3-3.75h2.4V2.493h1.2v7.264H29z",fill:"currentColor"}))};const B=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M19 9h2l-3 3-3-3h2.256V6.388c0-.884-.783-1.602-1.75-1.602-.966 0-1.75.718-1.75 1.602V13H12V6.388C12 4.52 13.569 3 15.5 3 17.432 3 19 4.521 19 6.388V9z",fill:"currentColor"}))};const j=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M19 9h2l-3-3-3 3h2.256v.612c0 .884-.783 1.602-1.75 1.602-.966 0-1.75-.718-1.75-1.602V3H12v6.612C12 11.48 13.569 13 15.5 13c1.932 0 3.5-1.521 3.5-3.388V9z",fill:"currentColor"}))};const F=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.005 7.4c.059-.298.143-.726-.005-.9-.024-.029-.528-.028-.84-.027h-7.843a1.827 1.827 0 01-1.795-1.484c-.003-.017-.008-.034-.013-.052h.461c.825 0 1.496-.67 1.496-1.495v-.4a.29.29 0 00-.291-.29h-.872c-.64 0-1.223.328-1.569.834a1.903 1.903 0 00-1.568-.835h-.872a.29.29 0 00-.29.291v.4c0 .825.67 1.495 1.495 1.495h.509a.802.802 0 00-.025.196v1.63c0 1.254.469 2.451 1.32 3.37a4.924 4.924 0 002.834 1.522 2.02 2.02 0 00.057 1.423c.03.07.086.127.158.156a.348.348 0 00.221-.001l2.641-1.113a.894.894 0 00.46-.436 4.942 4.942 0 002.912-1.417 4.91 4.91 0 001.386-2.692c.002-.002.002-.005.002-.008.007-.048.018-.105.03-.168zM21.88 4.685a.29.29 0 11-.58 0 .544.544 0 00-1.087-.002v1.002a.29.29 0 11-.581 0l.001-1.038h-.003a.543.543 0 00-1.086.038.29.29 0 11-.58 0 1.125 1.125 0 011.957-.753 1.126 1.126 0 011.96.753z",fill:"currentColor"}))};const H=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M15.077 4.308h4.615v4.615l-1.846-1.846-5.077 5.077-.923-.923 5.077-5.077-1.846-1.846z",fill:"currentColor"}))};const z=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M14.692 4.308h-4.615l1.846 1.846-5.077 5.077.923.923 5.077-5.077 1.846 1.846V4.308zM23.609 4.308h-4.616l1.846 1.846-5.077 5.077.924.923 5.076-5.077 1.847 1.846V4.308z",fill:"currentColor"}))};const U=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M6.077 4.308h4.615v4.615L8.846 7.077 3.77 12.154l-.923-.923 5.077-5.077-1.846-1.846zM14.993 4.308h4.616v4.615l-1.846-1.846-5.077 5.077-.923-.923 5.077-5.077-1.847-1.846zM28.274 4.308h-4.616l1.847 1.846-5.077 5.077.923.923 5.077-5.077 1.846 1.846V4.308z",fill:"currentColor"}))};const q=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M15.077 11.692h4.615V7.077l-1.846 1.846-5.077-5.077-.923.923 5.077 5.077-1.846 1.846z",fill:"currentColor"}))};const V=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M24.609 11.692h-4.616l1.846-1.846-5.077-5.077.924-.923 5.076 5.077 1.847-1.846v4.615zM15.692 11.692h-4.615l1.846-1.846-5.077-5.077.923-.923 5.077 5.077 1.846-1.846v4.615z",fill:"currentColor"}))};const J=function(e){return a().createElement(C.Z,(0,k.__assign)({width:"1em",height:"1em",viewBox:"0 0 32 16",fill:"none"},e),a().createElement("path",{d:"M14.993 11.692h4.616V7.077l-1.847 1.846-5.077-5.077-.923.923 5.077 5.077-1.846 1.846zM6.077 11.692h4.615V7.077L8.846 8.923 3.769 3.846l-.923.923 5.077 5.077-1.846 1.846zM28.274 11.692h-4.616l1.846-1.846-5.077-5.077.924-.923 5.076 5.077 1.847-1.846v4.615z",fill:"currentColor"}))};var W=r("wz6d"),K=r("lukr"),$=a().createElement,Q={UP_BREAKTHROUGH:{DAY_1:$(E,null),WEEK_1:$(Z,null),MONTH_1:$(T,null)},DOWN_BREAKTHROUGH:{DAY_1:$(A,null),WEEK_1:$(I,null),MONTH_1:$(P,null)}},X={HIGH_VOLUME_RISE_1:$(O,null),HIGH_VOLUME_RISE_2:$(D,null),HIGH_VOLUME_RISE_3:$(M,null),HIGH_VOLUME_DROP_1:$(L,null),HIGH_VOLUME_DROP_2:$(N,null),HIGH_VOLUME_DROP_3:$(R,null)},Y={DROP_BACK:$(B,null),RISE_AGAIN:$(j,null)},G={BLOCK_TRADES_BUY:$(F,null),BLOCK_TRADES_SELL:$(F,null)},ee={UP_1:$(H,null),UP_2:$(z,null),UP_3:$(U,null),DOWN_1:$(q,null),DOWN_2:$(V,null),DOWN_3:$(J,null)},te=(0,b.Z)((0,b.Z)((0,b.Z)((0,b.Z)({},X),Y),G),ee),re=function(){var e=new Map([[Q,32],[X,38],[Y,36],[G,44],[ee,44]]),t={};return e.forEach((function(e,r){Object.keys(r).forEach((function(r){t[r]=e}))})),t}(),ne=function(e){var t=e.change,r=e.type;return t>0||"BLOCK_TRADES_BUY"===r?"buy":"sell"},ae=function(e){var t=e.ba,r=e.type,n=e.change,a=e.volume,i=r in G?"".concat(+a.toFixed(2)," ").concat(t):"".concat(n>0?"+":"").concat((0,W.uf)(100*+n,2),"%");return $(o.Z,{variant:"layouts.ellipsis",sx:{color:ne({change:n,type:r}),fontSize:0,mb:"2px"}},i)},ie=function(e){var t=e.type,r=e.change,a=e.period,o=ne({change:r,type:t}),s=function(e){return re[e]||32}(t),l=(0,n.useMemo)((function(){return te[t]||null}),[t]),c=(0,n.useMemo)((function(){var e;return(null===Q||void 0===Q||null===(e=Q[t])||void 0===e?void 0:e[a])||null}),[t,a]);return $(w.Z,{sx:{position:"relative",width:"54px",height:"24px",alignItems:"center",justifyContent:"center","> svg":{color:o,fill:o,fontSize:s}}},$(i.Z,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,bg:o,borderRadius:"default",opacity:.15}}),c,l)},oe=function(e){var t=e.ba,r=e.qa,a=e.type,s=e.change,c=e.period,u=e.volume,d=e.time,p=e.height,f=(0,S.useCurrentRoute)().pathname.split("/").slice(0,-1),g=(0,(0,l.ZK)("trd-remind").getI18n)(function(e,t){var r=m[e];return r?(r[t]&&(r=r[t]),"string"!==typeof r?t:r):m.default[t]}(a,c)),h=(0,n.useMemo)((function(){return[].concat((0,x.Z)(f),["".concat(t,"_").concat(r)]).join("/")}),[t,f,r]);return $(w.Z,{as:"a",href:h,target:"_blank",sx:{height:p,flex:"none",alignItems:"center",justifyContent:"space-between",textDecoration:"none",borderBottom:"1px solid black",borderColor:"lines.secondBorder","&:last-of-type":{border:"none"}}},$(i.Z,{sx:{flex:1}},$(o.Z,{sx:{color:"t.third",fontSize:0,mb:"2px"}},$(o.Z,{as:"span",color:"t.primary"},t),"/",r),$(o.Z,{sx:{color:"t.third",fontSize:0}},(0,K.v)(new Date(+d),"hh:mm:ss"))),$(i.Z,{sx:{flex:1,textAlign:"right",overflow:"hidden"},minWidth:96},$(ae,{ba:t,type:a,change:s,volume:u}),$(o.Z,{variant:"layouts.ellipsis",sx:{color:"t.primary",fontSize:0,pb:"1px"},title:g},g)),$(w.Z,{sx:{flex:1},justifyContent:"flex-end",minWidth:54},$(ie,{type:a,change:s,period:c})))};const se=a().memo(oe);var le=a().createElement,ce=function(e){var t,r=e.expand,n=e.itemHeight,a=y(),c=a.list,u=a.loading,d=a.loaded,p=(0,l.ZK)("trd-common",t).getI18n,f=n*(r?4:2),m=r?"scroll":"hidden",g=r?c:c.slice(0,2);return le(i.Z,{sx:{position:"relative",transition:"height 0.3s",px:0,overflowY:m,height:f}},le(s.Z,{fullScreen:!0,inner:!0,show:u}),g.map((function(e,t){return le(se,Object.assign({key:t,height:n},e))})),0===c.length&&d&&le(o.Z,{sx:{fontSize:0,textAlign:"center",py:"12px",color:"marketActivities.empty"}},p("nodata",{defaultValue:"No Data"})))};ce.defaultProps={itemHeight:41};const ue=a().memo(ce)},nasR:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>V});var n=r("DC7k"),a=r("xIFI"),i=r.n(a),o=r("xDxD"),s=r("8+a1"),l=r("qN/k"),c=r("I78S"),u=[70,75,60,1],d=function(e){return{minWidth:"".concat(u[e]||0,"px")}},p=i().createElement,f=function(e){var t=e.headers;return p(l.Z,{variant:"girdList.columnBox",sx:{px:["0","sm"],py:"8px"}},t.map((function(e,t){return p(l.Z,{key:t,className:e.area,sx:{userSelect:"none",height:"16px"},style:d(t)},p(c.Z,{title:e.text,variant:"layouts.ellipsis",sx:{fontSize:0,color:"t.secondary"}},e.text))})))};const m=i().memo(f);var g=function(e){var t=e.price;return console.info(t)},h=function(e){return e};const v=(0,a.createContext)({formatTk:h,formatMi:h,columnClick:g});var _=r("v424"),y=r("DtyY"),x=r("yCSn"),b=r("VwJU"),S=r.n(b),w=r("HSMY"),k=r("HZII"),C=r.n(k),E=r("s7cC"),Z=r("QK4s"),T=r("ZIGC"),A=r("A8g+"),I=r("S2LQ"),P=r("W2MH"),O="1d",D=function(){var e=(0,w.Z)(S().mark((function e(){var t,r,n,a,i,o,s,l,c=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},r=t.startTime,n=t.endTime,a=t.rows,i=t.page,o=t.accountType,l="/exchange-api/v1/private/streamer/trade/get-user-trades",e.prev=2,e.next=5,(0,Z.v_)(l,{accountType:o,startTime:r,endTime:n,page:i,rows:a});case 5:s=e.sent,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),Sentry.captureException(e.t0),new Error("network error");case 12:if("000000"===s.code){e.next=14;break}throw new Error(s.message||"unknown error");case 14:return e.abrupt("return",{data:s.data||[],total:s.total});case 15:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),M=function(e,t){return e.filter((function(e){return"".concat(e.baseAsset).concat(e.quoteAsset).toLowerCase()===t.toLowerCase()}))};const L=function(){var e=(0,o.z4)(),t=(0,n.Z)(e,1)[0],r=(0,o.uT)(),i=(0,n.Z)(r,1)[0],s=(0,a.useState)([]),l=s[0],c=s[1],u=(0,a.useState)(Date.now()),d=u[0],p=u[1],f=(0,E.Z)((0,w.Z)(S().mark((function e(){var t,r,n,a,o,s,l,u,d,p=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:{},r=t.page,n=t.rows,a=void 0===n?200:n,o=(0,A.OQ)(O),s=o.startTime,l=o.endTime,null!==s&&null!==l){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,D({startTime:s,endTime:l,page:r,rows:a,accountType:(0,T.lx)(i)});case 7:u=e.sent,d=u.data,c(d),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),Sentry.captureException(e.t0),c([]);case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),[i],{loading:!0}),m=(0,n.Z)(f,2),g=m[0].loading,h=m[1];return(0,a.useEffect)((function(){h({page:1})}),[h]),function(e,t){var r=(0,o._n)(),i=(0,o.iB)(),s=(0,o.uT)(),l=(0,n.Z)(s,1)[0];(0,a.useEffect)((function(){if(r){var n=Date.now(),a=C()((function(){(0,P.j)("stream_first_push",{duration:(0,T.LU)(Date.now()-n)})}));return(0,I.l6)().getUserOrderStream(l).subscribe((function(r){a(),e((function(e){return[].concat((0,x.Z)([].concat(r).map((function(e){var t=e.symbol,r=i[t]||{};return(0,y.Z)((0,y.Z)({},e),{},{symbol:t,baseAsset:r.baseAsset,quoteAsset:r.quoteAsset,tradeId:e.tradeId,price:e.lastPrice,time:e.transactionTime,side:e.side,qty:e.LastExecutedQuantity,fee:e.commissionAmount,feeAsset:e.commissionAsset,totalQuota:e.lastQuoteQuantity})})).filter((function(e){var t=e.orderStatus,r=(0,A.OQ)(O).endTime,n=null===r||e.time<=r;return("PARTIALLY_FILLED"===t||"FILLED"===t)&&n}))),(0,x.Z)(e))})),t(Date.now())}))}}),[r,l])}(c,p),{trades:M(l,t),updateTime:d,loading:g}};var N=r("lukr"),R=i().createElement,B=function(e){var t=e.price,r=e.qty,n=e.side,i=e.time,o=(0,a.useContext)(v),s=o.formatMi,l=o.formatTk,c=o.columnClick,u="BUY"===n?"buy":"sell";return R(_.H,{className:"trade-list-item trade-list-item-".concat(u),onClick:function(){return c({price:t,side:u})}},R("div",{className:"price",style:d(0)},l(t)),R("div",{className:"text","data-area":"right",style:d(1)},s(r)),R("div",{className:"time",style:(0,y.Z)((0,y.Z)({},d(2)),{},{textAlign:"right"})},(0,N.v)(new Date(i),"hh:mm:ss")))};const j=i().memo(B);var F=i().createElement,H=function(e,t){return t[e].tradeId},z=function(){var e=L(),t=e.trades,r=e.loading;return F(_.Z,{variant:"girdList.tradeList",dataSource:t,loading:r,itemElement:j,itemKey:H,itemHeight:18})};const U=i().memo(z);var q=i().createElement;const V=function(e){var t,r=e.onColumnClick,a=void 0===r?g:r,i=(0,o.z4)(),l=(0,n.Z)(i,2),c=l[0],u=l[1],d=(0,o.ZK)("trd-trades",t).getI18n,p=(0,o.mC)(),f=p.formatMi,h=p.formatTk,_=(0,n.Z)(u,2),y=_[0],x=_[1],b=[{text:"".concat(d("price",{defaultValue:"Price"}),"(").concat(x,")")},{text:"".concat(d("amount",{defaultValue:"Amount"}),"(").concat(y,")"),area:"right"},{text:d("time",{defaultValue:"Time"})}];return q(s.Z,{sx:{px:0,ml:[0,"-16px"]}},q(m,{headers:b}),q(v.Provider,{value:{formatTk:h,formatMi:f,columnClick:a}},q(U,{symbol:c})))}},aWOv:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n=r("xIFI"),a=r.n(n),i=r("t26l"),o=r("S2LQ"),s=r("XsYC"),l=r("Z4JP"),c=r("c83x"),u=r("MEJg"),d=r("xDxD"),p=r("0EDE"),f=r("XCrG"),m=r("yVMw"),g=a().createElement;const h=function(e){var t=e.lastPrice,r=e.quoteAsset,n=(0,d.PK)()(t,r),i=n.fiatPrice,o=n.symbol;return g(a().Fragment,null,o,i)};var v=r("yCSn"),_=r("wz6d"),y=r("HFO+"),x=a().createElement,b={rtl:{left:{content:216,triangle:0},right:{content:0,triangle:5}},ltr:{left:{content:-216,triangle:0},right:{content:0,triangle:-5}}},S=function(e){var t=e.scrollHeight,r=e.height,n=e.hoverIndex,a=e.children,i=e.reverse,o=e.rowHeight,s=e.overlayDirection,l=void 0===s?"left":s,c=(0,d.gm)(),u=(t+r)/o-1,p=((i?Math.floor(u):u)-n+(i?1:0))*o;return x("div",{className:"overlay ".concat(l)},x("div",{className:"content",style:{transform:"translate(".concat(b[c][l].content,"px, calc(-50% - ").concat(p,"px))")}},a),x("div",{className:"triangle",style:{transform:"translate(".concat(b[c][l].triangle,"px, calc(-50% - ").concat(p,"px))")}}))},w=function(e){var t,r=e.height,a=e.hoverIndex,i=e.reverse,o=e.scrollHeight,s=e.decimalPlace,c=e.quantityPrecision,u=e.baseAsset,p=e.quoteAsset,f=e.rowCountRef,m=e.rowHeight,g=e.data,h=e.overlayDirection,b=e.type,w=e.showOverlay,k=(0,d.KL)().getI18n,C=0,E=0,Z=f.current,T=(0,n.useContext)(l.Z).sumAountRef,A=i?[0,Z-a]:[0,a+1];return(t=i?(0,v.Z)(g).reverse():g).slice.apply(t,A).forEach((function(e){var t=e.amount,r=e.total;C+=parseFloat(t),E+=parseFloat(r)})),T.current[b]=(0,_.uf)(C,c),w?x(S,{scrollHeight:o,height:r,hoverIndex:a,reverse:i,rowHeight:m,overlayDirection:h},x("div",{className:"overlayItem"},x("div",{className:"title"},k("orderBook-avgPrice",{defaultValue:"Avg.Price"}),":"),x(y.XI,null,"\u2248 ",(0,_.uf)(E/C,s))),x("div",{className:"overlayItem"},x("div",{className:"title"},"".concat(k("orderBook-Sum",{defaultValue:"Sum"})," ").concat(u),":"),x("div",null,(0,_.uf)(C,c))),x("div",{className:"overlayItem"},x("div",{className:"title"},"".concat(k("orderBook-Sum",{defaultValue:"Sum"})," ").concat(p),":"),x("div",null,(0,_.uf)(E,s)))):null};const k=a().memo(w);var C=function(e){return{price:"".concat(e("orderBook-Price",{defaultValue:"Price"})),amount:"".concat(e("orderBook-Amount",{defaultValue:"Amount"})),total:"".concat(e("orderBook-Total",{defaultValue:"Total"}))}},E=function(e,t){return e.map((function(e,r){return{type:e,title:C(t)[e],style:{flex:1,justifyContent:0===r?"flex-start":"flex-end"}}}))},Z=function(e,t,r){return function(n,a,i){var o=(0,d.gm)(),s=a[i],l=s.amount,c=s.total,u={amount:(0,_.uf)(l,t),total:(0,_.uf)(Number(c),r)};return{progress:Number(l)/Number(e),datas:n.map((function(e,t){var r=e.type;return{type:r,value:u[r]||null,style:{textAlign:{ltr:0===t?"left":"right",rtl:0===t?"right":"left"}[o]}}}))}}},T=a().createElement;const A=function(e){var t=e.median,r=e.stream,a=(0,n.useContext)(l.Z),i=a.level,s=a.qty,g=a.symbol,v=a.baseAsset,_=a.quoteAsset,y=(0,d.gm)(),x=0,b=(0,d.KL)().getI18n,S=(0,f.k)(r).tickProps,w=(0,u.y)({symbol:g,stream:(0,o.l6)(!1),limit:2}).trades,E=(0,c.useSelector)((function(e){return e.setting.layout})),A=(0,n.useContext)(p.VY).widgetLayout,I="left";if("pro"===E){var P=A&&A.find((function(e){return"orderbook"===e.i}));I=P.x>=4?"left":"right","rtl"===y&&(I=P.x<=22?"left":"right")}else"basic"===E&&(I="right");S&&S.lastPrice?x=null===S||void 0===S?void 0:S.lastPrice:w[0]&&w[0].price&&(x=w[0].price);var O=i,D=-Math.log10(s),M=(0,n.useMemo)((function(){return function(e,t,r){return[{type:"price",title:"".concat(C(e).price,"(").concat(t,")"),direction:"l",style:{flex:1,justifyContent:"flex-start"}},{type:"amount",title:"".concat(C(e).amount,"(").concat(r,")"),direction:"r",style:{flex:1,justifyContent:"flex-end"}},{type:"total",title:"".concat(C(e).total),direction:"r",style:{flex:1,justifyContent:"flex-end"}}]}(b,_,v)}),[b,_,v]),L=(0,n.useCallback)((function(e){return T(k,Object.assign({},e,{baseAsset:v,quoteAsset:_,decimalPlace:O,quantityPrecision:D,overlayDirection:I}))}),[v,O,D,_,I]),N=(0,n.useMemo)((function(){return Z(t,D,O)}),[t,D,O]);return T(m.Z,{markPrice:T(h,{lastPrice:x,quoteAsset:_}),decimalPlace:O,quantityPrecision:D,isMore:!0,tableHeaderConfig:M,renderOverlay:L,renderRow:N,enablePriceClick:!0,trades:w,stream:(0,o.Cu)()})};var I=r("WbBH"),P=a().createElement,O=function(e){var t=e.median,r=(0,n.useContext)(l.Z),a=r.level,i=r.qty,o=(0,d.KL)().getI18n,s=(0,n.useMemo)((function(){return E(["price","amount","total"],o)}),[o]),c=(0,n.useMemo)((function(){return E(["amount","price"],o)}),[o]),u=(0,n.useMemo)((function(){return E(["price","amount"],o)}),[o]),p=a,f=-Math.log10(i),m=(0,n.useMemo)((function(){return Z(t,f,p)}),[t,p,f]);return P(I.Z,{decimalPlace:p,quantityPrecision:f,headerConfigAll:s,headerConfigBid:c,headerConfigAsk:u,renderRow:m})};const D=a().memo(O);var M=a().createElement,L=a().memo((function(e){var t=(0,n.useContext)(l.Z),r=t.asks,a=t.bids,s=(0,n.useMemo)((function(){if(r&&a){var e,t=r.concat(a).sort((function(e,t){return e.amount-t.amount}));return null===(e=t[Math.floor(.95*t.length)])||void 0===e?void 0:e.amount}return 0}),[r,a]);return M(i.Z,null,(function(t){return t.isMobile?M(D,Object.assign({},e,{median:s})):M(A,Object.assign({},e,{median:s,stream:(0,o.Cu)()}))}))}));const N=function(e){return M(s.Z,{sdk:(0,o.Cu)()},M(L,e))}},eN16:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r("S2LQ"),a=r("ZIGC"),i=r("Hu8M"),o=r("Ng/A"),s=r("I78S"),l=r("qN/k"),c=r("xIFI"),u=r.n(c),d=u().createElement,p=[{key:"minTradeAmount",suffix:"baseAsset"},{key:"minTickSize",suffix:"quoteAsset"},{key:"minOrderValue",suffix:"quoteAsset"},{key:"maxMarketOrderQty",suffix:"baseAsset"}],f=Object.create(null),m=function(e){var t=e.base,r=e.quote,u=e.locale,m=e.getI18n,g=(0,c.useState)([]),h=g[0],v=g[1];return(0,c.useEffect)((function(){var e="".concat(t).concat(r),n=f[e];n?v(n):(0,i.Of)(e).then((function(t){f[e]=n=t,v(n)})).catch((function(e){"undefined"!==typeof Sentry&&Sentry.captureException(e)}))}),[t,r]),d(o.Z,{color:"t.third",fontSize:"14px"},d(s.Z,{fontSize:"2",sx:{fontWeight:"500",color:"t.primary",mt:"-8px",mb:"sm"}},m("traderules")),p.map((function(e){var t=e.key,r=e.suffix;return d(l.Z,{justifyContent:"space-between",pb:"sm",key:t},m(t),d(s.Z,{as:"span",color:"t.primary",sx:{float:"right",px:"16px"}},h[t],"\xa0",h[r]))})),d(s.Z,{as:"a",target:"_blank",sx:{color:"primary",textDecoration:"none"},href:(0,a.CN)(n.x.TRADERULE_URL,{locale:u})},m("viewMore")))};const g=u().memo(m)},CHO7:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r("XP5A"),a=r("xIFI"),i=r.n(a),o=r("I78S"),s=i().createElement;const l=function(e){var t=e.children,r=(0,n.Z)(e,["children"]);return s(o.Z,Object.assign({variant:"labelButton.default",sx:{flex:1,mr:"xs",py:"4px",color:"t.fifth",lineHeight:"16px",textDecoration:"none",":last-of-type":{mr:"0"}}},r),t)}},W1YF:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Oe});var n=r("DC7k"),a=r("xIFI"),i=r.n(a),o=r("Ng/A"),s=r("qN/k"),l=r("bCmj"),c=r("7SQh"),u=r("xDxD"),d=r("027f"),p=r("UkW2"),f=r("jTy+"),m=r("ZIGC"),g=r("S2LQ"),h=r("194l"),v=r("RMtB"),_=r("fp4b");function y(e){var t=e.tradeType,r=e.children,n=(0,_.XX)(),o=n.base,s=n.quote,l=n.ticker,c=n.userInfo,u=n.isLoggedIn,d=n.urlConfig,p=n.getAskBids,f=n.getFiatPrice,m=n.getMarketPrice,g=n.orderFormPriceQty,h=n.putCoachMarkStep;return(0,a.useMemo)((function(){return i().cloneElement(r,{base:o,quote:s,ticker:l,userInfo:c,urlConfig:d,tradeType:t,isLoggedIn:u,getFiatPrice:f,getMarketPrice:m,orderFormPriceQty:g,putCoachMarkStep:h,getBook:p})}),[o,s,l,r,c,t,u,d,p,f,m,g,h])}const x=i().memo(y);var b=r("XP5A"),S=r("tmgI"),w=r("dFGf"),k=r("k2h9"),C=r("DyW9"),E=i().createElement,Z=function(e){var t=e.addon,r=e.orderType,n=e.onChange,i=(0,a.useContext)(k.UE),l=i.locale,c=i.getI18n,u=i.selfHost;return E(s.Z,{alignItems:"center",justifyContent:"space-between",sx:{borderBottom:"1px solid",borderBottomColor:"lines.light"}},E(o.Z,{flex:"4",sx:{position:"relative",bottom:"-1px"}},E(C.Z,{locale:l,getI18n:c,orderType:r,onChange:n,selfHost:u})),E(o.Z,{flex:"5"},t))};const T=i().memo(Z);var A=r("0axZ"),I=r("I78S"),P=r("Hr2e"),O=r("QEdm"),D=r("NvfF"),M=r("L4Ep"),L=r("xfKf"),N=r("gQYy"),R=r("2M4l"),B=r("c83x"),j=r("JW8N"),F=r("o/Hz"),H=r("ifmk"),z=i().createElement,U=R.Z.registerActionHandle,q=R.Z.constants,V=1,J=function(e){var t=e.side,r=e.orderType,n=e.tradeType,i=(0,a.useRef)({}),l=(0,B.useDispatch)(),c=(0,a.useContext)(k.UE),d=c.base,p=c.quote,f=c.ticker,m=c.locale,g=c.getI18n,h=c.urlConfig,v=c.isLoggedIn,y=c.userAssets,x=c.isDelivery,b=void 0!==x&&x,w=c.renderRegisterLogin,C=(0,_.Kx)(t,n,r,i),E=C.state,Z=C.dispatch,T=C.getHelperText,R=C.handleFormChange,J=C.handleFormSubmit,W=C.handleQuantityChange,K=C.handleQuantityElectronChange,$=(0,a.useRef)(),Q=E[r],X=E.mode,Y=E.balance,G=E.isFetching,ee=E.qtyTotalMode,te=(0,_.m8)({orderType:r,dispatch:Z,side:t});(0,_.vn)({ref:$,step:2});var re=(0,u.pb)();return(0,a.useEffect)((function(){return U((function(e){var n=e.name,a=e.payload;switch(n){case q.ACTION_TRADE_ONECLIKE_BUY:if("BUY"===t){var i=Number(a.priceLevel),o=a.valueInput.value;if("percentage"===a.valueInput.type)o=K(a.valueInput.value).quantity.value;(r===S.Jm.LIMIT||S.Jm.STOPLIMIT||S.Jm.OCO)&&(i>0?l.orderForm.updateState({priceQty:{side:"SELL",qty:"".concat(o),price:re.bid[i-1].price}}):l.orderForm.updateState({priceQty:{side:"SELL",qty:"".concat(o),price:re.ask[Math.abs(i)-1].price}})),r===S.Jm.MARKET&&R("","quantity",o),V++}break;case q.ACTION_TRADE_ONECLIKE_SELL:if("SELL"===t){var s=a.valueInput.value,c=Number(a.priceLevel);if("percentage"===a.valueInput.type)s=K(a.valueInput.value).quantity.value;(r===S.Jm.LIMIT||S.Jm.STOPLIMIT||S.Jm.OCO)&&(c>0?l.orderForm.updateState({priceQty:{side:"BUY",qty:"".concat(s),price:re.bid[c-1].price}}):l.orderForm.updateState({priceQty:{side:"BUY",qty:"".concat(s),price:re.ask[Math.abs(c)-1].price}})),r===S.Jm.MARKET&&R("","quantity",s),V++}}}))}),[R,K,re.bid,re.ask,r,l.orderForm,t,V]),(0,a.useMemo)((function(){return z(o.Z,{ref:$,flex:"1",sx:{"&:first-of-type":{mr:"7%"}}},z(D.Z,{ref:i}),z(s.Z,{fontSize:"16px",flexWrap:"wrap",color:"t.primary",alignItems:"center",justifyContent:"space-between",sx:{pt:"8px",pb:"4px"}},z(I.Z,{variant:"layouts.ellipsis",sx:{maxWidth:"30%"},title:g("MAIN-".concat(t),{coin:d})},g("MAIN-".concat(t),{coin:d})),z(L.Z,{mode:X,side:t,balance:Y,dispatch:Z,tradeType:n,base:d,quote:p,getI18n:g,isLoggedIn:v,userAssets:y,isDelivery:b,py:"0"})),n!==S.xy.SPOT&&z(H.P,{mode:X,getI18n:g,dispatch:Z,side:t}),z(A.Z,{onChange:R,onSubmit:J,trim:!0,noValidate:!0,autoComplete:"off"},M.aC[r].map((function(e,r){var n=e.name,a=e.type,o=e.isBase,s=e.disabled,l=e.needLogin,c=e.withHelper,u=e.placeholder,m=e.minKey,h=void 0===m?"tickSize":m,_=e.stepKey,y=void 0===_?"tickSize":_;return l&&!v?null:"slider"===a?z(P.Z,{key:"slider",value:Q.sliderQty.value,onChange:W}):"hr"===a?z(j.Z,{key:"hr-".concat(r)}):"mixedInput"===a?z(F.Z,{side:t,key:"qtyTotalInput",modalRef:i,qtyTotalMode:ee,getHelperText:T,totalState:Q.total,quantityState:Q.quantity,handleClick:te}):z(N.Z,{key:n,name:n,symbol:t,min:f[h],step:f[y],precision:f["".concat(y,"Precision")],before:g(n),after:o?d:p,value:Q[n].value,disabled:s,invalid:Q[n].invalid,errorText:Q[n].errorMsg,helperText:c&&T(n,Q[n].value),placeholder:u&&g(u),autoZero:n===S.u9.QUANTITY})})),z(O.Z,{outline:!0,base:d,mode:X,side:t,locale:m,getI18n:g,urlConfig:h,isFetching:G,isLoggedIn:v,renderRegisterLogin:w})))}),[g,t,d,X,Y,Z,n,p,v,y,b,R,J,r,m,h,G,w,f,Q,T,W,ee,te])};const W=i().memo(J);var K=i().createElement;const $=function(e){var t=e.tradeType,r=void 0===t?S.xy.SPOT:t,n=e.addon,i=(0,b.Z)(e,["tradeType","addon"]),o=(0,a.useState)(S.Jm.LIMIT),l=o[0],c=o[1];return K(w.Z,i,K(T,{addon:n,orderType:l,onChange:c}),K(s.Z,{justifyContent:"space-between"},K(W,{side:S.g.BUY,orderType:l,tradeType:r}),K(W,{side:S.g.SELL,orderType:l,tradeType:r})))};var Q=r("FU4r"),X=r("gRXG"),Y=r("uk6z"),G=r("fvT5"),ee=r("XhDG"),te=r("6JaR"),re=r("eN16"),ne=r("/MgC"),ae=r("PFLj"),ie=r("U+DX"),oe=r("bXMB"),se=i().createElement,le=function(e){var t=e.getI18n,r=e.locale,n=e.showRule,a=(0,X.c)(r);return se(te.j,null,se(oe.Z,null),se(ie.Z,null),se(te._,{onClick:n},t("traderules")),se(l.Z,{href:a,target:"__blank",className:"item",color:"t.primary",sx:{textDecoration:"none"}},t("faq")),se(ae.Z,null),se(G.Z,null,se(te._,null,t("spottutorial"))))},ce=function(){var e=(0,h.Z)(),t=e.getI18n,r=e.i18n.language,i=(0,u.rX)(),s=(0,_.Q_)(),l=(0,u.Fg)().isLight,c=(0,u.Pc)(),d=(0,u._n)(),p=(0,u.qv)(),f=(0,_.IX)(),m=(0,n.Z)(f,2),g=m[0],v=m[1],y=(0,a.useRef)();(0,_.vn)({ref:y,step:3});var x=(0,a.useCallback)((function(){Q.ZP.show({isLight:l,sx:{py:"16px"},children:se(re.Z,{getI18n:t,base:g,quote:v,locale:r})})}),[g,v,l,r,t]);return se(o.Z,{lineHeight:"0",textAlign:"right",sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},i&&se(ne.Z,null),d&&se(ee.Z,{ml:"8px",mr:"6px",bnbFree:s,locale:r,getI18n:t,userInfo:c,burnBnbRate:p,tradeLevel:c.tradeLevel,base:g,quote:v}),se(Y.Z,{ref:y,overlay:se(le,{locale:r,getI18n:t,showRule:x})}))};const ue=i().memo(ce);var de=r("cn61"),pe=i().createElement,fe=function(e){return pe(v.Z,e)},me=function(e){var t=e.onlySpot;return pe(s.Z,{justifyContent:"flex-end"},pe(de.Z,null),t&&pe(ue,null))},ge=function(e){var t=e.onlySpot,r=(0,u.Li)(),n=(0,d.useMarginSymbol)().symbolsMap;return(0,a.useMemo)((function(){return 0===Object.keys(n).length?null:pe(x,{tradeType:g.xy.SPOT},pe($,{selfHost:g.$g,userAssets:r,addon:pe(me,{onlySpot:t}),renderRegisterLogin:fe}))}),[t,n,r])};const he=i().memo(ge);var ve=r("wHkB"),_e=r("1EOl"),ye=r("IUPd"),xe=r("CHO7"),be=r("Nmnx"),Se=r("LEn2"),we=i().createElement,ke=function(e){var t=e.tradeType,r=(0,u._n)(),n=(0,h.Z)().getI18n,o=(0,_.bU)(),l=o.risk,c=o.marginBar,d=o.marginLevel,p=(0,_e.Z)(c),v=(0,a.useCallback)((function(e){m.TB.emit("triggerModal",e)}),[]);return r?we(i().Fragment,null,we(s.Z,{justifyContent:"flex-end",alignItems:"center",fontSize:"1",sx:{pb:"4px"}},we(ye.Z,{sx:{mr:"10px"}}),c&&(t===g.xy.CROSS&&p?we(ve.Z,{arrow:!0,placement:"top",tip:n("adjust-lever")},we(f.Z,{size:"xl",disable:!1,onClick:function(){return v(be.Ze.ADJUST)}},c)):we(f.Z,{size:"xl"},c)),we(I.Z,{pl:"8px",color:"t.secondary",variant:"layouts.ellipsis",sx:{maxWidth:"72px"}},n(l.tip),":\xa0"),we(I.Z,{sx:{mr:"xs",fontSize:0,color:l.color}},d),we(xe.Z,{px:"8px",flex:"none",minWidth:"60px",onClick:function(){return v(be.Ze.TRANSTER)}},n("transfer")),we(xe.Z,{px:"8px",flex:"none",minWidth:"60px",onClick:function(){return v(be.Ze.BORROW)}},n("borrow"))),we(Se.Z,{tradeType:t})):we(ye.Z,{wrapper:function(e){return we(s.Z,{justifyContent:"flex-end",alignItems:"center"},e)}})};const Ce=i().memo(ke);var Ee=i().createElement,Ze=function(e){return Ee(v.Z,e)},Te=function(e){var t=e.tradeType,r=(0,d.useMarginAssets)().userAssets,n=(0,B.useDispatch)(),i=(0,a.useCallback)((function(){setTimeout((function(){t===g.xy.ISOLATED&&n.margin.queryIsolatedAccount()}),g.WI)}),[t,n.margin]);return(0,a.useMemo)((function(){return Ee(x,{tradeType:t},Ee($,{selfHost:g.$g,userAssets:r,magicRefresh:i,addon:Ee(Ce,{tradeType:t}),renderRegisterLogin:Ze}))}),[t,r,i])};const Ae=i().memo(Te);var Ie=i().createElement,Pe=function(e){var t=e.type,r=(0,u.z4)(),a=(0,n.Z)(r,1)[0],i=(0,h.Z)(),v=i.getI18n,_=i.i18n.language,y=(0,u.uT)(),x=(0,n.Z)(y,1)[0],b=!(0,d.useMarginSymbol)().symbolsMap[a]||(0,m.jO)(_);return Ie(o.Z,{p:"0 16px 16px"},!b&&Ie(s.Z,{flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",pt:"8px",pb:"6px"},Ie(s.Z,{alignItems:"center"},Ie(p.ZP,{display:"inline-flex",itemProps:{width:"110px",height:"24px"}}),"fullScreen"===t?(0,m.JO)(_,a)&&Ie(l.Z,{ml:"sm",fontSize:"1",color:"t.third",target:"__blank",sx:{textDecoration:"none"},href:"/".concat(_,"/futures/BTCUSDT")},v("futures"),Ie(f.Z,null,"125x"),Ie(c.Z,{ml:"8px",verticalAlign:"middle",fontSize:"12px"})):null),Ie(ue,null)),x===g.xy.CROSS||x===g.xy.ISOLATED?Ie(Ae,{key:x,tradeType:x}):Ie(he,{onlySpot:b}))};const Oe=i().memo(Pe)},Nmnx:(e,t,r)=>{"use strict";r.d(t,{Ze:()=>n,g:()=>a,Az:()=>i,xQ:()=>o,lL:()=>s,kD:()=>l});var n={FUT_TRANSTER:"FUT_TRANSTER",TRANSTER:"TRANSTER",BORROW:"BORROW",REPAY:"REPAY",ADJUST:"ADJUST"},a={BUY:"BUY",SELL:"SELL"},i=8,o="support/articles/115000583311",s="redeem",l="subscribe"},fp4b:(e,t,r)=>{"use strict";r.d(t,{IX:()=>y,Q_:()=>S,vn:()=>Ze,Kx:()=>we,HY:()=>h,bU:()=>f,XX:()=>x,m8:()=>Ae});var n=r("DC7k"),a=r("xIFI"),i=r.n(a),o=r("c83x"),s=r("DLiJ"),l=r("d9qJ"),c=r("xDxD"),u=r("S2LQ"),d=r("ZIGC"),p=r("wz6d"),f=function(){var e,t=(0,c.z4)(),r=(0,n.Z)(t,1)[0],i=(0,o.useSelector)(l.makeTradeType),f=(0,o.useSelector)(s.makeMarginCoeff),m=(0,o.useSelector)(s.makeMarginAccount),g=(0,o.useSelector)(s.makeIsolatedCoeff),h=(0,o.useSelector)(s.makeIsolatedAccount)[r]||{},v=i===u.xy.CROSS?m:h,_=v.marginBar,y=v.marginLevel,x=v.totalAssetOfBtc,b=v.totalLiabilityOfBtc,S=v.totalNetAssetOfBtc,w=v.transferOutBar,k=i===u.xy.CROSS?f:null!==(e=g[r])&&void 0!==e?e:{},C=(0,a.useMemo)((function(){return(0,d.Dh)(+y,k)}),[y,k]);return(0,a.useMemo)((function(){return{risk:C,marginBar:_,marginLevel:y,totalNetAssetOfBtc:S,totalBalance:x,totalDebt:b,transferOutBar:(0,p.fd)(Number(null!==w&&void 0!==w?w:"2").toFixed(2))}}),[C,_,y,S,x,b,w])},m=r("DtyY"),g=r("5qSA"),h=function(){var e=(0,o.useSelector)(g.makeAssets),t=(0,o.useSelector)(s.makeIsolatedAccount),r=(0,o.useSelector)(s.makeIsolatedInterestRate),n=(0,o.useSelector)(s.makeIsolatedUserAssets);return(0,a.useMemo)((function(){return Object.keys(n).map((function(a){var i=n[a],o=t[a]||{},s=o.ladder,l=o.displaySymbol,c=o.status,u=o.delistTime;return{symbol:a,ladder:s,userAssets:Object.keys(i).map((function(t){var n=e[t]||{free:"0",logoUrl:""},a=n.free,o=n.logoUrl;return(0,m.Z)((0,m.Z)({},i[t]),{},{logoUrl:o,maxTransferAmount:"".concat(a),interestRate:r[t]})})),displaySymbol:l,status:c,delistTime:u}}))}),[e,r,t,n])},v=r("NXRQ"),_=r("U4Ym"),y=function(){var e=(0,c.z4)(),t=(0,n.Z)(e,2),r=t[0],a=t[1][0];return[a,r.replace(a,"")]};function x(){var e=(0,c._n)(),t=(0,c.z4)(),r=(0,n.Z)(t,1)[0],i=y(),o=(0,n.Z)(i,2),s=o[0],l=o[1],d=(0,c.Pc)(),f=(0,c.PK)(),g=(0,c.PZ)(r),h=(0,c.FJ)(),x=(0,c.j2)(),b=(0,v.KO)().putCoachMarkStep,S=(0,a.useMemo)((function(){var e=(0,_.p)(x.minQty),t=(0,_.p)(x.tickSize),r=Math.min(e+t,8),n=(0,p.Jp)(x.minQty,x.tickSize).toFixed(r);return(0,m.Z)((0,m.Z)({},x),{},{minTotal:n,minTotalPrecision:r,minQtyPrecision:e,tickSizePrecision:t,lastPrice:x.close})}),[x]);return{base:s,quote:l,ticker:S,userInfo:d,isLoggedIn:e,getAskBids:g,getFiatPrice:f,putCoachMarkStep:b,getMarketPrice:(0,c.dP)(r,S),orderFormPriceQty:h,urlConfig:u.x}}var b=r("027f");function S(){var e,t=(0,c.Li)(),r=(0,b.useMarginAssets)().userAssets,a=(0,c.uT)(),i=(0,n.Z)(a,1)[0]===u.xy.SPOT?t:r;return null===i||void 0===i||null===(e=i.BNB)||void 0===e?void 0:e.free}var w=r("3j8H"),k=r("fiM/"),C=r("L4Ep"),E=r("tmgI"),Z=r("MXyZ"),T=r("k2h9"),A=r("gLnL"),I={price:function(e,t){var r=t.side,n=t.marketPrice,a=t.tickSize,i=e.price,o=void 0===i?"0":i,s=e.stopPrice;if(+o<+a)return[!1,{value:o,invalid:!0,errorMsg:"priceerr"}];if(s){var l=+o<=+n,c=+o>=+n;if(r===E.g.BUY&&c)return[!1,{value:o,invalid:!0,errorMsg:"pltmarket"}];if(r===E.g.SELL&&l)return[!1,{value:o,invalid:!0,errorMsg:"pgtmarket"}]}return[!0,{}]},stopPrice:function(e,t){var r=t.side,n=t.tickSize,a=t.marketPrice,i=e.stopPrice,o=void 0===i?"0":i,s=e.price,l=void 0===s?"":s;if(+o<+n)return[!1,{stopPrice:o,invalid:!0,errorMsg:"priceerr"}];if(l){var c=+o<=+l,u=+o>=+l,d=+o<=+a,p=+o>=+a;if(r===E.g.BUY&&(c||d))return[!1,{value:o,invalid:!0,errorMsg:c?"stgtbuy":"stgtmarket"}];if(r===E.g.SELL&&(u||p))return[!1,{value:o,invalid:!0,errorMsg:u?"stltsell":"stltmarket"}]}return[!0,{}]},stopLimitPrice:function(e,t){var r=t.tickSize,n=e.stopLimitPrice||"0";return+n<+r?[!1,{value:n,invalid:!0,errorMsg:"priceerr"}]:[!0,{}]},quantity:function(e,t){var r=t.minTrade,n=t.mostAmount,a=e.quantity||"0";return+a<+r?[!1,{value:a,invalid:!0,errorMsg:"quantityerr"}]:+a>+n?[!1,{value:a,invalid:!0,errorMsg:"insufficientBalance"}]:[!0,{}]},total:function(e,t){var r=t.minTotal,n=t.mostTotalAmount,a=e.total||"0";return+a<+r?[!1,{value:a,invalid:!0,errorMsg:"totalerr"}]:+a>+n?[!1,{value:a,invalid:!0,errorMsg:"insufficientBalance"}]:[!0,{}]}};const P=function(e,t,r){for(var a=!0,i={},o=function(e,t){return e===E.u9.QUANTITY&&delete t.total,e===E.u9.TOTAL&&delete t.quantity,t}(r.qtyTotalMode,e),s=Object.keys(o),l=0;l<s.length;l++){var c=I[s[l]];if("function"===typeof c){var u=c(o,r),d=(0,n.Z)(u,2),p=d[0],f=d[1],m=f.value,g=f.invalid,h=f.errorMsg;if(!(a=a&&p)){i=(0,A.Z)({},s[l],{value:m,invalid:g,errorMsg:t(h)});break}}}return[a,i]};var O,D=r("G6rF"),M=r("VwJU"),L=r.n(M),N=r("HSMY"),R=r("I78S"),B=r("LVI2"),j=r("XP5A"),F=r("Ng/A"),H=i().createElement,z=function(e){var t=e.color,r=void 0===t?"t.third":t,n=e.children;return H(R.Z,{as:"span",color:r},n)},U=function(e){var t=e.children;return H(R.Z,{as:"span",sx:{float:"right"}},t)},q=function(e){var t=e.side,r=e.children;return H(R.Z,{as:"span",__css:{color:t===E.g.BUY?"buy":"sell"}},r)},V=(O={},(0,A.Z)(O,E.Jm.LIMIT,[{label:"price",key:"price"}]),(0,A.Z)(O,E.Jm.MARKET,[{label:"price",key:"marketprice"}]),(0,A.Z)(O,E.Jm.STOPLIMIT,[{label:"stopPrice",key:"stopPrice"},{label:"stopLimitPrice",key:"price"}]),(0,A.Z)(O,E.Jm.OCO,[]),O);function J(e,t){var r=e.quantity,n=e.price,a=e.stopPrice,i=void 0===a?"0":a,o=e.side,s=t.base,l=t.quote,c=t.marketPrice,u=t.getI18n;return u(+i>=+c?"BUY"===o?"buyUpLimitTip":"sellUpLimitTip":"BUY"===o?"buyBaseLimitTip":"sellBaseLimitTip",{stopPrice:i,quote:l,quantity:r,base:s,price:n})}function W(e,t){var r,n,a=e.side,i=e.quantity,o=e.sideEffectType,s=e.quoteOrderQty,l=t.base,c=t.quote,u=t.userAssets,d=t.getI18n,f=t.borrowAmount,m=t.qtyTotalMode,g=a===E.g.BUY?c:l;o===E.FP.AUTO_REPAY&&(g=a===E.g.BUY?l:c);var h=(0,p.fd)((0,p.Jp)(null===(r=u[g])||void 0===r?void 0:r.free,1)),v=null===(n=u[g])||void 0===n?void 0:n.totalDebt,_=d(a);return d(m===E.u9.TOTAL&&o===E.FP.MARGIN_BUY?"".concat(o,"-qty-confirm"):"".concat(o,"-confirm"),{free:h,debt:v,base:l,quote:c,sideText:_,quantity:i,assetName:g,quoteOrderQty:s,borrowAmount:(0,p.fd)(f)})}var K=function(e){var t=e.htmlText,r=(0,j.Z)(e,["htmlText"]);return H(F.Z,Object.assign({fontSize:[0],lineHeight:"18px",__css:{color:"t.fourth"," strong":{color:"t.primary"}}},r,{dangerouslySetInnerHTML:{__html:t}}))},$=function(e){var t=e.payload,r=e.borrowAmount,n=e.qtyTotalMode,i=(0,a.useContext)(T.UE),o=i.base,s=i.quote,l=i.getI18n,c=i.userAssets,u=i.ticker.tickSizePrecision;return H(K,{className:"margin-tip",sx:{pt:"sm",borderTop:"1px solid",borderTopColor:"lines.border"},htmlText:W(t,{base:o,quote:s,getI18n:l,userAssets:c,borrowAmount:r,qtyTotalMode:n,tickSizePrecision:u})})},Q=function(e){var t=e.showTip,r=e.payload,n=e.orderType,o=e.qtyTotalMode,s=e.borrowAmount,l=e.showMarginTip,c=r.side,u=r.price,d=r.quantity,f=r.quoteOrderQty,m=void 0===f?"0":f,g=(0,a.useContext)(T.UE),h=g.base,v=g.quote,_=g.getI18n,y=g.getMarketPrice,x=g.ticker,b=x.tickSizePrecision,S=x.minQtyPrecision,w=x.minTotalPrecision,k=y(),C=[];return t&&C.push(H(i().Fragment,null,H(F.Z,{as:"ul",sx:{pl:"0",pb:"14px",listStyle:"none"}},H(R.Z,{as:"li",mb:"sm",sx:{fontWeight:"500"}},H(z,{color:"t.primary"},h,"/",v),H(U,null,_(n),"\xa0-\xa0",H(q,{side:c},_(c)))),V[n].map((function(e,t){var n=e.label,a=e.key;return H(R.Z,{key:t,as:"li",mb:"10px"},H(z,null,_(n),":"),H(U,null,(0,B.JX)(r[a],b)||_(a)))})),H(R.Z,{as:"li",mb:"10px"},o===E.u9.QUANTITY?H(i().Fragment,null,H(z,null,_("quantity"),":"),H(U,null,(0,B.JX)(d,S)," ",h)):H(i().Fragment,null,H(z,null,_("total"),":"),H(U,null,(0,B.JX)(m,w)," ",v))),n!==E.Jm.MARKET&&H(R.Z,{as:"li",mb:"10px"},H(z,null,_("total"),":"),H(U,null,(0,p.Jp)(u,d).toFixed(w)," ",v))),n===E.Jm.STOPLIMIT&&H(K,{htmlText:J(r,{base:h,quote:v,marketPrice:k,getI18n:_})}))),l&&C.push(H($,{payload:r,borrowAmount:s,qtyTotalMode:o})),H(F.Z,{color:"t.primary",lineHeight:"18px",pt:"sm",sx:{">:first-child.margin-tip":{pt:0,borderTopWidth:"0"}}},C)};const X=i().memo(Q);var Y=r("8oxB"),G=i().createElement,ee=function(e){var t=e.href,r=e.children;return G(R.Z,{as:"a",target:"_blank",href:t,mt:"4",sx:{mt:"4",mb:"-2px",display:"inline-block",lineHeight:"18px",fontSize:[1],color:"t.third",textDecoration:"none"}},r)},te=function(e,t,r,o){var s=e.getI18n,l=e.getMarketPrice,c=e.orderConfirmStatus,u=e.urlConfig,d=e.locale,p=e.base,f=e.quote,m=e.userAssets,g=t.side,h=t.mode,v=t.orderType,_=t.tradeType,y=t.qtyTotalMode,x="".concat(p).concat(f);return(0,a.useCallback)(function(){var e=(0,N.Z)(L().mark((function e(t){var a,b,S,w,C,E;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,k.He)(t,{side:g,mode:h,symbol:x,tradeType:_,orderType:v,qtyTotalMode:y,marketPrice:l()}),e.next=3,(0,k.St)(a,v,{base:p,quote:f,tradeType:_,userAssets:m,orderConfirmStatus:c});case 3:b=e.sent,S=(0,n.Z)(b,3),w=S[0],C=S[1],E=S[2].willBorrowAmount,C||!(0,B.tq)()&&w?r.current.create({title:s("orderconfirm"),content:G(X,{payload:a,showTip:w,orderType:v,qtyTotalMode:y,showMarginTip:C,borrowAmount:E}),onOk:function(){return o(_,a)},okText:s("confirm"),cancelText:s("cancel"),subFooter:G(i().Fragment,null,!((null===Y||void 0===Y)&&void 0)&&G(ee,{href:(0,B.CN)(u.PREFERENCE_URL,{locale:d})},s("settings")))}):o(_,a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,h,p,f,x,_,v,m,y,l,c,r,s,d,o,u.PREFERENCE_URL])};var re=r("qN/k"),ne=r("mrSG"),ae=r("vJk+");const ie=function(e){return i().createElement(ae.Z,(0,ne.__assign)({width:"1em",height:"1em",viewBox:"0 0 96 96",fill:"none"},e),i().createElement("g",{clipPath:"url(#ac-block-b96_svg__clip0)"},i().createElement("path",{d:"M48 10.5c10 .02 18.09 8.15 18.07 18.15-.02 10-8.15 18.09-18.15 18.07-9.99-.02-18.07-8.12-18.07-18.11.01-10.01 8.12-18.12 18.13-18.11H48zM48 8c-11.38-.01-20.61 9.22-20.62 20.6-.01 11.38 9.22 20.61 20.6 20.62 11.38.01 20.61-9.22 20.62-20.6v-.01C68.6 17.23 59.38 8.01 48 8z",fill:"currentColor"}),i().createElement("path",{d:"M84.88 59.6c-6.27-6.27-16.43-6.27-22.7 0s-6.27 16.43 0 22.7 16.43 6.27 22.7 0c6.27-6.23 6.3-16.36.07-22.63l-.07-.07z",fill:"url(#ac-block-b96_svg__paint0_linear)"}),i().createElement("path",{d:"M55.21 78h-2.5v2.5h2.5V78zM49.71 78h-2.5v2.5h2.5V78zM44.21 78h-2.5v2.5h2.5V78zM38.71 78h-2.5v2.5h2.5V78z",fill:"currentColor"}),i().createElement("path",{d:"M59 55h4.11c-1.1.72-2.13 1.56-3.06 2.49L48 69.58l-.88-.88-.88-.89-10.37-10.32H25c-7.44-.01-13.49 6.02-13.5 13.46V78h21.71v2.5H9V71c0-8.84 7.16-16 16-16h11.9L48 66.05 59 55zM73.53 60.15c-5.96 0-10.8 4.84-10.8 10.8 0 5.96 4.84 10.8 10.8 10.8 5.95 0 10.77-4.8 10.8-10.75.02-5.97-4.8-10.83-10.77-10.85h-.03zm0 2.5c4.58 0 8.3 3.72 8.3 8.3 0 1.77-.57 3.49-1.62 4.92l-11.6-11.6a8.288 8.288 0 014.92-1.62zm0 16.6c-4.58.02-8.31-3.69-8.33-8.27-.01-1.79.57-3.54 1.64-4.98l11.6 11.6a8.156 8.156 0 01-4.91 1.65z",fill:"currentColor"})),i().createElement("defs",null,i().createElement("linearGradient",{id:"ac-block-b96_svg__paint0_linear",x1:62.183,y1:82.299,x2:84.881,y2:59.601,gradientUnits:"userSpaceOnUse"},i().createElement("stop",{stopColor:"#F0B90B"}),i().createElement("stop",{offset:.28,stopColor:"#F1BC0F"}),i().createElement("stop",{offset:.569,stopColor:"#F4C41C"}),i().createElement("stop",{offset:.862,stopColor:"#F8D230"}),i().createElement("stop",{offset:.993,stopColor:"#FBDA3C"})),i().createElement("clipPath",{id:"ac-block-b96_svg__clip0"},i().createElement("path",{fill:"#fff",d:"M0 0h96v96H0z"}))))};var oe=r("c0H5"),se=r("pA3o"),le=r("xfiS"),ce=r("9St5"),ue=r("XCrG"),de=r("8xbW"),pe=r("PPQ/"),fe=r("W2MH"),me=r("HQMG"),ge=r("FU4r"),he=i().createElement,ve=function(e){var t=e.isLight,r=e.text,n=e.okText;ge.ZP.show({type:ge.Yk.dialog,isLight:t,dialogProps:{okText:n,body:he(re.Z,{flexDirection:"column",alignItems:"center"},he(me.Z,{sx:{mb:["16px","24px","24px"],fontSize:["60px","96px","96px"],flexShrink:0}}),he(R.Z,{sx:{maxHeight:["196px","254px","254px"],overflowY:"scroll"},variant:"body2",color:"t.third",textAlign:"center"},r||"Email authentication or SMS authentication should be enabled."))}})},_e=i().createElement,ye=function(e){var t=e.msg;return _e(re.Z,{flexDirection:"column",alignItems:"center"},_e(ie,{size:72,sx:{mb:"xs"}}),_e(R.Z,null,t))};function xe(e,t){e({type:E.pp.SHADOW_CHANGE,payload:{isFetching:t}})}var be=function(e,t,r,i){var o=e.getI18n,s=e.base,l=e.quote,d=e.idPhoto,p=e.locale,f=e.urlConfig,m=e.magicRefresh,g=t.side,h=t.orderType,v=(0,oe.Y)().setMessageInfo,_=(0,c.ZK)().getI18n,y=function(){var e=(0,le.z)(),t=(0,n.Z)(e,2),r=(0,n.Z)(t[1],2)[1],i=(0,se.ke)(),o=(0,ue.k)((0,u.l6)(i)).tickProps.lastPrice,s=(0,ce.P)()(o,r).usdPrice;return(0,a.useMemo)((function(){return Number("".concat(s).replace(/,/g,""))}),[s])}(),x=(0,c.Fg)().isLight;return(0,a.useCallback)(function(){var e=(0,N.Z)(L().mark((function e(t,a){var c,u,b,S,w,Z,T,A,I,P,O,D,M;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(r,!0),c=setTimeout((function(){(0,fe.j)("placeorder_api_timeout")}),1e4),e.next=4,(0,k.f$)(t,a);case 4:if(u=e.sent,b=(0,n.Z)(u,3),S=b[0],w=b[1],Z=b[2],clearTimeout(c),(0,pe.r)({event:"trade",type:(0,de.Z)(t),conversionValue:(a.quantity*y).toFixed(2),isAttempted:1,side:"".concat(a.side).toLowerCase()}),"string"!==typeof Z||!Z.startsWith("200003")||!w){e.next=15;break}ve({isLight:x,text:w,okText:_("trd-dialog-i-understand",{defaultValue:"I understand"})}),e.next=36;break;case 15:if(T={title:o("ordertitle"),text:""},!S){e.next=24;break}a.sideEffectType&&a.sideEffectType!==E.FP.NO_SIDE_EFFECT||(T={title:o("".concat(g).concat(h,"Title")),text:o("".concat(g).concat(h,"Text"),{quantity:a.quantity,base:s,quote:l})}),A={sliderQty:{value:"",invalid:!1},quantity:{value:"",invalid:!1}},h!==E.Jm.MARKET&&(A.total={value:"",invalid:!1}),r({type:E.pp.FIELD_CHANGE,payload:{orderType:h,field:A}}),m&&m(),e.next=35;break;case 24:if(w!==C.Oi){e.next=34;break}return I=f.IDENTITY_URL,P=f.WITHDRAWAL_URL,O=o(1!==d?"kycverify":"gotowithdraw"),D=1!==d?I:P,M=o(1!==d?"goToIdentityTip":"forbidentLoginTip"),i.current.create({content:_e(ye,{msg:M}),onOk:function(){window.location.href=(0,B.CN)(D,{locale:p,coin:"USD"})},okText:O,cancelText:o("notnow")}),xe(r,!1),e.abrupt("return");case 34:T={title:o("orderfailed"),text:"Order would trigger immediately."===w?o("orderfailed01"):w};case 35:v({header:T.title,message:T.text,variant:S?"success":"error"});case 36:xe(r,!1);case 37:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r,y,o,v,h,m,g,s,l,f,d,i,p,x,_])},Se=function(e,t,r){var i=e.side,o=e.mode,s=void 0===o?E.q0.NORMAL:o,l=e.tradeType,c=e.orderType,u=e.mostAmount,d=e.mostTotalAmount,p=e.isFetching,f=e.qtyTotalMode,m=(0,D.Ys)((function(e){return e.isNeedSign})),g=(0,D.Ys)((function(e){return e.setShowDialog})),h=(0,a.useContext)(T.UE),v=h.base,_=h.quote,y=h.locale,x=h.ticker,b=h.getI18n,S=h.getBook,w=h.hideMask,C=h.userInfo,Z=h.urlConfig,A=h.userAssets,I=h.isLoggedIn,O=h.magicRefresh,M=h.getMarketPrice,L=C||{},N=L.idPhoto,R=void 0===N?"":N,B=L.orderConfirmStatus,j=be({getI18n:b,base:v,quote:_,idPhoto:R,locale:y,urlConfig:Z,magicRefresh:O},{side:i,orderType:c},t,r),F=te({getI18n:b,getMarketPrice:M,orderConfirmStatus:B,locale:y,urlConfig:Z,base:v,quote:_,userAssets:A},{side:i,mode:s,tradeType:l,orderType:c,qtyTotalMode:f},r,j),H=x.tickSize,z=x.minQty,U=x.minTotal;return(0,a.useCallback)((function(e,a){if(e.preventDefault(),I&&!p)if(m)g(!0);else{var o=P(a,b,{side:i,minTotal:U,orderType:c,mostAmount:u,tickSize:H,qtyTotalMode:f,mostTotalAmount:d,minTrade:z,marketPrice:M()}),s=(0,n.Z)(o,2),l=s[0],h=s[1];if(l){w&&w();var v=a.price,_=a.total,y=a.quantity,x=(0,k.rm)(c,b,{side:i,price:v,total:_,getBook:S,quantity:y,qtyTotalMode:f,marketPrice:M()}),C=(0,n.Z)(x,2),Z=C[0],T=C[1];Z?r.current.create({content:T,onOk:function(){return F(a)},okText:b("confirm"),cancelText:b("cancel")}):F(a)}else t({type:E.pp.FIELD_CHANGE,payload:{orderType:c,field:h}})}}),[I,p,b,i,U,c,u,H,f,d,z,M,w,S,t,r,F,m,g])};var we=function(e,t,r,n){var i=(0,a.useContext)(T.UE),o=i.quote,s=i.ticker,l=i.getI18n,u=i.isLoggedIn,d=i.getFiatPrice,f=i.getMarketPrice,g=i.orderFormPriceQty,h=(0,c.gm)(),v=(0,a.useReducer)(T.I6,(0,T.fz)()),_=v[0],y=v[1],x=s.minTotalPrecision,b=s.minQtyPrecision,S=s.tickSizePrecision,I=_[r],P=_.mode,O=_.balance,D=_.isFetching,M=_.qtyTotalMode,L=(0,a.useMemo)((function(){return(0,k.aS)(r,{price:I.price,marketPrice:f(),stopLimitPrice:I.stopLimitPrice})||"0"}),[r,f,I.price,I.stopLimitPrice]),N=(0,a.useMemo)((function(){var t="-";return u&&(e===E.g.SELL?t=(0,p.Jp)(O).toFixed(b,1):0===+(t=0!==+O&&0!==+L?(0,p.QZ)(O,L).toFixed(b,1):"0")&&(t="0")),t}),[u,O,L,e,b]),R=(0,a.useMemo)((function(){var t="-";return u&&r===E.Jm.MARKET&&(e===E.g.BUY?t=(0,p.Jp)(O).toFixed(x,1):0===+(t=0!==+O&&0!==+L?(0,p.Jp)(O,L).toFixed(x,1):"0")&&(t="0")),t}),[u,r,e,O,x,L]),j=(0,a.useCallback)((function(e,t){var r="";if("total"===e)t.length>=C.l2&&(r=t);else if(0!==+t){var n=d(+t,o),a=n.symbol,i=n.fiatPrice;r="rtl"===h?"".concat(a).concat(i," \u2248"):"\u2248 ".concat(a).concat(i)}return r}),[d,o,h]),F=(0,Z.D)((0,w.P)((function(e){if(u){var t=(0,p.Jp)(N,e/100).toFixed(b),n=(0,p.Jp)(L,t).toFixed(x),a={quantity:{value:t,invalid:!1},sliderQty:{value:e,invalid:!1},total:{value:0===+n?"":n,invalid:!1}};y({type:E.pp.FIELD_CHANGE,payload:{orderType:r,field:a}})}}),100)),H=(0,Z.D)((function(e){if(u){var t=(0,p.Jp)(N,e/100).toFixed(b),r=(0,p.Jp)(L,t).toFixed(x);return{quantity:{value:t,invalid:!1},sliderQty:{value:e,invalid:!1},total:{value:0===+r?"":r,invalid:!1}}}})),z=(0,Z.D)(function(e,t,r){var n=e.ticker,i=e.getI18n,o=e.getMarketPrice,s=t.side,l=t.orderType,c=t.mostAmount,u=t.mostTotalAmount,d=t.curOrderState,f=n.minQtyPrecision,g=n.tickSizePrecision,h=n.minTotalPrecision;return(0,a.useCallback)((function(e,t,n){var a=(0,m.Z)((0,m.Z)({},d),{},(0,A.Z)({},t,{value:n,invalid:!1}));"quantity"===t&&+n>+c&&(a.quantity={value:n,invalid:!0,errorMsg:i("most".concat(s),{amount:c})}),"total"===t&&+n>+u&&(a.total={value:n,invalid:!0,errorMsg:i("most".concat(s),{amount:u})});var v=a.quantity.value,_=(0,k.aS)(l,{price:a.price,marketPrice:o(),stopLimitPrice:a.stopLimitPrice});if("quantity"===t||"price"===t||"stopLimitPrice"===t){var y=(0,p.Jp)(v,_).toFixed(h);a.total={invalid:!1,value:0===+y?"":y}}if("total"===t){var x=n||"0";if(0!==+_){var b=(0,p.QZ)(x,_).toFixed(f);a.quantity={invalid:!1,value:0===+b?"":b}}else if(0!==+v){var S=(0,p.QZ)(x,v).toFixed(g);a[(0,k.m9)(l)]={invalid:!1,value:0===+S?"":S}}}var w=0;if("-"!==c){var C="0";0!==+c?C=(0,p.Jp)(+a.quantity.value/+c,100).toFixed(0):a.quantity.value&&(C="100"),w=Math.min(+C,100)}a.sliderQty.value=w,r({type:E.pp.FIELD_CHANGE,payload:{orderType:l,field:a}})}),[d,c,u,l,o,r,i,s,h,f,g])}({ticker:s,getI18n:l,getMarketPrice:f},{side:e,orderType:r,mostAmount:N,mostTotalAmount:R,curOrderState:I},y)),U=(0,Z.D)(Se({side:e,mode:P,tradeType:t,orderType:r,mostAmount:N,mostTotalAmount:R,isFetching:D,qtyTotalMode:M},y,n));return function(e,t){(0,a.useEffect)((function(){if(e.lastPrice){var r,n=(0,B.JX)(e.lastPrice,e.tickSizePrecision),a=(r={},(0,A.Z)(r,E.Jm.LIMIT,(0,B.QL)(E.Jm.LIMIT,{price:n,stopPrice:"",stopLimitPrice:""})),(0,A.Z)(r,E.Jm.MARKET,(0,B.QL)(E.Jm.LIMIT)),(0,A.Z)(r,E.Jm.STOPLIMIT,(0,B.QL)(E.Jm.STOPLIMIT,{price:"",stopPrice:"",stopLimitPrice:n})),(0,A.Z)(r,E.Jm.OCO,(0,B.QL)(E.Jm.OCO,{price:"",stopPrice:"",stopLimitPrice:n})),r);t({type:E.pp.SHADOW_CHANGE,payload:a})}}),[e,t])}(s,y),function(e,t,r){var n=e.isLoggedIn,i=e.minTotalPrecision,o=void 0===i?0:i,s=e.minQtyPrecision,l=void 0===s?0:s,c=e.tickSizePrecision,u=void 0===c?0:c,d=e.orderFormPriceQty,f=t.side,m=t.curQuantity,g=t.mostAmount,h=(0,a.useRef)({});(0,a.useEffect)((function(){var e,t=h.current,a=t.side,i=t.price,s=t.qty;if(d&&(a!==d.side||i!==d.price||s!==d.qty)){h.current=d;var c=(0,p.PD)(d.price).toFixed(u),v=d.qty||m;v&&0!==+v&&(v=(0,p.PD)(v.replace(/,/g,"")).toFixed(l));var _=(0,p.Jp)(c,v).toFixed(o);if(f===d.side)v="",_="";else if(n){var y=0===+g?"":g;+v>+y&&(v=y,_=(0,p.Jp)(c,v).toFixed(o))}0===+_&&(_="");var x=+v;if(0!==+v){var b=(0,p.Jp)(+v/+g,100).toFixed(0);x=Math.min(+b,100)}var S=(e={},(0,A.Z)(e,E.Jm.LIMIT,(0,B.QL)(E.Jm.LIMIT,{price:c,stopPrice:c,stopLimitPrice:c,quantity:v,sliderQty:"".concat(x),total:_})),(0,A.Z)(e,E.Jm.STOPLIMIT,(0,B.QL)(E.Jm.STOPLIMIT,{price:c,stopPrice:"",stopLimitPrice:c,quantity:v,sliderQty:"".concat(x),total:_})),(0,A.Z)(e,E.Jm.OCO,(0,B.QL)(E.Jm.OCO,{price:"",stopPrice:"",stopLimitPrice:c,quantity:v,sliderQty:"".concat(x),total:_})),e);r({type:E.pp.SHADOW_CHANGE,payload:S})}}),[f,n,m,d,g,r,o,u,l])}({isLoggedIn:u,minTotalPrecision:x,minQtyPrecision:b,tickSizePrecision:S,orderFormPriceQty:g},{side:e,mostAmount:N,curQuantity:I.quantity.value},y),function(e,t,r){(0,a.useEffect)((function(){r({type:E.pp.RESET_QTY,payload:{orderType:t}})}),[e,t,r])}(O,r,y),{state:_,dispatch:y,getHelperText:j,handleFormChange:z,handleFormSubmit:U,handleQuantityChange:F,handleQuantityElectronChange:H}},ke=r("bCmj"),Ce=r("/Tgl"),Ee=i().createElement;function Ze(e){var t=e.ref,r=e.step,n=(0,v.KO)().putCoachMarkStep,i=(0,a.useContext)(T.UE),o=i.locale,s=i.getI18n,l=i.selfHost,u=(0,Ce.yV)(o),d=(0,c.KL)().getI18n;(0,a.useEffect)((function(){if(2===r){var e="zh"===u?"cn":"en",a=Ee(re.Z,null,Ee(R.Z,null,s("guide-content"),Ee(ke.Z,{href:(0,B.RD)(l,"support/faq/c-3?navId=15",e),target:"_blank",sx:{color:"t.grey800",ml:1,display:"inline-block"}},s("guide-link"))));return n("tradeGuide",2,{title:s("guide-title"),content:a,target:t,position:"left-start"})}return n("tradeGuide",r,{title:d("dot-title"),content:d("dot-content"),target:t,position:"bottom-start"})}),[t,r,d,s,o,l])}var Te=r("EnUn"),Ae=function(e){var t=e.orderType,r=e.dispatch,i=e.side,o=(0,Te.Z)("qtyAndTotalStorage",{}),s=(0,n.Z)(o,2),l=s[0],c=s[1],u=E.u9.TOTAL,d=E.u9.QUANTITY,p=(0,se.uT)(),f=(0,n.Z)(p,1)[0],g=i+f;return(0,a.useEffect)((function(){var e=d;t===E.Jm.MARKET&&(l[g]===u||l[g]!==d&&i===E.g.BUY)&&(e=u),r({type:E.pp.SHADOW_CHANGE,payload:{qtyTotalMode:e}})}),[t,g]),(0,a.useCallback)((function(e){r({type:E.pp.SHADOW_CHANGE,payload:{qtyTotalMode:e}}),c((0,m.Z)((0,m.Z)({},l),{},(0,A.Z)({},g,e)))}),[c,r,g,l])}},odTS:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>tt});var n=r("DC7k"),a=r("xIFI"),i=r.n(a),o=r("xDxD"),s=r("S2LQ"),l=r("RMtB"),c=r("XP5A"),u=r("tmgI"),d=r("0axZ"),p=r("Ng/A"),f=r("L4Ep"),m=r("Hr2e"),g=r("QEdm"),h=r("NvfF"),v=r("xfKf"),_=r("gQYy"),y=r("2M4l"),x=r("c83x"),b=r("IUPd"),S=r("DyW9"),w=r("k2h9"),k=r("ifmk"),C=r("JW8N"),E=r("o/Hz"),Z=r("fp4b"),T=r("Nmnx"),A=r("cn61"),I=i().createElement,P=y.Z.registerActionHandle,O=y.Z.constants,D=1,M=function(e){var t=e.tradeType,r=e.side,n=e.electronTabsChange,i=(0,a.useState)(u.Jm.LIMIT),s=i[0],l=i[1],c=(0,x.useDispatch)(),y=(0,a.useRef)({}),M=(0,a.useContext)(w.UE),L=M.base,N=M.quote,R=M.ticker,B=M.locale,j=M.getI18n,F=M.urlConfig,H=M.isLoggedIn,z=M.renderRegisterLogin,U=M.selfHost,q=M.userAssets,V=M.isDelivery,J=void 0!==V&&V,W=(0,Z.Kx)(r,t,s,y),K=W.state,$=W.dispatch,Q=W.getHelperText,X=W.handleFormChange,Y=W.handleFormSubmit,G=W.handleQuantityChange,ee=W.handleQuantityElectronChange,te=K[s],re=(0,a.useRef)(),ne=K.mode,ae=K.balance,ie=K.isFetching,oe=K.qtyTotalMode,se=(0,o.Fs)().isMobile;(0,Z.vn)({ref:re});var le=(0,Z.m8)({orderType:s,dispatch:$,side:r});(0,Z.vn)({ref:re,step:2});var ce=(0,o.pb)();return(0,a.useEffect)((function(){return P((function(e){var t=e.name,a=e.payload;switch(t){case O.ACTION_TRADE_ONECLIKE_BUY:n(T.g.BUY),setTimeout((function(){if(r===T.g.BUY){var e=a.valueInput.value,t=Number(a.priceLevel);if("percentage"===a.valueInput.type)e=ee(a.valueInput.value).quantity.value;(s===u.Jm.LIMIT||u.Jm.STOPLIMIT||u.Jm.OCO)&&(t>0?c.orderForm.updateState({priceQty:{side:"SELL",qty:"".concat(e),price:ce.bid[t-1].price}}):c.orderForm.updateState({priceQty:{side:"SELL",qty:"".concat(e),price:ce.ask[Math.abs(t)-1].price}})),s===u.Jm.MARKET&&X("","quantity",e),D++}}),10);break;case O.ACTION_TRADE_ONECLIKE_SELL:n(T.g.SELL),setTimeout((function(){if(r===T.g.SELL){var e=a.valueInput.value,t=Number(a.priceLevel);if("percentage"===a.valueInput.type)e=ee(a.valueInput.value).quantity.value;(s===u.Jm.LIMIT||u.Jm.STOPLIMIT||u.Jm.OCO)&&(t>0?c.orderForm.updateState({priceQty:{side:"BUY",qty:"".concat(e),price:ce.bid[t-1].price}}):c.orderForm.updateState({priceQty:{side:"BUY",qty:"".concat(e),price:ce.ask[Math.abs(t)-1].price}})),s===u.Jm.MARKET&&X("","quantity",e),D++}}),10)}}))}),[te,X,ee,ce.bid,ce.ask,s,c.orderForm,r,D,n]),(0,a.useMemo)((function(){return I("div",null,I(h.Z,{ref:y}),I(S.Z,{locale:B,getI18n:j,orderType:s,onChange:l,selfHost:U}),I(v.Z,{side:r,mode:ne,tradeType:t,balance:ae,addon:se&&I(A.Z,null),dispatch:$,base:L,quote:N,getI18n:j,isLoggedIn:H,userAssets:q,isDelivery:J,addOn:I(b.Z,{wrapper:function(e){return I(p.Z,{sx:{position:"absolute",top:["31px","14px"],right:["24px","0px"]}},e)}}),__css:{pt:"12px",pb:["2px","8px"]}}),t!==u.xy.SPOT&&I(k.Z,{mode:ne,getI18n:j,dispatch:$,side:r}),I(d.Z,{onChange:X,onSubmit:Y,trim:!0,noValidate:!0,autoComplete:"off"},I(p.Z,{ref:re},f.aC[s].map((function(e,t){var n=e.name,a=e.type,i=e.isBase,o=e.disabled,s=e.needLogin,l=e.withHelper,c=e.placeholder,d=e.minKey,p=void 0===d?"tickSize":d,f=e.stepKey,g=void 0===f?"tickSize":f;return s&&!H?null:"slider"===a?I(m.Z,{key:"slider",value:te.sliderQty.value,onChange:G}):"hr"===a?I(C.Z,{key:"hr-".concat(t)}):"mixedInput"===a?I(E.Z,{side:r,key:"qtyTotalInput",dispatch:$,modalRef:y,qtyTotalMode:oe,getHelperText:Q,totalState:te.total,quantityState:te.quantity,handleClick:le}):I(_.Z,{key:n,name:n,symbol:r,min:R[p],step:R[g],precision:R["".concat(g,"Precision")],before:j(n),after:i?L:N,placeholder:c&&j(c),value:te[n].value,disabled:o,invalid:te[n].invalid,errorText:te[n].errorMsg,helperText:l&&Q(n,te[n].value),boxSx:{mt:"8px",mb:"4px"},autoZero:n===u.u9.QUANTITY})}))),I(g.Z,{base:L,mode:ne,side:r,locale:B,getI18n:j,urlConfig:F,isFetching:ie,isLoggedIn:H,renderRegisterLogin:z,sx:{mt:"16px"}})))}),[B,j,s,U,r,ne,t,ae,se,$,L,N,H,q,J,X,Y,F,ie,z,R,te,Q,G,oe,le])};const L=i().memo(M);var N=r("dFGf"),R=i().createElement;const B=function(e){var t=e.side,r=e.tradeType,n=void 0===r?u.xy.SPOT:r,a=e.electronTabsChange,i=(0,c.Z)(e,["side","tradeType","electronTabsChange"]);return R(N.Z,i,R(L,{side:t,tradeType:n,electronTabsChange:a}))};var j=r("qN/k"),F=r("I78S"),H=r("ZIGC"),z=r("194l"),U=r("CHO7"),q=r("/MgC"),V=i().createElement,J=s.x.DEPOSIT_URL,W=s.x.WITHDRAWAL_URL,K=function(e){return V(j.Z,Object.assign({variant:"columns.spaceLine",_css:{justifyContent:"space-between",alignItems:"center"}},e))},$=function(){var e=(0,o._n)(),t=(0,o.Li)(),r=(0,o.rX)(),s=(0,Z.IX)(),l=(0,n.Z)(s,2),c=l[0],u=l[1],d=(0,z.Z)(),f=d.getI18n,m=d.i18n.language,g=(0,H.JX)((t[c]||{free:"0"}).free,T.Az),h=(0,H.JX)((t[u]||{free:"0"}).free,T.Az),v=e?V(i().Fragment,null,V(K,{sx:{mt:"12px"}},V(p.Z,{sx:{display:"flex",alignItems:"center"}},V("span",null,c),"\xa0",V(F.Z,{sx:{color:"t.grey300"}},f("available",{defaultValue:"Available:"}))),V("span",null,g)),V(K,null,V(p.Z,{sx:{display:"flex"}},V("span",null,u),"\xa0",V(F.Z,{sx:{color:"t.grey300"}},f("available",{defaultValue:"Available:"}))),V("span",null,h))):null,_=(0,a.useMemo)((function(){if(!r){var e=[{id:"depositBtn",i18n:"deposit",href:(0,H.CN)(J,{locale:m,coin:c})},{id:"withdrawBtn",i18n:"withdraw",href:(0,H.CN)(W,{locale:m,coin:c})}];return V(j.Z,{sx:{justifyContent:"space-between"}},e.map((function(e){var t=e.id,r=e.i18n,n=e.href;return V(U.Z,{key:t,"data-sensors-click":!0,id:t,as:"a",target:"_blank",href:n||null},f(r))})))}return V(q.Z,null)}),[f,c,m,r]);return V(p.Z,{mt:"80px",fontSize:"0"},V(j.Z,{sx:{pb:"8px",mb:1,fontSize:"14px",fontWeight:"600",justifyContent:"space-between",alignItems:"center"}},f("assets"),V(A.Z,null)),_,v)};const Q=i().memo($);var X=r("DtyY"),Y=r("0pZZ"),G=r("6Ybu"),ee=r("kjr6"),te=r("53NN"),re=r("FU4r"),ne=r("jTy+"),ae=r("1EOl"),ie=r("uk6z"),oe=r("XhDG"),se=r("bCmj"),le=r("gRXG"),ce=r("fvT5"),ue=r("PFLj"),de=r("6JaR"),pe=r("U+DX"),fe=r("bXMB"),me=i().createElement,ge=function(e){var t=e.getI18n,r=e.showRule,n=e.locale,a=(0,le.c)(n);return me(j.Z,{variant:"dropdown",sx:{flexDirection:"column"}},me(fe.Z,null),me(pe.Z,null),me(de._,{onClick:r,display:"inline-block"},t("traderules")),me(se.Z,{href:a,target:"__blank",className:"item",color:"t.primary",sx:{textDecoration:"none"}},t("tutorial")),me(ue.Z,null),me(ce.Z,null,me(de._,null,t("spottutorial"))))},he=function(e){var t=e.locale,r=e.base,n=e.getI18n,o=e.tradeType,l=e.isSpotETF,c=(0,a.useCallback)((function(e){H.TB.emit("triggerModal",e)}),[]);return o===s.xy.SPOT?me(de.j,null,l?me(de._,{onClick:function(){return window.location.href=(0,H.CN)(s.x.LEVERAGED_TOKENS_REDEEM_URL,{locale:t,coin:r})}},n("redeem")):me(i().Fragment,null,me(de._,{onClick:function(){return window.location.href=(0,H.CN)(s.x.DEPOSIT_URL,{locale:t,coin:r})}},n("deposit")),me(de._,{onClick:function(){return window.location.href=(0,H.CN)(s.x.WITHDRAWAL_URL,{locale:t,coin:r})}},n("withdraw")))):me(de.j,null,me(de._,{onClick:function(){return c(T.Ze.TRANSTER)}},n("transfer")),me(de._,{onClick:function(){return c(T.Ze.BORROW)}},n("borrow")),me(de._,{onClick:function(){return c(T.Ze.REPAY)}},n("repay")))},ve=r("eN16"),_e=r("LEn2"),ye=i().createElement,xe=function(e){var t=e.isLoggedIn,r=e.locale,n=e.getI18n,a=e.userInfo,i=e.hideMask,o=(0,c.Z)(e,["isLoggedIn","locale","getI18n","userInfo","hideMask"]),s=a.tradeLevel;return ye(p.Z,{lineHeight:"0"},t&&ye(oe.Z,Object.assign({locale:r,getI18n:n,userInfo:a,tradeLevel:s},o)),t&&ye(ie.Z,{overlay:ye(he,e)}),ye(te.Z,{ml:"sm",color:"t.third",fontSize:"16px",onClick:function(){return i()}}))},be=function(e){var t=(0,o.Fg)().isLight,r=(0,a.useRef)();(0,Z.vn)({ref:r,step:3});var n=e.isLoggedIn,i=e.getI18n,s=e.userInfo,l=e.locale,u=e.base,d=e.quote,f=(0,c.Z)(e,["isLoggedIn","getI18n","userInfo","locale","base","quote"]),m=(0,a.useCallback)((function(){re.ZP.show({isLight:t,sx:{py:"16px"},children:ye(ve.Z,{getI18n:i,base:u,quote:d,locale:l})})}),[u,d,t,l,i]),g=s.tradeLevel;return ye(p.Z,{lineHeight:"0"},n&&ye(oe.Z,Object.assign({locale:l,getI18n:i,userInfo:s,tradeLevel:g},f)),ye(ie.Z,{ref:r,overlay:ye(ge,{getI18n:i,showRule:m,locale:l})}))},Se=function(e){var t=e.tradeType,r=e.marginBar,s=e.hideMask,l=e.bnbFree,c=void 0===l?"0":l,u=(0,z.Z)(),d=u.getI18n,p=u.i18n.language,f=(0,o.Fs)().isMobile,m=(0,o.Pc)(),g=(0,o.rX)(),h=(0,o._n)(),v=(0,Z.IX)(),_=(0,n.Z)(v,2),y=_[0],x=_[1],b=(0,o.qv)(),S=(0,ae.Z)(r),w=(0,a.useCallback)((function(){S&&H.TB.emit("triggerModal",T.Ze.ADJUST)}),[S]);return(0,a.useMemo)((function(){return ye(j.Z,{sx:{pb:"20px",alignItems:"center",justifyContent:"space-between"}},ye(F.Z,{sx:{lineHeight:"18px",fontSize:"14px",fontWeight:"600"}},d("placeorder"),r&&ye(ne.Z,{size:"l",disable:!S,display:["inline-block","none"],onClick:w},r)),f?ye(i().Fragment,null,h&&ye(_e.Z,{tradeType:t}),ye(xe,{base:y,locale:p,tradeType:t,getI18n:d,hideMask:s,isSpotETF:g,isLoggedIn:h,userInfo:m,bnbFree:c,burnBnbRate:b})):ye(be,{base:y,quote:x,locale:p,getI18n:d,bnbFree:c,tradeType:t,userInfo:m,isSpotETF:g,isLoggedIn:h,burnBnbRate:b}))}),[y,x,c,g,b,s,f,r,h,d,p,w,m,t,S])};const we=i().memo(Se);var ke=i().createElement,Ce=function(e){var t=e.side,r=e.actived,n=e.getI18n,a=e.handleClick,i=e.testId,o=t.toLowerCase();return ke(F.Z,{as:"span",className:"tab-item","data-testid":i,sx:{flex:"1",lineHeight:["32px"],textAlign:"center",cursor:"pointer",fontWeight:"400",textTransform:"uppercase",color:r?"white":"t.third",backgroundColor:r?"".concat(o):"t.grey700"},onClick:function(){return a(t)}},n(t))},Ee=[T.g.BUY,T.g.SELL],Ze={BUY:"BuyTab",SELL:"SellTab"},Te=function(e){var t=e.onChange,r=e.initSide,n=e.getI18n,o=e.children,s=e.electronTabsChange,l=(0,a.useState)(r),c=l[0],u=l[1],d=[],f=(0,a.useCallback)((function(e){e!==c&&"function"===typeof t&&t(e),u(e)}),[c,t,s]);return(0,a.useEffect)((function(){u(r)}),[r,u]),i().Children.forEach(o,(function(e,t){if(e){var r=null!=e.key?e.key:t,n=e.key===c;d.push(i().cloneElement(e,{key:r,actived:n}))}})),ke(p.Z,{sx:{fontSize:[1],lineHeight:"16px"}},ke(j.Z,{sx:{mb:"12px",fontWeight:"500",borderRadius:"4px",".tab-item":{"&:first-of-type":{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"},"&:last-child":{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}}}},Ee.map((function(e){return ke(Ce,{key:e,side:e,actived:c===e,getI18n:n,handleClick:f,testId:"".concat(Ze[e])})}))),ke(p.Z,null,d))};Te.TabPane=function(e){var t=e.actived,r=e.children,n=(0,a.useRef)(!1);(0,a.useEffect)((function(){n.current=n.current||t}));var i=n.current||t;return ke(p.Z,{style:{width:"100%",display:t?"block":"none"}},i&&r)};const Ae=Te;var Ie=i().createElement,Pe=Ae.TabPane,Oe=function(e){var t=e.getI18n,r=e.onClick;return Ie(j.Z,{justifyContent:"space-between",display:["flex","none"],p:"sm"},Ie(Y.Z,{flex:"1",color:"white",colorStyle:"buy",sx:{height:"40px",borderRadius:"4px"},onClick:function(){return r(T.g.BUY)},mr:"xs"},t("BUY")),Ie(Y.Z,{flex:"1",color:"white",colorStyle:"sell",sx:{height:"40px",borderRadius:"4px"},onClick:function(){return r(T.g.SELL)}},t("SELL")))};function De(e){var t=e.tradeType,r=e.bnbFree,n=e.marginBar,o=e.children,s=e.assetComp,l=(0,z.Z)().getI18n,c=(0,a.useState)({visible:!1,side:T.g.BUY}),u=c[0],d=u.side,f=u.visible,m=c[1],g=(0,Z.XX)(),h=g.base,v=g.quote,_=g.ticker,y=g.userInfo,x=g.isLoggedIn,b=g.urlConfig,S=g.getAskBids,w=g.getFiatPrice,k=g.getMarketPrice,C=g.orderFormPriceQty,E=g.putCoachMarkStep,A=f?"-100%":"0",I=(0,a.useCallback)((function(){m((function(e){return(0,X.Z)((0,X.Z)({},e),{},{visible:!1})}))}),[m]),P=(0,a.useCallback)((function(e){m({side:e,visible:!0})}),[]),O=function(e){m({side:e})};return(0,a.useMemo)((function(){return Ie(p.Z,null,Ie(Oe,{getI18n:l,onClick:P}),Ie(G.Z,{visible:f,onClick:I}),Ie(ee.default,null),Ie(p.Z,{sx:{zIndex:"23",fontSize:[1],color:"t.primary",position:"relative",userSelect:"none",p:"12px 16px 16px",borderTopLeftRadius:["10px","0"],borderTopRightRadius:["10px","0"],background:["#1E2126","transparent"],transition:["transform .3s ease-in-out","none"],transform:["translate3d(0, ".concat(A,", 0)"),"none"]}},Ie(we,{bnbFree:r,marginBar:n,hideMask:I,tradeType:t}),Ie(Ae,{initSide:d,getI18n:l,electronTabsChange:O},Object.keys(T.g).map((function(e){return Ie(Pe,{key:e},i().cloneElement(o,{side:e,base:h,quote:v,ticker:_,hideMask:I,userInfo:y,urlConfig:b,tradeType:t,isLoggedIn:x,getFiatPrice:w,getMarketPrice:k,orderFormPriceQty:C,getBook:S,putCoachMarkStep:E,electronTabsChange:O}))}))),s))}),[h,v,_,f,d,t,A,l,P,o,I,n,y,x,b,S,w,k,r,s,C,E])}const Me=i().memo(De);var Le=i().createElement,Ne=function(e){return Le(l.Z,e)},Re=function(){var e,t=(0,o.Li)(),r=(0,o._n)(),n=(0,o.Fs)().isMobile,i=null===t||void 0===t||null===(e=t.BNB)||void 0===e?void 0:e.free;return(0,a.useMemo)((function(){return Le(Me,{bnbFree:i,tradeType:s.xy.SPOT,assetComp:n?null:Le(Q,null)},Le(B,{selfHost:s.$g,userAssets:t,renderRegisterLogin:Ne}))}),[i,r,n,t])};const Be=i().memo(Re);var je=r("027f"),Fe=r("wHkB"),He=r("zt87"),ze=i().createElement,Ue=function(e){return ze(F.Z,Object.assign({color:"t.fifth"},e))},qe=function(e){return ze(j.Z,Object.assign({color:"t.grey300",alignItems:"center",justifyContent:"space-between",__css:{mb:2,fontSize:0,lineHeight:"16px"}},e))},Ve=function(e){var t=e.base,r=e.quote,n=e.getI18n,a=e.tradeType,o=e.userAssets,l=e.accountInfo,c=l.risk,u=l.totalDebt,d=l.marginLevel,f=l.totalBalance,m=l.totalNetAssetOfBtc,g=(0,H.JX)((o[t]||{netAsset:"0"}).netAsset,T.Az),h=(0,H.JX)((o[r]||{netAsset:"0"}).netAsset,T.Az);return ze(p.Z,{pt:"16px"},ze(j.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mt:"12px",mb:"16px"}},ze("div",null,ze(F.Z,{sx:{color:"t.grey300",fontSize:0}},n(c.tip,{defaultValue:"".concat(c.tip)}),"\xa0"),ze(F.Z,{sx:{fontSize:"18px",color:c.color}},d)),ze(He.Z,{deg:c.edge})),a===s.xy.CROSS?ze(i().Fragment,null,ze(qe,null,n("balance"),ze(Ue,null,"".concat(f," BTC"))),ze(qe,null,n("debt"),ze(Ue,null,"".concat(u," BTC"))),ze(qe,null,ze(Fe.Z,{arrow:!0,tip:"".concat(n("equity")," = ").concat(n("balance")," - ").concat(n("debt"))},ze(F.Z,{sx:{cursor:"pointer",borderBottom:"dotted 1px currentColor","&:hover":{color:"t.yellow300"}}},n("equity"))),ze(Ue,null,"".concat(m," BTC")))):ze(i().Fragment,null,ze(qe,null,"".concat(n("position")," (").concat(t,")"),ze(Ue,null,g)),ze(qe,null,"".concat(n("position")," (").concat(r,")"),ze(Ue,null,h))))};const Je=i().memo(Ve);var We=i().createElement,Ke=function(e){var t=e.tradeType,r=void 0===t?"CROSS":t,s=(0,o._n)(),l=(0,z.Z)().getI18n,c=(0,Z.IX)(),u=(0,n.Z)(c,2),d=u[0],f=u[1],m=(0,je.useMarginAssets)().userAssets,g=(0,Z.bU)(),h=g.marginBar,v=(0,o.Fs)().isMobile,_=(0,ae.Z)(h),y=(0,a.useCallback)((function(e){H.TB.emit("triggerModal",e)}),[]);return(0,a.useMemo)((function(){return v?null:We(p.Z,{mt:"80px",sx:{alignItems:"center"}},We(F.Z,{sx:{pb:"8px",fontSize:"14px",fontWeight:"600"}},l("assets"),h&&("CROSS"===r&&_?We(Fe.Z,{tip:l("adjust-lever"),arrow:!0,placement:"top",sx:{cursor:"pointer"}},We(ne.Z,{size:"l",disable:!1,onClick:function(){return y(T.Ze.ADJUST)}},h)):We(ne.Z,{size:"l"},h))),s?We(i().Fragment,null,We(j.Z,{sx:{justifyContent:"space-between",pt:"sm"}},We(U.Z,{"data-sensors-click":!0,id:"transferBtn",onClick:function(){return y(T.Ze.TRANSTER)}},l("transfer")),We(U.Z,{"data-sensors-click":!0,id:"borrowBtn",onClick:function(){return y(T.Ze.BORROW)}},l("borrow")),We(U.Z,{"data-sensors-click":!0,id:"repayBtn",onClick:function(){return y(T.Ze.REPAY)}},l("repay"))),We(Je,{base:d,quote:f,getI18n:l,tradeType:r,userAssets:m,accountInfo:g}),We(_e.Z,{tradeType:r})):null)}),[v,d,f,l,h,r,s,m,g,y,_])};const $e=i().memo(Ke);var Qe=i().createElement,Xe=function(e){return Qe(l.Z,e)},Ye=function(e){var t,r=e.tradeType,n=(0,o._n)(),i=(0,je.useMarginAssets)().userAssets,l=(0,Z.bU)().marginBar,c=null===i||void 0===i||null===(t=i.BNB)||void 0===t?void 0:t.free,u=(0,x.useDispatch)(),d=(0,a.useCallback)((function(){setTimeout((function(){r===s.xy.ISOLATED&&u.margin.queryIsolatedAccount()}),s.WI)}),[r,u.margin]);return(0,a.useMemo)((function(){return Qe(Me,{bnbFree:c,tradeType:r,marginBar:l,assetComp:Qe($e,{tradeType:r})},Qe(B,{userAssets:i,magicRefresh:d,renderRegisterLogin:Xe,selfHost:s.$g}))}),[r,n,l,c,i,d])};const Ge=i().memo(Ye);var et=i().createElement;const tt=function(){var e=(0,o.uT)(),t=(0,n.Z)(e,1)[0];return t===s.xy.CROSS||t===s.xy.ISOLATED?et(Ge,{key:t,tradeType:t}):et(Be,null)}},cn61:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r("DC7k"),a=r("xIFI"),i=r.n(a),o=r("YFbg"),s=r("3WHC"),l=r("qN/k"),c=r("wHkB"),u=r("cy2V"),d=r("c83x"),p=r("S2LQ"),f=r("xDxD"),m=i().createElement,g={"&>div":{color:"#1E2026",bg:"#F0B90B"}},h={fontSize:"12px",color:"#929AA5",alignItems:"center",textDecoration:"none",cursor:"pointer",".fiat":{bg:"tradeSwitch.activeBg",color:"tradeSwitch.activeColor",padding:"0px 4px",borderRadius:"2px"}},v=function(){var e=(0,f.z4)(),t=(0,n.Z)(e,2),r=(0,n.Z)(t[1],2),i=r[0],v=(r[1],(0,f.gm)()),_=(0,f.tZ)(),y=(0,f.ZK)().getI18n,x=(0,f.rX)(),b=(0,d.useSelector)((function(e){return e.userCenter.userSetting.userPreferredCurrency})),S=(0,a.useMemo)((function(){return u.Q.read("fiat-prefer-currency")||"CNY"}),[b]),w=(0,a.useMemo)((function(){return"".concat(p.$g,"/").concat(_,"/buy-sell-crypto?Type=spot&fiat=").concat(S,"&crypto=").concat(i,"&returnTo=").concat(encodeURIComponent(window.location.href))}),[i,S,_]);return x?null:m(c.Z,{tip:y("trd-orderform-buy-fiat-tooltip"),sx:g},m(l.Z,{as:"a",target:"_blank",onClick:function(){window.open(w)},sx:h},m("span",{dangerouslySetInnerHTML:{__html:y("trd-orderform-buy-fiat",{fiat:'<span class="fiat">'.concat(S,"</span>"),interpolation:{escapeValue:!1}})}}),m("rtl"===v?o.Z:s.Z,{size:12,ml:1})))};const _=i().memo(v)},LEn2:(e,t,r)=>{"use strict";r.d(t,{Z:()=>He});var n=r("DtyY"),a=r("DC7k"),i=r("xIFI"),o=r.n(i),s=r("c83x"),l=r("mrSG"),c=r("nc0P"),u=r.n(c),d=r("QK4s"),p=function(e){return(0,d.v_)("/gateway-api/v1/private/asset-service/wallet/transfer",e)},f=r("dxq8"),m=function(e){return(0,d.v_)("/gateway-api/v1/private/asset-service/asset/wallet/transfer",e)},g=r("qN/k"),h=r("Ng/A"),v=r("I78S"),_=r("0pZZ"),y=r("vJk+");const x=function(e){return o().createElement(y.Z,(0,l.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{d:"M2 4v15.6h19.5V4H2zm17.55 13.65H3.95v-7.8h15.6v7.8zm0-9.75H3.95V5.95h15.6V7.9z",fill:"currentColor"}),o().createElement("path",{d:"M14.676 13.75h2.925V11.8h-2.925v1.95z",fill:"currentColor"}))};var b=r("P6wV");const S=function(e){return o().createElement(y.Z,(0,l.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3 2.688l.891-.005L20.66 7.44l.05 1.539-4.154 2.702-.982-1.51 2.908-1.89-6.725-3.779L7.173 7.15l-.9-1.558L11.3 2.688zM2.775 7.82l1.346-.782 3.483 1.99-.893 1.563-2.136-1.22v7.877l3.9 2.229-.893 1.563-4.354-2.488-.453-.782v-9.95zm16.109 8.806v-4.453h1.8v4.975l-.454.781-8.707 4.976-1.346-.782v-3.316h1.8v1.765l6.907-3.946z",fill:"currentColor"}),o().createElement("path",{d:"M15.142 10.836c-.11-1.12-1.07-1.495-2.296-1.613l-.001-1.554-.945-.01-.008 1.519c-.255-.001-.508.01-.75.006l.005-1.53-.946-.01.001 1.555c-.204 0-.405.01-.597.007l-1.302-.01-.007 1.008s.7-.007.687-.004c.384.007.513.218.548.413l-.009 1.773c.027.007.063-.002.102 0-.027-.005-.063.004-.102 0l-.012 2.488c-.02.12-.088.315-.355.317.015.009-.687.003-.687.003l-.193 1.131 1.237.001c.23.007.459.002.678.012l-.009 1.569.946.01-.001-1.555c.258.013.513.014.753.005l-.002 1.543.945.009.008-1.57c1.597-.087 2.709-.488 2.852-1.976.112-1.2-.453-1.736-1.35-1.961.547-.262.885-.753.81-1.576zm-1.338 3.362c-.004 1.174-2.014 1.032-2.662 1.039l.01-2.08c.648-.007 2.656-.183 2.652 1.041zm-.431-2.939c-.004 1.072-1.68.937-2.215.941l.007-1.887c.534-.005 2.212-.176 2.208.946z",fill:"currentColor"}))};const w=function(e){return o().createElement(y.Z,(0,l.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:e.color},e),o().createElement("path",{d:"M6.093 8.889c-.567 0-1.031-.438-1.031-.972 0-.535.464-.973 1.03-.973h12.846V5H6.093C4.38 5 3 6.303 3 7.917v8.166C3 17.697 4.381 19 6.093 19H21V8.889H6.093zm12.845 8.167H6.093c-.567 0-1.031-.438-1.031-.973v-5.415c.33.107.68.165 1.03.165h12.846v6.223z",fill:e.color}),o().createElement("path",{d:"M15.845 12.574l-1.453 1.37 1.453 1.381 1.464-1.38-1.464-1.371z",fill:e.color}))};var k=r("0aGK"),C=r("na6S"),E=r("wd/R"),Z=r.n(E),T=r("OKEt"),A=r("UUEZ"),I=r("2mql"),P=r.n(I),O=r("zpwk");const D=function(e){var t=o().forwardRef((function(t,r){return o().createElement(O.Z.Consumer,null,(function(n){return o().createElement(e,(0,l.__assign)({},t,{ref:r,enqueueNotification:n.enqueueNotification,closeNotification:n.closeNotification}))}))}));return P()(t,e),t};var M=r("J6Qs"),L=r("9Koi"),N=r("3TKe"),R=function(e){var t=(0,L.$)("trade-ui"),r=t.t;return{i18n:t.i18n,getI18n:(0,i.useCallback)((function(t,n){return void 0===n&&(n={}),r(e+"-"+t,n)}),[e,r])}},B=function(e,t){return o().forwardRef((function(r,n){var a=R(t),i=a.i18n,s=a.getI18n;return o().createElement(e,(0,l.__assign)({ref:n,i18n:i,getI18n:s},r))}))},j=/^\d+\.?\d*$/,F=/^0\d+/,H=[{validate:function(e){return e},errorKey:"required"},{validate:function(e){return!F.test(e)&&u()(e).gt(0)},errorKey:"invalid"},{validate:function(e,t,r){return"borrow"===t||u()(e).lte(r)},errorKey:"ltbalance"},{validate:function(e,t,r){return"borrow"!==t||u()(e).lte(r)},errorKey:"ltBorrowLimit"},{validate:function(e){var t=!0,r=e.split(".");return r.length>1&&r[1].length>8&&(t=!1),t},errorKey:"lt8Decimal"},{validate:function(e,t,r,n){return"borrow"!==t||u()(e).gte(n)},errorKey:"stDebit",formatter:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.replace(/\$minDebit/,t[2])}},{validate:function(e,t,r,n){return"repay"!==t||u()(e).lte(n)},errorKey:"ltTotalDebit"},{validate:function(e,t,r,n,a){return"repay"!==t||u()(e).eq(n)||u()(e).lte(a)},errorKey:"stMaxRepay",formatter:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.replace(/\$maxRepay/,t[3])}},{validate:function(e,t,r,n,a,i){return"repay"!==t||u()(e).gte(i)},errorKey:"stMinRepay",formatter:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.replace(/\$minRepay/,t[4])}}],z=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];for(var a=0;a<H.length;a++){var i=H[a],o=i.validate,s=i.errorKey,c=i.formatter;if(!o.apply(void 0,(0,l.__spread)([e],r))){var u=t(s);return c&&(u=c.apply(void 0,(0,l.__spread)([u],r))),{validate:!1,errorMsg:u}}}return{validate:!0,errorMsg:""}},U=function(e){return e.map((function(e){return{assetCode:e.asset,assetName:e.assetName,assetLogo:e.logoUrl}}))},q=function(e){var t=e.text,r=e.maxAmountAsset,n=e.onClick;return o().createElement(h.Z,{__css:{position:["absolute","static"],left:"0px",top:"xl",cursor:"pointer",color:"t.third",":hover":{"> div":{color:"t.yellow"}}},onClick:n},t,": ",o().createElement(h.Z,{__css:{display:"inline",color:"primary"}},r))},V=function(e){var t=e.onChange;return o().createElement(g.Z,{justifyContent:"space-between"},o().createElement(J,{onClick:function(){return t("0.25")}},"25%"),o().createElement(J,{onClick:function(){return t("0.5")}},"50%"),o().createElement(J,{onClick:function(){return t("0.75")}},"75%"),o().createElement(J,{onClick:function(){return t("1")}},"100%"))},J=function(e){var t=e.children,r=e.onClick;return o().createElement(h.Z,{sx:{width:["78px","80px"],height:"24px",border:"1px solid",borderColor:"line",borderRadius:"20px",cursor:"pointer",textAlign:"center",":hover":{borderColor:"primary",color:"primary"}},onClick:r},t)},W=function(e){var t=e.msg,r=e.asset;return o().createElement(g.Z,{sx:{mb:"84px",px:"sm",py:"xs",color:"#F23051",backgroundColor:"rgba(242,48,81,.06)",alignItems:"center"}},o().createElement(N.Z,{size:20,mr:"xs"}),t.replace("%asset%",r))},K=r("YKSe"),$=r("o2Gz"),Q=r("iCrG"),X=r("OhCA"),Y={CardAccount:{icon:o().createElement(x,{size:20}),transferIn:p,transferOut:p,getMaxAmount:function(e){return e.free}},MarginAccount:{icon:o().createElement(b.Z,{size:20}),transferIn:f.CB,transferOut:f.f4,getMaxAmount:f.Cr},MiningAccount:{icon:o().createElement(S,{size:20}),transferIn:m,transferOut:m,getMaxAmount:function(e){return e.free}},IsolatedAccount:{icon:null,transferIn:function(e){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,d.v_)("/gateway-api/v1/private/isolated-margin/transfer-in",e)];case 1:return[2,r.sent()];case 2:throw t=r.sent(),new Error(t.message);case 3:return[2]}}))}))},transferOut:function(e){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,d.v_)("/gateway-api/v1/private/isolated-margin/transfer-out",e)];case 1:return[2,r.sent()];case 2:throw t=r.sent(),new Error(t.message);case 3:return[2]}}))}))},getMaxAmount:function(e){var t=e.asset,r=e.symbol;return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var e,n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:e="0",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,d.U2)("/gateway-api/v1/private/isolated-margin/transferable-amount/"+r+"?asset="+t)];case 2:return n=a.sent().data,e=n||"0",[3,4];case 3:return a.sent(),[3,4];case 4:return[2,e]}}))}))}}};const G=B(D(function(e){function t(t){var r=e.call(this,t)||this;return r.showModal=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=""),r.setState({curAsset:e,visible:!0,amount:"",errorMsg:"",isolatedSymbol:n,isolatedSymbolList:t},(function(){return(0,l.__awaiter)(r,void 0,void 0,(function(){var t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getMaxAmount(e)];case 1:return t=r.sent(),this.setState({curMaxMount:t}),[2]}}))}))}))},r._closeModal=function(e){void 0===e&&(e=!1),r.setState({visible:!1}),r.props.callback(e)},r.getMaxAmount=function(e){var t=e.asset,n=e.free,a=e.maxTransferAmount,i=void 0===a?"0":a,o=e.isMortgageable,s=e.netAsset;return(0,l.__awaiter)(r,void 0,void 0,(function(){var e,r,a,c,d;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e=this.state,r=e.isTrans,a=e.accountType,c="0",r?(d=this.props.cropQuery({asset:t,free:n}),[4,Y[a].getMaxAmount(d)]):[3,2];case 1:return c=l.sent(),[3,3];case 2:c=!o&&+s<0?""+-s:u()(i).toFixed(8),l.label=3;case 3:return[2,c]}}))}))},r.setMaxAmout=function(){return(0,l.__awaiter)(r,void 0,void 0,(function(){var e,t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return e=this.state.curAsset,[4,this.getMaxAmount(e)];case 1:return t=r.sent(),this.setState({curMaxMount:t}),[2]}}))}))},r._transfer=function(){return(0,l.__awaiter)(r,void 0,void 0,(function(){var e,t,r,n,a,i,o,s,c,u,d,p,f,m,g,h,v;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(e=this.props,t=e.getI18n,r=e.enqueueNotification,n=e.cropQuery,a=e.isLight,i=this.state,o=i.amount,s=i.isTrans,c=i.accountType,u=i.curAsset,d=u.asset,p=u.isMortgageable,f=u.netAsset,!s&&!p&&+f>=0)return[2];if(!this._validate())return[2];this.setState({isFetching:!0}),m=n({asset:d,amount:o},s),g=!1,l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,Y[c][s?"transferOut":"transferIn"](m)];case 2:return(h=l.sent()).success?(g=!0,r(t("transferCompleted"),{variant:"success"})):"string"===typeof h.code&&h.code.startsWith("200003")&&h.message?X.Z.show({isLight:a,message:h.message,okText:t("i-understand")}):this.handleTransferError(h.message),[3,5];case 3:return v=l.sent(),this.handleTransferError(v.message),[3,5];case 4:return this.setState({isFetching:!1}),this._closeModal(g),[7];case 5:return[2]}}))}))},r._toggleTrans=function(){var e=!r.state.isTrans;r.setState({isTrans:e},r.setMaxAmout),(r.props.onToggleDirection||Function.prototype)({isTrans:e,curAsset:r.state.curAsset})},r._handleInputChange=function(e){if(j.test(e)||0===e.length)return r.setState({amount:e})},r._handleSelectChange=function(e){return(0,l.__awaiter)(r,void 0,void 0,(function(){var t,r;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.props.userAssets.find((function(t){return t.asset===e})))?[4,this.getMaxAmount(t)]:[3,2];case 1:r=n.sent(),this.setState({amount:"",curAsset:t,curMaxMount:r,errorMsg:""}),n.label=2;case 2:return[2]}}))}))},r._hanldeTipClick=function(e){void 0===e&&(e="1");var t=r.state.curMaxMount,n=u()(t).mul(e).toFixed(8);r.setState({amount:n})},r._validate=function(){var e=r.props.getI18n,t=r.state,n=t.amount,a=t.curMaxMount,i=z(n,e,"transfer",a),o=i.validate,s=i.errorMsg;return r.setState({errorMsg:s}),o},r.state={visible:!1,isTrans:!1,amount:"",errorMsg:"",isFetching:!1,curMaxMount:"0",accountType:t.initAccount.value,curAsset:{asset:"",isMortgageable:!1,netAsset:"",free:""},isolatedSymbol:"",isolatedSymbolList:[]},r}return(0,l.__extends)(t,e),t.prototype.handleTransferError=function(e){var t=this.props,r=t.getI18n,n=t.enqueueNotification,a=this.state.accountType,i="";i="IsolatedAccount"===a||"MarginAccount"===a||"CardAccount"===a?e:e.split(",").reduce((function(e,t){return e+r(t)}),""),/^trd-dialog/.test(i)&&(i=e),n(i,{variant:"error"})},t.prototype._renderWalletSelect=function(){var e=this.props,t=e.getI18n,r=e.initAccount,n=this.state,a=n.isTrans,i=n.accountType,s=r.label;return o().createElement(g.Z,{flexDirection:a?"row-reverse":"row",alignItems:"center",sx:{position:"relative",my:"md",width:"412px",color:"t.third"}},o().createElement(h.Z,{sx:{position:"absolute",top:"-28px",left:"90px",transform:"translateX(-50%)"}},t("from",{defaultValue:"From"})),o().createElement(g.Z,{alignItems:"center",justifyContent:"center",sx:{width:"184px",height:"40px",backgroundColor:"transInputBG",borderRadius:"20px"}},o().createElement(w,{size:20}),t("exchangeAccount")),o().createElement(k.Z,{onClick:this._toggleTrans,size:28,sx:{mx:"xs",border:"2px solid",borderColor:"primary",borderRadius:"50%",color:"primary",cursor:"pointer",":hover":{borderColor:"t.yellow",color:"t.yellow"}}}),o().createElement(h.Z,{sx:{position:"absolute",top:"-28px",left:"318px",transform:"translateX(-50%)"}},t("to",{defaultValue:"To"})),o().createElement(g.Z,{alignItems:"center",justifyContent:"center",sx:{width:"184px",height:"40px",backgroundColor:"transInputBG",borderRadius:"20px"}},Y[i].icon,t(s,{defaultValue:s})))},t.prototype._renderMobileWalletSelect=function(){var e=this.props,t=e.getI18n,r=e.initAccount,n=this.state,a=n.isTrans,i=n.accountType,s=r.label;return o().createElement(g.Z,{sx:{mb:"md",color:"t.third",alignItems:"center"}},o().createElement(h.Z,{mr:"sm",lineHeight:"44px"},o().createElement(h.Z,null,t("from",{defaultValue:"From"})),o().createElement(h.Z,null,t("to",{defaultValue:"To"}))),o().createElement(g.Z,{__css:{flexDirection:a?"column-reverse":"column",flexGrow:1,justifyContent:"space-between",height:"88px"}},o().createElement(g.Z,{alignItems:"center",justifyContent:"center",sx:{height:"40px",backgroundColor:"transInputBG",borderRadius:"20px"}},o().createElement(w,{size:20}),t("exchangeAccount")),o().createElement(g.Z,{alignItems:"center",justifyContent:"center",sx:{height:"40px",backgroundColor:"transInputBG",borderRadius:"20px"}},Y[i].icon,t(s,{defaultValue:s}))),o().createElement(h.Z,null,o().createElement(k.Z,{onClick:this._toggleTrans,size:28,sx:{ml:"12px",transform:"rotate(90deg)",border:"2px solid",borderColor:"primary",borderRadius:"50%",color:"primary"}})))},t.prototype._renderAmountInput=function(e,t){var r=this,n=this.props.getI18n,a=this.state,i=a.amount,s=a.errorMsg,l=a.curAsset,c=a.curMaxMount;return o().createElement(o().Fragment,null,e&&t>=0?o().createElement(W,{asset:l.asset,msg:n("transferMargin",{asset:l.asset})}):o().createElement(T.Z,{type:"number",value:i,onChange:function(e){return r._handleInputChange(e.currentTarget.value)},label:n("amount"),placeholder:n("amount-hint",{defaultValue:"Please input amount"}),labelFixed:!0,suffix:o().createElement(q,{onClick:function(){return r._hanldeTipClick("1")},text:n("available"),maxAmountAsset:c+" "+l.asset}),boxProps:{width:"100%",mt:"xl",mb:["xl","plus"]},error:!!(s&&s.length>0),errorText:s}),e&&t<0?o().createElement(h.Z,{mt:"md"},n("trasferLimitTip",{asset:l.asset,num:String(-t)})):null,o().createElement(V,{onChange:this._hanldeTipClick}))},t.prototype._renderDelistMargin=function(){var e=this.state,t=e.accountType,r=e.curAsset,n=this.props,a=n.initAccount,i=n.getI18n,s="IsolatedAccount"===t;if(s||"MarginAccount"===t){var l=(s?null!==a&&void 0!==a?a:{}:null!==r&&void 0!==r?r:{}).status,c=null!==a&&void 0!==a?a:{},u=c.delistTime,d=c.displaySymbol,p=null!==r&&void 0!==r?r:{},f=p.delistedTime,m=p.asset,h=s?u:f,_=s?"delist-isolated-pair":"delist-cross-asset",y=s?d:m;return"PREPARE_DELIST"===l?o().createElement(g.Z,{bg:"depthSellBg",sx:{transform:["translate(0,-18px)","translate(0,-24px)"],mx:["-24px"]},px:[4],py:[2]},o().createElement(C.Z,{mr:[2],size:16,color:"errors",flex:"none"}),o().createElement(v.Z,{color:"errors",lineHeight:"16px",fontSize:"12px"},i(_,{interpolation:{escapeValue:!1},pair:y,delistTime:Z()(Number(h)).format("YYYY-MM-DD HH:mm (UTCZ)")}))):null}return null},t.prototype._renderMarginTransferTip=function(){var e=this.state,t=e.accountType,r=e.isTrans,n=this.props,a=n.getI18n,i=n.initAccount,s=(null!==i&&void 0!==i?i:{}).transferOutBar;return("IsolatedAccount"===t||"MarginAccount"===t)&&r?o().createElement(v.Z,{mt:"3"},a("transfertip-transferbar",{transferOutBar:s})):null},t.prototype._renderIsolatedSymbolSelect=function(){var e=this,t=this.state,r=t.accountType,n=t.isolatedSymbolList,a=t.isolatedSymbol,i=this.props,s=i.onIsolatedSymbolChange,l=void 0===s?function(){}:s,c=i.getI18n;return"IsolatedAccount"===r&&n.length>0?o().createElement($.Z,{label:c("pair"),value:a,onValueChange:function(t){e.setState({isolatedSymbol:t}),l(t)}},n.map((function(e){return o().createElement(Q.W,{value:e,key:e},e)}))):null},t.prototype._isBtnDisabled=function(e,t){var r=this.state,n=r.amount,a=r.curMaxMount,i=r.isFetching;return!/^(0|([1-9]\d*))(\.\d+)?$/.test(n)||+n<=0||+n>+a||e&&t>=0||i},t.prototype.render=function(){var e=this,t=this.props,r=t.getI18n,n=t.userAssets,a=this.state,i=a.isTrans,s=a.visible,l=a.curAsset,c=!i&&!l.isMortgageable,u=+l.netAsset,d=U(n),p=!1;return"undefined"!==typeof window&&window.matchMedia("(max-width: 768px)").matches&&(p=!0),o().createElement(K.Z,{open:s,title:r("transfer"),sx:{width:["100%","464px"],display:"flex",flexDirection:"column"},contentSx:{flexGrow:1,overflowY:"auto",pb:[112,"md"]},onCloseIconClick:function(){return e._closeModal(!1)}},this._renderDelistMargin(),p?this._renderMobileWalletSelect():this._renderWalletSelect(),this._renderIsolatedSymbolSelect(),o().createElement(A.Z,{label:r("coin"),value:l.asset,onChange:this._handleSelectChange,assets:d}),this._renderAmountInput(c,u),this._renderMarginTransferTip(),o().createElement(M.y,null,o().createElement(_.Z,{disabled:this._isBtnDisabled(c,u),sz:"l",width:1,onClick:this._transfer},r("confirm"))))},t.displayName="TransferModal",t.defaultProps={initAccount:{label:"marginAccount",value:"MarginAccount"},cropQuery:function(e){return e}},t}(o().PureComponent)),"trd-dialog");var ee=r("7r9v"),te=r("QLxY"),re=r("/lVQ"),ne=r("JEI7"),ae=r("uPCU"),ie=r("wHkB"),oe=r("WmaC"),se=function(e){var t=e.children;return o().createElement(h.Z,{maxWidth:"350px",lineHeight:"16px",fontSize:"sm"},t)};const le=B((function(e){var t=e.discount,r=e.asset,n=e.getI18n;return o().createElement(ie.Z,{tip:o().createElement(se,null,n("ratedescTip",{XXX:t,YYY:r})),placement:"top",arrow:!0,sx:{display:"inline-flex"}},o().createElement(oe.Z,{size:16,flex:"none",sx:{color:"primary",mr:"0"}}))}),"trd-dialog");var ce=r("qxc7"),ue=r("bCmj");const de=function(e){return o().createElement(y.Z,(0,l.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10S2 17.52 2 12zm2 0c0 4.41 3.59 8 8 8s8-3.59 8-8-3.59-8-8-8-8 3.59-8 8zm12.59 3.18L13.41 12l3.18-3.18-1.41-1.41L12 10.59 8.82 7.41 7.41 8.82 10.59 12l-3.18 3.18 1.41 1.41L12 13.41l3.18 3.18 1.41-1.41z",fill:"currentColor"}))};const pe=function(e){return o().createElement(y.Z,(0,l.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm0 2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm1.012-16h-2.009v8h2.009V6zm-2.009 9.991h2.009V18h-2.009v-2.009z",fill:"currentColor"}))};const fe=function(e){return o().createElement(y.Z,(0,l.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 12c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8 8-3.589 8-8zM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12zm3.764-.03l4.399 4.331 7.234-7.235-1.414-1.414-5.854 5.855-2.951-2.95-1.414 1.413z",fill:"currentColor"}))};var me=r("2lTM");const ge=function(e){return o().createElement(y.Z,(0,l.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:e.color},e),o().createElement("path",{d:"M13.4 12l6.6 6.6-1.4 1.4-6.6-6.6L5.4 20 4 18.6l6.6-6.6L4 5.4 5.4 4l6.6 6.6L18.6 4 20 5.4 13.4 12z",fill:e.color}))};var he={info:N.Z,error:de,warning:pe,success:fe,tips:me.Z},ve=(0,i.forwardRef)((function(e,t){var r=e.children,n=e.icon,a=e.variant,s=void 0===a?"tips":a,c=e.closable,u=void 0!==c&&c,d=e.showIcon,p=void 0===d||d,f=e.onClose,m=(0,l.__rest)(e,["children","icon","variant","closable","showIcon","onClose"]),v=he[s],_=(0,i.isValidElement)(n)?o().cloneElement(n,(0,l.__assign)({size:20},n.props),[]):o().createElement(v,{size:20});return o().createElement(g.Z,(0,l.__assign)({tx:"alert",variant:s,alignItems:"flex-start",justifyContent:"space-between",ref:t,width:"100%",py:"xs",px:"sm"},m),o().createElement(g.Z,{alignItems:"flex-start"},p?o().createElement(h.Z,{sx:{py:"xs",pr:"sm",flexShrink:0}},_):null,o().createElement(h.Z,{sx:{py:"xs",wordBreak:"break-word"}},r)),u?o().createElement(h.Z,{py:"xs",pl:"xs",__css:{flexShrink:0}},o().createElement(ge,{size:12,onClick:f,cursor:"pointer"})):null)}));ve.displayName="Alert";const _e=ve;const ye=B((function(e){var t=e.showAlert,r=e.getI18n,n=e.couponHref,a=e.voucherParams,s=a.product,c=a.coinPair,u=a.coin,d=(0,l.__read)((0,i.useState)(!1),2),p=d[0],f=d[1];return(0,i.useEffect)((function(){t&&(0,ce.L2)({product:s,coinPair:c,coin:u}).then((function(e){var t=e.total;f(0!==(void 0===t?0:t))}))}),[s,c,u]),t&&p&&o().createElement(ue.Z,{href:n,sx:{mx:"-24px",display:"flex",textDecoration:"none"}},o().createElement(_e,{showIcon:!1},r("BorrowAndReceiveTip")))}),"trd-dialog");var xe={CROSS:{maxBorrow:re.vX,borrow:ne.cN,repay:ne.Rb},ISOLATED:{maxBorrow:ae.T$,borrow:ae.bs,repay:ae.J2}};const be=D(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={amount:"0",errorMsg:"",isFetching:!1},t._handleInputChange=function(e){if(j.test(e)||0===e.length)return t.setState({amount:e})},t._handleSelectChange=function(e,r){var n,a=t.props,i=a.userAssets,o=a.isolatedAccounts,s=void 0===o?[]:o,l=a.panelType,c=a.initAccount,u=a.handleSelectChange,d=c;n="asset"===e?i.find((function(e){return e.asset===r})):(d=s.find((function(e){return e.symbol===r}))||{userAssets:[],symbol:""}).userAssets[0],t.setState({amount:"0",errorMsg:""}),u({asset:n,account:d,type:l,selectType:e})},t._setAmount=function(e){var r=t.props.maxAmount,n=u()(r).mul(e).toFixed(8);t.setState({amount:n})},t._hanldeTipClick=function(){t._setAmount("1")},t._confirm=function(){return(0,l.__awaiter)(t,void 0,void 0,(function(){var e,t,r,n,a,i,o,s,c,u,d,p,f,m;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(!this._validate())return[2];this.setState({isFetching:!0}),e=this.state.amount,t=this.props,r=t.type,n=t.getI18n,a=t.panelType,i=t.initAsset.asset,o=t.enqueueNotification,s=t.initAccount.symbol,c=t.isLight,u={asset:i,amount:e,symbol:s},d=!1,l.label=1;case 1:return l.trys.push([1,6,7,8]),p=void 0,"Borrow"!==a?[3,3]:[4,xe[r].borrow(u)];case 2:return(p=l.sent()).success&&(d=!0,o(n("requestApproved"),{variant:"success"})),[3,5];case 3:return[4,xe[r].repay(u)];case 4:(p=l.sent()).success&&(d=!0,o(n("repaySuccessful"),{variant:"success"})),l.label=5;case 5:return!1===p.success&&("string"===typeof p.code&&p.code.startsWith("200003")?X.Z.show({isLight:c,message:p.message,okText:n("i-understand")}):o(p.message,{variant:"error"})),[3,8];case 6:return f=l.sent(),m=f.message,o(m,{variant:"error"}),[3,8];case 7:return this.setState({isFetching:!1}),this.props.closeModal(d),[7];case 8:return[2]}}))}))},t.renderBorrowList=function(){var e=t.props,r=e.type,n=e.getI18n,a=e.maxAmount,i=e.initAccount.ladder,s=e.initAsset,l=s.borrowed,c=s.asset,d=s.interestRate,p=void 0===d?0:d,f=s.couponAmount,m=u()(p).div(24).mul(100).toFixed(8);return o().createElement(h.Z,{sx:{mt:"plus",mb:"42px",lineHeight:"34px"}},o().createElement(h.Z,null,o().createElement(ie.Z,{tip:o().createElement(se,null,n("ratedesc")),placement:"top",arrow:!0},o().createElement(h.Z,{sx:{textDecoration:"underline dotted",color:"t.third",":hover":{color:"primary"}},as:"span"},n("interestrate"),":")),o().createElement(h.Z,{sx:{float:"right"}},m,"%")),o().createElement(h.Z,null,o().createElement(h.Z,{color:"t.third",as:"span"},n("borrowed"),":"),o().createElement(h.Z,{sx:{float:"right"}},l,"\xa0",c)),o().createElement(h.Z,null,o().createElement(h.Z,{color:"t.third",as:"span"},n("maximumBorrowAmount"),":"),o().createElement(h.Z,{sx:{float:"right"}},a,"\xa0",c)),f&&u()(f).gt(0)&&o().createElement(h.Z,null,o().createElement(ie.Z,{tip:o().createElement(se,null,n("TotalMarginTrailFundTip")),placement:"top",arrow:!0},o().createElement(h.Z,{sx:{textDecoration:"underline dotted",color:"t.third",":hover":{color:"primary"}},as:"span"},n("TotalMarginTrailFund"),":")),o().createElement(h.Z,{sx:{float:"right"}},u()(f).toFixed(4),"\xa0",c)),o().createElement(h.Z,{color:"t.third",sx:{" .primary":{color:"primary"}," .heavy":{color:"t.primary"}},dangerouslySetInnerHTML:{__html:n(r+"-addon",{ladder:i,interpolation:{escapeValue:!1}})}}))},t.renderRepayList=function(){var e=t.props,r=e.getI18n,n=e.initAsset,a=n.asset,i=n.free,s=n.interest,l=n.borrowed,c=n.totalDebt,d=n.couponAmount,p=+l>+d?d:l;return o().createElement(h.Z,{sx:{mt:"sm",mb:"md",lineHeight:"34px"}},o().createElement(h.Z,null,o().createElement(h.Z,{color:"t.third",as:"span"},r("availableBalance"),":"),o().createElement(h.Z,{sx:{float:"right"}},i,"\xa0",a)),o().createElement(h.Z,null,o().createElement(g.Z,{sx:{alignItems:"center",display:"inline-flex"}},o().createElement(ie.Z,{tip:o().createElement(se,null,r("ratedesc")),placement:"top",arrow:!0},o().createElement(h.Z,{sx:{textDecoration:"underline dotted",color:"t.third",":hover":{color:"primary"}},as:"span"},r("interest"),"\xa0(A)")),"\xa0",d&&u()(d).gt(0)&&l&&u()(l).gt(0)&&o().createElement(le,{discount:p,asset:a}),":"),o().createElement(h.Z,{sx:{float:"right"}},s,"\xa0",a)),o().createElement(h.Z,null,o().createElement(h.Z,{color:"t.third",as:"span"},r("borrowed"),"\xa0(B):"),o().createElement(h.Z,{sx:{float:"right"}},l,"\xa0",a)),o().createElement(h.Z,null,o().createElement(h.Z,{color:"t.third",as:"span"},r("totalDebt"),"\xa0(A + B):"),o().createElement(h.Z,{sx:{float:"right"}},c,"\xa0",a)))},t.renderAmount=function(){var e=t.props,r=e.getI18n,n=e.maxAmount,a=e.panelType,i=e.initAsset,s=i.isBorrowable,l=i.borrowed,c=i.asset,u=i.interest,d="Borrow"===a,p=t.state,f=p.amount,m=p.errorMsg;if(d&&!s||!d&&+l+ +u<=0){var g=r("suspensionOfLoan",{asset:c});return!d&&+l<=0&&(g=r("haventBorrowed",{asset:c})),o().createElement(W,{asset:c,msg:g})}return o().createElement(o().Fragment,null,o().createElement(T.Z,{type:"number",value:f,onChange:function(e){return t._handleInputChange(e.currentTarget.value)},label:r("amount"),labelFixed:!0,suffix:o().createElement(q,{onClick:t._hanldeTipClick,text:r("available"),maxAmountAsset:n+" "+c}),boxProps:{width:"100%",mb:["xl","plus"]},error:!!(m&&m.length>0),errorText:m}),o().createElement(V,{onChange:t._setAmount}))},t.renderIsolatedAccount=function(){var e=t.props,r=e.type,n=e.getI18n,a=e.initAccount,i=e.isolatedAccounts,s=void 0===i?[]:i;return"ISOLATED"!==r?null:o().createElement($.Z,{label:n("pair"),value:a.symbol,limit:7,onChange:function(e){return t._handleSelectChange("account",e)},sx:{mb:"16px",mt:"md"}},s.map((function(e){var t=e.symbol;return o().createElement(Q.W,{key:t,value:t},t)})))},t.validateBorrow=function(){var e=t.state.amount,r=t.props,n=r.getI18n,a=r.maxAmount,i=r.initAsset.userMinBorrow,o=z(e,n,"borrow",a,i),s=o.validate,l=o.errorMsg;return t.setState({errorMsg:l}),s},t.validateRepay=function(){var e=t.state.amount,r=t.props,n=r.getI18n,a=r.maxAmount,i=r.initAsset,o=i.free,s=i.userMinBorrow,l=i.userMinRepay,c=z(e,n,"repay",o,a,u()(a).minus(s).toString(),l),d=c.validate,p=c.errorMsg;return t.setState({errorMsg:p}),d},t._validate=function(){return"Borrow"===t.props.panelType?t.validateBorrow():t.validateRepay()},t.renderDelistMargin=function(){var e=t.props,r=e.initAccount,n=e.type,a=e.getI18n,i=e.initAsset,s="ISOLATED"===n;if(s||"CROSS"===n){var l=(s?r:i).status,c=r.delistTime,u=r.displaySymbol,d=i.delistedTime,p=i.asset,f=s?c:d,m=s?u:p,h=s?"delist-isolated-pair":"delist-cross-asset";return"PREPARE_DELIST"===l?o().createElement(g.Z,{bg:"depthSellBg",sx:{transform:["translate(0,-24px)"],mx:["-24px"],mt:"md"},px:[4],py:[2]},o().createElement(C.Z,{mr:[2],size:16,color:"errors",flex:"none"}),o().createElement(v.Z,{color:"errors",lineHeight:"16px",fontSize:"12px"},a(h,{interpolation:{escapeValue:!1},pair:m,delistTime:Z()(Number(f)).format("YYYY-MM-DD HH:mm (UTCZ)")}))):null}return null},t}return(0,l.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.getI18n,n=t.panelType,a=t.userAssets,i=t.initAsset,s=t.couponHref,l=t.type,c=t.initAccount,u=this.state.isFetching,d="Borrow"===n,p=d&&!i.isBorrowable||!d&&+i.borrowed+ +i.interest<=0,f=U(a);return o().createElement(h.Z,null,o().createElement(ye,{showAlert:"Borrow"===n,couponHref:s,voucherParams:{product:"CROSS"===l?"MARGIN_CROSS":"MARGIN_ISOLATED",coinPair:"CROSS"===l?void 0:c.displaySymbol,coin:i.asset}}),this.renderDelistMargin(),this.renderIsolatedAccount(),o().createElement(h.Z,{mt:"md"},o().createElement(A.Z,{label:r("coin"),value:i.asset,onChange:function(t){return e._handleSelectChange("asset",t)},assets:f})),"Borrow"===n?this.renderBorrowList():this.renderRepayList(),this.renderAmount(),o().createElement(M.y,null,o().createElement(_.Z,{disabled:p||u,sz:"l",width:1,onClick:this._confirm},r("confirm"+n))))},t}(o().PureComponent));var Se=function(e){var t=e.active,r=e.title,n=o().createElement(h.Z,{sx:{width:"100%",height:"2px",bg:"primary",position:"absolute",bottom:"-1px"}});return o().createElement(h.Z,{sx:{position:"relative",mr:"plus",px:"0px",pt:"xs",pb:"md",fontSize:"18px",fontWeight:"medium",":hover":{color:"t.primary"}},color:t?"t.primary":"t.placeholder"},r," ",t?n:null)};const we=B(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1,activeTab:"borrow",curRepayAsset:{asset:""},curBorrowAsset:{asset:""},curBorrowMaxAmount:"0",curRepayMaxAmount:"0",curBorrowIsolatedAcccount:{symbol:"",userAssets:[]},curRepayIsolatedAcccount:{symbol:"",userAssets:[]}},t.showModal=function(e){var r=e.asset,n=e.activeTab,a=e.account,i=void 0===a?{}:a;return(0,l.__awaiter)(t,void 0,void 0,(function(){var e,t,a,o;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return e=r.isBorrowable,this.setState({activeTab:n,visible:!0,curRepayAsset:r,curBorrowAsset:r,curRepayIsolatedAcccount:i,curBorrowIsolatedAcccount:i}),e?[4,this.getMaxAmount("Borrow",i.symbol,r)]:[3,2];case 1:return a=s.sent(),[3,3];case 2:a="0",s.label=3;case 3:return t=a,[4,this.getMaxAmount("Repay",i.symbol,r)];case 4:return o=s.sent(),this.setState({curRepayMaxAmount:o,curBorrowMaxAmount:t}),[2]}}))}))},t.getMaxAmount=function(e,r,n){var a=n.free,i=void 0===a?"0":a,o=n.asset,s=n.totalDebt,c=void 0===s?"0":s;return(0,l.__awaiter)(t,void 0,void 0,(function(){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return t="0","Borrow"!==e?[3,2]:[4,xe[this.props.type].maxBorrow(o,r)];case 1:return t=n.sent(),[3,3];case 2:t=c,u()(c).gt(i)&&(t=i),n.label=3;case 3:return[2,t]}}))}))},t._handleTabChange=function(e){t.setState({activeTab:e})},t._handleSelectChange=function(e){var r=e.type,n=e.asset,a=e.account,i=e.selectType;return(0,l.__awaiter)(t,void 0,void 0,(function(){var e,t,o,s;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e="Borrow"===r?"curBorrow":"curRepay",[4,this.getMaxAmount(r,a.symbol,n)];case 1:return t=l.sent(),(s={})[e+"Asset"]=n,s[e+"MaxAmount"]=t,o=s,"account"===i&&(o[e+"IsolatedAcccount"]=a),this.setState(o),[2]}}))}))},t._closeModal=function(e){void 0===e&&(e=!1),t.setState({visible:!1}),t.props.callback(e)},t}return(0,l.__extends)(t,e),Object.defineProperty(t.prototype,"borrowAssets",{get:function(){var e=this.props,t=e.type,r=e.userAssets;return"CROSS"===t?r:this.state.curBorrowIsolatedAcccount.userAssets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repayAssets",{get:function(){var e=this.props,t=e.type,r=e.userAssets;return"CROSS"===t?r:this.state.curRepayIsolatedAcccount.userAssets},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.props,r=t.isolatedAccounts,n=t.getI18n,a=t.type,i=t.couponHref,s=this.state,l=s.activeTab,c=s.curRepayAsset,u=s.curBorrowAsset,d=s.curRepayMaxAmount,p=s.curBorrowMaxAmount,f=s.curRepayIsolatedAcccount,m=s.curBorrowIsolatedAcccount,g=this.state.visible;return o().createElement(K.Z,{open:g,onCloseIconClick:this._closeModal,sx:{width:["100%","464px"]}},o().createElement(ee.Z,{mt:["sm","minor"],lazy:!0,defaultActiveKey:l,onChange:function(t){return e._handleTabChange(t)},tabsSx:{borderBottom:"1px solid",borderBottomColor:"calendar.line",overflow:"visible"}},o().createElement(te.Z,{tab:function(e){return o().createElement(Se,{active:e,title:n("borrow")})},tabKey:"borrow"},o().createElement(be,{couponHref:i,type:a,getI18n:n,key:"borrow_"+u.asset,panelType:"Borrow",initAsset:u,initAccount:m,maxAmount:p,userAssets:this.borrowAssets,isolatedAccounts:r,closeModal:this._closeModal,handleSelectChange:this._handleSelectChange})),o().createElement(te.Z,{tab:function(e){return o().createElement(Se,{active:e,title:n("repay")})},tabKey:"repay"},o().createElement(be,{type:a,getI18n:n,key:"repay_"+c.asset,panelType:"Repay",initAsset:c,initAccount:f,maxAmount:d,userAssets:this.repayAssets,isolatedAccounts:r,closeModal:this._closeModal,handleSelectChange:this._handleSelectChange}))))},t.defaultProps={type:"CROSS",userAssets:[],isolatedAccounts:[]},t}(o().PureComponent),"trd-dialog");var ke=r("ybY4"),Ce=r("Sq28"),Ee={"3x":"5x","5x":"3x"},Ze={"3x":"1.1","5x":"1.05"},Te={"3x":"1.25","5x":"1.5"},Ae=(0,i.forwardRef)((function(e,t){var r=R("trd-dialog").getI18n,n=(0,Ce.Z)().enqueueNotification,a=e.open,s=e.curBar,c=void 0===s?"3x":s,u=e.onCloseIconClick,d=e.onConfirm,p=e.triggerRepay,f=e.triggerTransfer,m=(0,l.__read)((0,i.useState)([]),2),v=m[0],y=m[1],x=(0,l.__read)((0,i.useState)(!1),2),b=x[0],S=x[1],w=(0,l.__read)((0,i.useState)(!1),2),k=w[0],C=w[1],E=Ee[c],Z=(0,i.useMemo)((function(){var e=v[0];return e&&"MarginAccountValidation"===e.item&&(v.shift(),v.push(e)),"5x"===c?v.filter((function(e){return"MaxBorrowValidation"!==e.item&&"MarginAccountValidation"!==e.item})):v}),[v,c]),T=(0,i.useCallback)((function(){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var e,t,a,i;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return C(!0),e={bar:"3x"===c?1:0},[4,(0,re.Hp)(e)];case 1:return t=l.__read.apply(void 0,[o.sent(),2]),a=t[0],i=t[1],a?n(r("lendingSuccess"),{variant:"success"}):n(r("code-"+i),{variant:"error"}),C(!1),d(a),[2]}}))}))}),[c,n,r,d]),A=(0,i.useCallback)((function(){d(),f()}),[d,f]),I=(0,i.useCallback)((function(){d(),p()}),[d,p]);return(0,i.useEffect)((function(){if(!1!==a){var e={bar:"3x"===c?1:0};(0,re.NP)(e).then((function(e){y(e.rows),S(e.allPass)}))}}),[c,a]),o().createElement(K.Z,{open:a,onCloseIconClick:u,title:r("bar-title",{targetBar:E}),ref:t,sx:{width:["100%","368px"]}},o().createElement(h.Z,{sx:{pb:"sm",borderBottom:"1px solid",borderBottomColor:"lines.light"}},o().createElement(h.Z,null,r("bar-errortitle",{curBar:c,targetBar:E})),o().createElement(h.Z,{sx:{mt:"sm",lineHeight:"30px"}},0===Z.length&&o().createElement(g.Z,{justifyContent:"center",mt:"sm",mb:"xs"},o().createElement(ke.Z,null)),Z.map((function(e,t){return o().createElement(Ie,{getI18n:r,key:t,row:e,curBar:c,triggerRepay:I,triggerTransfer:A})})))),o().createElement(h.Z,{mt:"sm",mb:"xs",color:"t.third"},"5x"===E&&o().createElement(h.Z,null,r("bar-bt1")),o().createElement(h.Z,{sx:{mt:"xs",".primary":{color:"primary"}},dangerouslySetInnerHTML:{__html:r("bar-bt2",{level:Ze[E]})}})),o().createElement(M.y,null,o().createElement(_.Z,{disabled:!b||k,sz:"l",width:1,onClick:function(){T(),d()}},r("confirm"))))})),Ie=function(e){var t=e.getI18n,r=e.row,n=e.curBar,a=e.triggerRepay,i=e.triggerTransfer,s=r.item,l=r.pass,c=r.msg,u=s[0].toLowerCase().concat(s.slice(1)),d="bar-"+u;return o().createElement(h.Z,null,l?o().createElement(o().Fragment,null,o().createElement(fe,{color:"buy",size:20,mr:"xs",verticalAlign:"middle"}),t(d,{validateBar:Te[n]})):o().createElement(o().Fragment,null,o().createElement(g.Z,{justifyContent:"space-between"},o().createElement(h.Z,{as:"span"},o().createElement(de,{color:"error",size:20,mr:"xs",verticalAlign:"middle"}),t(d,{validateBar:Te[n]})),"MarginAccountValidation"!==s&&o().createElement(h.Z,{as:"span"},o().createElement(_.Z,{variant:"quiet",sz:"m",onClick:function(){return a()}},t("repay")),"MaxMarginLevelValidation"===s&&o().createElement(_.Z,{variant:"quiet",sz:"m",onClick:function(){return i()}},t("transfer")))),o().createElement(h.Z,{color:"t.third"},t("bar-"+u+"tip",{msg:c}))))};Ae.displayName="AdjustLevelDialog";const Pe=Ae;var Oe=r("ZIGC"),De=r("S2LQ"),Me=r("194l"),Le=r("xDxD"),Ne=r("027f"),Re=r("Nmnx"),Be=r("fp4b"),je=o().createElement;var Fe=function(e){var t=e.tradeType,r=(0,Le.tZ)(),l=(0,Me.Z)().getI18n,c=(0,Be.IX)(),u=(0,a.Z)(c,2),d=u[0],p=u[1],f=(0,Ne.useMarginAssets)().userAssets,m=(0,Be.bU)(),g=(0,Be.HY)(),h=(0,Le.Pc)(),v=(0,Le.Fg)().isLight,_=(0,s.useDispatch)(),y=(0,i.useCallback)((function(){t===De.xy.CROSS&&_.userCenter.updateState({userInfo:(0,n.Z)((0,n.Z)({},h),{},{isExistMarginAccount:!0})}),t===De.xy.ISOLATED&&_.margin.queryIsolatedAccount()}),[t,_.margin,_.userCenter,h]),x="".concat(d).concat(p),b=f[d]||{},S=Object.values(f),w=(0,i.useRef)(),k=(0,i.useRef)(),C=o().useState(!1),E=(0,a.Z)(C,2),Z=E[0],T=E[1],A=(0,Ne.useMarginSymbol)().symbolsMap,I=(0,i.useMemo)((function(){var e;return function(e,t,r,n,a){var i,o,s,l=null!==(i=null===n||void 0===n?void 0:n[t])&&void 0!==i?i:{};return"CROSS"===e?{label:"marginAccount",value:"MarginAccount",transferOutBar:a}:{displaySymbol:t,status:null!==(o=null===l||void 0===l?void 0:l.isolatedStatus)&&void 0!==o?o:"NORMAL",delistTime:null!==(s=null===l||void 0===l?void 0:l.delistTime)&&void 0!==s?s:0,label:r("isolated",{symbol:t}),value:"IsolatedAccount",transferOutBar:a}}(t,x,l,A,null!==(e=null===m||void 0===m?void 0:m.transferOutBar)&&void 0!==e?e:"2")}),[t,x,l,A,m]),P=(0,i.useCallback)((function(){w.current&&w.current.showModal(b)}),[w,b]),O=(0,i.useCallback)((function(e){var t=g.find((function(e){return e.symbol===x}))||{};k.current&&k.current.showModal({account:t,asset:b,activeTab:e})}),[x,b,g]),D=(0,i.useCallback)((function(){return"CROSS"===t&&T(!0)}),[t]),M=(0,i.useCallback)((function(e){return e&&y()}),[y]),L=(0,i.useCallback)((function(e){var r="CROSS"===t?{}:{symbol:x,target:"SPOT"};return(0,n.Z)((0,n.Z)({},e),r)}),[t,x]);return(0,i.useEffect)((function(){return Oe.TB.on("triggerModal",(function(e){switch(e){case Re.Ze.TRANSTER:P();break;case Re.Ze.BORROW:O("borrow");break;case Re.Ze.REPAY:O("repay");break;case Re.Ze.ADJUST:D()}}))}),[b,P,O,D]),je(o().Fragment,null,je(G,{isLight:v,key:t,ref:w,cropQuery:L,initAccount:I,userAssets:S,callback:M}),je(we,{isLight:v,couponHref:"/".concat(r,"/my/coupon"),type:t,ref:k,callback:M,userAssets:S,isolatedAccounts:g}),je(Pe,{open:Z,curBar:m.marginBar,onConfirm:function(){return T(!1)},triggerTransfer:P,onCloseIconClick:function(){return T(!1)},triggerRepay:function(){return O("repay")}}))};const He=o().memo(Fe)},JW8N:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r("xIFI"),a=r.n(n),i=r("I78S"),o=a().createElement;const s=function(){return o(i.Z,{sx:{borderBottom:"1px dashed",borderBottomColor:"lines.border"}})}},"6JaR":(e,t,r)=>{"use strict";r.d(t,{_:()=>c,j:()=>u});var n=r("XP5A"),a=r("xIFI"),i=r.n(a),o=r("I78S"),s=r("Ng/A"),l=i().createElement,c=function(e){var t=e.children,r=(0,n.Z)(e,["children"]);return l(o.Z,Object.assign({className:"item",as:"span"},r),t)},u=function(e){var t=e.children,r=(0,n.Z)(e,["children"]);return l(s.Z,Object.assign({variant:"dropdown",__css:{display:"flex",flexDirection:"column"}},r),t)}},PFLj:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r("DC7k"),a=r("xIFI"),i=r.n(a),o=r("xDxD"),s=r("uNdj"),l=r("S2LQ"),c=r("6JaR"),u=i().createElement,d=function(){var e=(0,o.ZK)().getI18n,t=(0,o.uT)(),r=(0,n.Z)(t,1)[0],a=r===l.xy.CROSS||r===l.xy.ISOLATED,i=(0,s.Y)((function(e){return e.setIsShowDialog}));return a?u(c._,{onClick:function(){return i("force-open")}},e("trd-margin-quiz-tutrial")):null};const p=i().memo(d)},"/MgC":(e,t,r)=>{"use strict";r.d(t,{Z:()=>D});var n=r("VwJU"),a=r.n(n),i=r("HSMY"),o=r("DC7k"),s=r("xIFI"),l=r.n(s),c=r("c83x"),u=r("qN/k"),d=r("I78S"),p=r("mrSG"),f=r("QK4s"),m=function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,f.v_)("/gateway-api/v1/private/future/leverage/token/redeem",e)];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},g=function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,f.v_)("/gateway-api/v1/private/future/leverage/token/purchase",e)];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},h=r("xDxD"),v=r("FU4r"),_=r("ZIGC"),y=r("dZ3E"),x=r("194l"),b=r("fp4b"),S=r("Nmnx"),w=r("Ng/A"),k=r("0pZZ"),C=r("OKEt"),E=r("wiC8"),Z=r("TG9/"),T=l().createElement,A=function(e){var t=e.id,r=e.base,n=e.quote,a=e.baseBalance,i=e.quoteBalance,o=e.getI18n,l=e.purchasePreMin,c=e.onConfirm,p=e.onClose,f=t===S.lL?r:n,m=t===S.lL?a:i,g=(0,s.useState)(""),h=g[0],v=g[1],_=(0,s.useState)(!1),y=_[0],x=_[1],b=function(e,t){return{amountLess:"".concat(e("validAmountTip3",{minAmount:t})).replace(/\$premin\$/,t),amountHigher:e("validAmountTip1",{defaultValue:"Please enter an amount no higher than your available balance"}),amountError:e("validAmountTip2",{defaultValue:"Please enter a valid amount"})}}(o,l),A=function(e){return v(e)},I=Number(h)>Number(m),P=Number(h)<l&&Number(h)>0,O=!1,D="";t!==S.lL?(O=Number(h||0)<=0||I||P,D=I?b.amountHigher:P?b.amountLess:b.amountError):(O=Number(h||0)<=0||I,D=I?b.amountHigher:b.amountError);var M=T(u.Z,{sx:{cursor:"pointer"},onClick:function(){return A(m)}},T(w.Z,{sx:{color:"t.grey300"}},o("modal-avlib",{defaultValue:"Available"})),"\xa0",T(w.Z,{sx:{color:"t.yellow200"}},(0,E.GW)(m,8,!0)),"\xa0",T(w.Z,{sx:{color:"t.yellow200"}},f));return T(u.Z,{sx:{flexDirection:"column",width:"414px",height:"166px",position:"relative"}},T(d.Z,{sx:{color:"t.grey300"}},o("modal-amount",{defaultValue:"Amount"})),T(w.Z,null,T(C.Z,{value:h,type:"number",error:(""!==h||y)&&O,errorText:D,onChange:function(e){return(0,Z._p)(e,A,"",8)},onBlur:function(e){return(0,Z.Y5)(e)},suffix:M,sx:{width:"100%",fontSize:"18px"},boxProps:{width:"100%"}})),T(k.Z,{sx:{width:"100%",height:"40px",position:"absolute",bottom:"0",left:"0"},type:"primary",disabled:""===h||O,onClick:function(){O?x(!0):(c({id:t,amount:h}),p())}},o("confirmBtn-".concat(t))))};const I=l().memo(A);var P=l().createElement,O=function(){var e=(0,h.Li)(),t=(0,h.YT)().setMessageInfo,r=(0,h.Fg)().isLight,n=(0,h._n)(),p=(0,b.IX)(),f=(0,o.Z)(p,2),w=f[0],k=f[1],C=(0,c.useSelector)((function(e){return e.market.netValue})),E=C.purchasePreMin,Z=C.leverageTokenName,T=void 0===Z?"":Z,A=(0,x.Z)(),O=A.getI18n,D=A.i18n.language,M=(0,_.JX)((e[w]||{free:"0"}).free,S.Az),L=(0,_.JX)((e[k]||{free:"0"}).free,S.Az),N=(0,s.useCallback)((function(e){var r=e.id,n=e.amount;(r===S.lL?m:g)(r===S.lL?{redeemAmount:+n,redeemAsset:T}:{purchaseAmount:+n,purchaseAsset:T}).then(function(){var e=(0,i.Z)(a().mark((function e(n){var i,o,s,l,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(i=n||{}).success,s=i.message,l=i.data,c=void 0===l?{}:l,o&&"FAIL"!==(null===c||void 0===c?void 0:c.purchaseStatus)?t({message:O("".concat(r,"-success")),variant:"success"}):t({message:s||O("".concat(r,"-fail"))});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){"undefined"!==typeof Sentry&&Sentry.captureException(e),t({message:e.message||O("".concat(r,"-fail"))})}))}),[O,T,t]),R=(0,s.useCallback)((function(e){n?v.ZP.show({isLight:r,sx:{height:"262px"},title:(S.lL,O("modaltitle-".concat(e),{base:w})),children:P(I,{id:e,base:w,purchasePreMin:E,quote:k,getI18n:O,baseBalance:M,quoteBalance:L,onConfirm:N,onClose:v.ZP.close})}):(0,y.G)(D)}),[w,k,r,L,M,E,n,D,O,N]),B=[{id:S.kD,i18n:"subscribe"},{id:S.lL,i18n:"redeem"}];return P(l().Fragment,null,P(u.Z,{sx:{justifyContent:"space-between"}},B.map((function(e){var t=e.id,r=e.i18n;return P(d.Z,{key:t,variant:"labelButton.default",sx:{flex:1,mr:"xs",py:"4px",px:"sm",width:"auto",minWidth:"80px",lineHeight:"16px",color:"t.primary",textDecoration:"none",":last-of-type":{mr:"0"}},onClick:function(){return R(t)}},O(r))}))))};const D=l().memo(O)},bXMB:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r("xIFI"),a=r.n(n),i=r("bCmj"),o=r("xDxD"),s=r("S2LQ"),l=a().createElement,c=function(){var e=(0,o.ZK)().getI18n,t=(0,o.tZ)();return(0,o.c0)()?null:l(i.Z,{href:"".concat(s.$g,"/").concat(t,"/margin-fee"),target:"__blank",className:"item",color:"t.primary",sx:{textDecoration:"none"}},e("trd-orderForm-marginData"))};const u=a().memo(c)},ifmk:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S,P:()=>w});var n=r("gLnL"),a=r("DtyY"),i=r("DC7k"),o=r("xIFI"),s=r.n(o),l=r("qN/k"),c=r("EibB"),u=r("I78S"),d=r("3TKe"),p=r("wHkB"),f=r("EnUn"),m=r("tmgI"),g=r("Ng/A"),h=r("bCmj"),v=s().createElement,_=Object.keys(m.q0),y=function(e){var t=e.getI18n;return v(g.Z,{sx:{maxWidth:"256px"}},_.map((function(e){return v(s().Fragment,{key:e},v(h.Z,{sx:{mb:"8px",fontSize:1,color:"primary",display:"inline-block",borderColor:"t.yellow300",borderBottom:"solid 1px"}},t("".concat(e,"mode-title"))),v(u.Z,{sx:{mb:"24px",fontSize:1,"&:last-child":{mb:"0"}}},t("".concat(e,"mode-tip"))))})))},x=s().createElement,b=Object.keys(m.q0),S=function(e){var t=e.mode,r=e.getI18n,s=e.dispatch,g=e.side,h=(0,f.Z)(["modeSwitch".concat(g,"Storage")],{}),v=(0,i.Z)(h,2),_=v[0],S=v[1];(0,o.useEffect)((function(){s({type:m.pp.SHADOW_CHANGE,payload:{mode:t||_["".concat(g,"Mode")]||m.q0.BORROW}})}),[]);var w=(0,o.useCallback)((function(e){s({type:m.pp.SHADOW_CHANGE,payload:{mode:e}}),S((0,a.Z)((0,a.Z)({},_),{},(0,n.Z)({},"".concat(g,"Mode"),e)))}),[S,s,g,_]);return x(l.Z,{sx:{mb:"8px",justifyContent:"space-between",alignItems:"self-start"}},x(c.QE,{name:"modes",value:t,onChange:w,sx:{display:"flex",justifyContent:"space-around"}},b.map((function(e){return x(c.ZP,{key:e,value:e,sx:{mr:"6px",lineHeight:"12px",fontSize:"0"," svg":{width:"12px",height:"12px"}," div":{marginLeft:"4px"},label:{cursor:"pointer"}},label:x(u.Z,{as:"span",color:t===e?"primary":"inherit",sx:{display:"inline-block",verticalAlign:"bottom"}},r("".concat(e,"mode")))})}))),x(p.Z,{arrow:!0,tip:x(y,{getI18n:r}),delay:1e3},x(d.Z,{color:"t.third",size:16,mt:"-2px",sx:{cursor:"pointer",":hover":{color:"t.yellow300"}}})))},w=function(e){var t=e.mode,r=e.getI18n,s=e.dispatch,g=e.sx,h=e.side,v=(0,f.Z)(["modeSwitch".concat(h,"Storage")],{}),_=(0,i.Z)(v,2),S=_[0],w=_[1];(0,o.useEffect)((function(){s({type:m.pp.SHADOW_CHANGE,payload:{mode:t||S["".concat(h,"Mode")]||m.q0.BORROW}})}),[]);var k=(0,o.useCallback)((function(e){s({type:m.pp.SHADOW_CHANGE,payload:{mode:e}}),w((0,a.Z)((0,a.Z)({},S),{},(0,n.Z)({},"".concat(h,"Mode"),e)))}),[w,s,h,S]);return x(l.Z,{color:"t.third",sx:(0,a.Z)({fontSize:"0",justifyContent:"space-between",mb:1,mt:1},g)},x(c.QE,{name:"modes",value:t,onChange:k,sx:{minWidth:"72%",display:"flex"}},b.map((function(e){return x(c.ZP,{key:e,value:e,sx:{mr:"6px",lineHeight:"12px",fontSize:"0"," svg":{width:"12px",height:"12px"}," div":{marginLeft:"4px"},label:{cursor:"pointer"}},label:x(u.Z,{as:"span",color:t===e?"primary":"inherit",sx:{display:"inline-block",verticalAlign:"bottom"}},r("".concat(e,"mode")))})}))),x(p.Z,{tip:x(y,{getI18n:r}),delay:1e3},x(d.Z,{color:"t.third",size:16,sx:{cursor:"pointer",":hover":{color:"t.yellow300"}}})))}},"U+DX":(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r("xIFI"),a=r.n(n),i=r("c83x"),o=r("MXyZ"),s=r("FU4r"),l=r("xDxD"),c=(r("6JaR"),r("VwJU")),u=r.n(c),d=r("gLnL"),p=r("DtyY"),f=r("HSMY"),m=r("Ng/A"),g=r("hcLW"),h=r("ZIGC"),v=a().createElement,_={height:"136px",width:"480px",padding:"24px"},y=function(e){var t=e.checked,r=e.onChecked,n=e.type,a=e.i18nKey,i=(0,l.ZK)().getI18n;return v(m.Z,{onClick:function(e){return e.stopPropagation()},sx:{display:"flex",justifyContent:"space-between",mt:"12px",color:"themeConfig.grey50"}},v("div",null,i(a)),v(g.Z,{size:16,checked:t,onChange:function(){return r(n,!t)},name:n}))},x=[{type:"limitOrder",i18nKey:"trd-layout-limitorder"},{type:"marketOrder",i18nKey:"trd-layout-marketorder"},{type:"stopLossOrder",i18nKey:"trd-layout-slorder"}],b=x.reduce((function(e,t){return e[t.type]=!1,e}),{}),S=function(e){var t=e.userInfo,r=e.handleSumbit,a=(0,l.ZK)().getI18n,i=(0,n.useState)(b),s=i[0],c=i[1],g=(0,l.YT)().setMessageInfo,S=(0,o.D)(function(){var e=(0,f.Z)(u().mark((function e(t,n){var a,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({key:t,value:n});case 2:a=e.sent,i=a.success,o=a.message,i?c((0,p.Z)((0,p.Z)({},s),{},(0,d.Z)({},t,n))):g({message:o,variant:"error"});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());return(0,n.useEffect)((function(){if((null===t||void 0===t?void 0:t.orderConfirmStatus)||(0,h.Kn)(t.orderConfirmStatus)){var e=t.orderConfirmStatus,r=e.limitOrder,n=e.marketOrder,a=e.stopLossOrder;c({limitOrder:r,marketOrder:n,stopLossOrder:a})}}),[t]),v("div",{style:_},v(m.Z,{sx:{color:"chat.replyName",minHeight:"40px"}},a("trd-layout-confirmtip")),v("div",null,x.map((function(e){var t=e.type,r=e.i18nKey;return v(y,{key:t,type:t,i18nKey:r,checked:s[t],onChecked:S})}))))};const w=a().memo(S);var k=a().createElement,C=function(){var e=(0,l.ZK)().getI18n,t=(0,i.useDispatch)(),r=(0,l.Fg)().isLight,n=((0,l._n)(),(0,l.Pc)());(0,o.D)((function(a){s.ZP.show({isLight:r,contentSx:{padding:0,maxWidth:"720px"},title:e("trd-orderForm-orderconfirm"),children:k(w,{userInfo:n,handleSumbit:t.userCenter.updateOrderConfirmStatus})})}));return null};const E=a().memo(C)},DyW9:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r("DC7k"),a=r("DtyY"),i=r("xIFI"),o=r.n(i),s=r("qN/k"),l=r("Ng/A"),c=r("ASW3"),u=r("3TKe"),d=r("e0c5"),p=r("wHkB"),f=r("tmgI"),m=r("u6EX"),g=r("L4Ep"),h=o().createElement,v=function(e){var t=e.locale,r=e.getI18n,o=e.orderType,v=e.onChange,_=e.tradeType,y=e.getFutI18n,x=void 0===y?function(){}:y,b=e.sx,S=void 0===b?{}:b,w=e.selfHost,k=_===f.xy.FUTURES,C=(0,i.useRef)(k?[[f.Jm.STOP_LIMIT,f.OO.STOP_LIMIT],[f.Jm.STOP_MARKET,f.OO.STOP_MARKET],[f.Jm.TRAILING_STOP_MARKET,f.OO.TRAILING_STOP_MARKET]]:[[f.Jm.STOPLIMIT],[f.Jm.OCO]]),E=(0,i.useState)(k?f.Jm.STOP_LIMIT:f.Jm.STOPLIMIT),Z=E[0],T=E[1],A=(0,i.useCallback)((function(e){T(e),v(e)}),[v]),I=(0,i.useCallback)((function(e){return k?{"data-testid":e}:{}}),[k]);return h(s.Z,{justifyContent:"space-between",sx:(0,a.Z)((0,a.Z)({},S),{},{fontSize:1,lineHeight:"12px",borderBottom:"1px solid",borderBottomColor:"lines.light"})},h(m.Gj,Object.assign({type:f.Jm.LIMIT,actived:o===f.Jm.LIMIT,handleClick:v,"data-testid":"LimitType"},I("limit")),r("LIMIT")),h(m.Gj,Object.assign({type:f.Jm.MARKET,actived:o===f.Jm.MARKET,handleClick:v,"data-testid":"MarketType"},I("market")),r("MARKET")),h(l.Z,null,h(p.Z,{arrow:!0,pos:"bottom-end",sx:{mr:1,cursor:"pointer"},delay:1e3,tip:h(m.Ch,{locale:t,getI18n:r,getFutI18n:x,tradeType:_,selfHost:w})},h(u.Z,{color:"t.third",size:14,verticalAlign:"middle",sx:{":hover":{color:"t.yellow300"}}})),h(m.Gj,{type:Z,actived:Boolean(C.current.find((function(e){return(0,n.Z)(e,1)[0]===o}))),"data-testid":"".concat(g._Y[Z]),handleClick:A},k?x(Z,{defaultValue:"Stop Limit"},"futures-trade"):r(Z)),h(c.ZP,{trigger:"hover",enablePortal:!0,sx:{px:"3px",cursor:"pointer"},overlay:(0,m.j3)(r,x,A,o,{subTypes:C.current,tradeType:_}),placement:"bottom-end"},h(l.Z,{"data-testid":"otherType"},h(d.Z,{color:"t.third",size:16,verticalAlign:"middle"})))))};const _=o().memo(v)},dFGf:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r("DtyY"),a=r("XP5A"),i=r("xIFI"),o=r.n(i),s=r("194l"),l=r("k2h9"),c=o().createElement,u=function(e){var t=e.children,r=(0,a.Z)(e,["children"]),o=(0,s.Z)(),u=o.getI18n,d=o.i18n.language,p=(0,i.useMemo)((function(){return(0,n.Z)((0,n.Z)({},r),{},{getI18n:u,locale:d})}),[d,r,u]);return c(l.UE.Provider,{value:p},t)};const d=o().memo(u)},"o/Hz":(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n=r("xIFI"),a=r.n(n),i=r("Ng/A"),o=r("I78S"),s=r("ASW3"),l=r("3TKe"),c=r("e0c5"),u=r("wHkB"),d=r("LVI2"),p=r("L4Ep"),f=r("gQYy"),m=r("k2h9"),g=a().createElement,h=[p.Xd,p.MF],v=function(e,t,r,n,a){return g(i.Z,{variant:"dropdown",sx:{display:"flex",flexDirection:"column"}},h.map((function(s){var c=s.name;return g(o.Z,{as:"span",key:c,className:"item",onClick:function(){return a(c)},color:e===c?"primary":"t.primary","data-testid":"".concat(r,"Market").concat(c)},t(c),"total"===c&&g(u.Z,{arrow:!0,trigger:"hover",pos:"top-start",onClick:n,sx:{cursor:"pointer",position:"initial !important"},delay:1e3,tip:g(i.Z,{sx:{maxWidth:"200px"}},t("BUY"===r?"marketTotalTip":"marketSellTotalTip"))},g(l.Z,{size:16,color:"t.third",verticalAlign:"middle",sx:{ml:"4px",":hover":{color:"t.yellow300"}}})))})))},_=function(e){var t=e.actived,r=e.onClick,n=e.getI18n,a=e.showModal,i=e.side;return g(s.ZP,{enablePortal:!0,trigger:"hover",sx:{cursor:"pointer",pr:"6px"},overlay:v(t,n,i,a,r)},n(t),g(c.Z,{color:"t.third",size:16,verticalAlign:"middle","data-testid":"".concat(i,"DownArrow")}),g(o.Z,{sx:{width:"1px",height:"16px",position:"absolute",top:"4px",right:0,bg:"amountBorderColor"}}))},y=function(e){var t=e.side,r=e.qtyTotalMode,i=e.modalRef,o=e.getHelperText,s=e.handleClick,l=(0,n.useContext)(m.UE),c=l.base,u=l.quote,p=l.ticker,v=l.getI18n,y=(0,n.useCallback)((function(){(0,d.tq)()&&i.current.create({showClose:!0,showFooter:!1,content:v("marketTotalTip")})}),[v,i]);return(0,n.useMemo)((function(){return g(a().Fragment,null,h.map((function(n){var a=n.name,i=n.isBase,l=n.withHelper,d=n.minKey,m=void 0===d?"tickSize":d,h=n.stepKey,x=void 0===h?"tickSize":h;return g(f.Z,{omitFor:!0,key:a,name:a,symbol:t,min:p[m],step:p[x],precision:p["".concat(x,"Precision")],after:i?c:u,value:e["".concat(a,"State")].value,invalid:e["".concat(a,"State")].invalid,errorText:e["".concat(a,"State")].errorMsg,helperText:l&&o(a,e["".concat(a,"State")].value)||"",before:g(_,{getI18n:v,onClick:s,actived:r,showModal:y,side:t}),boxSx:{display:a===r?"block":"none"},autoZero:!0})})))}),[c,o,v,s,e,r,u,y,t,p])};const x=a().memo(y)},XhDG:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r("XP5A"),a=r("DC7k"),i=r("S2LQ"),o=r("xDxD"),s=r("ZIGC"),l=r("I78S"),c=r("Ng/A"),u=r("DNXk"),d=r("wz6d"),p=r("xIFI"),f=r.n(p),m=r("Nmnx"),g=f().createElement;const h=function(e){var t=e.children,r=(0,n.Z)(e,["children"]);return g(l.Z,Object.assign({__css:{lineHeight:"16px",color:"primary",fontSize:0,cursor:"pointer",":hover":{color:"t.yellow300"}}},r),t)};var v=f().createElement;var _=function(e){var t=e.children;return v(l.Z,{as:"span",color:"t.third",__css:{paddingRight:"4px",textDecorationLine:"line-through"}},t)},y=function(e){var t=e.getI18n,r=e.locale,n=e.userInfo,u=e.bnbFree,p=e.burnBnbRate,g=(0,o.gm)(),y=(0,o.uT)(),x=(0,a.Z)(y,1)[0],b=(0,o.z4)(),S=(0,a.Z)(b,2)[1],w=n.tradeLevel,k=n.makerCommission,C=n.takerCommission,E=n.commissionStatus,Z=1===E,T=function(e,t,r){var n=r("notusebnb4fee",{defaultValue:"Not using BNB for fees"});return 0===e?n:n=+t>=1?r("usebnb4fee",{defaultValue:"Using BNB for fees"}):+t>0?r("bnbFundsLow",{defaultValue:"BNB funds low"}):r("nobnbAvailable",{defaultValue:"No BNB available"})}(E,u,t),A=(0,s.Bq)(C,4),I=(0,s.Bq)(p,0,!0),P="rtl"===g?"%".concat(I):"".concat(I,"%"),O=(0,s.Bq)((0,d.Jp)(C,1-+p).toFixed(8),4),D=(0,s.Bq)(k,4),M=(0,s.Bq)((0,d.Jp)(k,1-+p).toFixed(8),4);return v(c.Z,{variant:"dropdown",sx:{width:"312px",p:"sm",lineHeight:"16px",fontSize:"0"}},v(l.Z,{as:"a",pb:"sm",fontSize:"1",color:"primary",display:"inline-block",sx:{fontWeight:"500",textDecoration:"none",":hover":{color:"t.yellow300"}},target:"__blank",href:(0,s.CN)(i.x.FEE_URL,{locale:r})},t("yourlevel")," VIP ",w," >"),v(l.Z,{pb:"8px",color:"t.third"},Z?t("usebnb",{discount:P}):t("notusebnb")),v(l.Z,{pb:"8px",color:"t.third"},T,v(h,{ml:"4px",as:"a",target:"_blank",href:(0,s.FK)(r,m.xQ)},t("details")),v(h,{ml:"4px",as:"a",target:"_blank",href:(0,s.CN)(i.x.DASHBOARD_URL,{locale:r})},t("set"))),function(e,t,r){return e!==i.xy.ISOLATED?null:Array.isArray(t)?-1!==t.indexOf("BNB")?null:v(f().Fragment,null,v(l.Z,{pb:"8px"},r("nobnbBaseQuoteTitle")),v(l.Z,{pb:"sm",color:"t.third"},r("nobnbBaseQuoteDesc"))," "):null}(x,S,t),v(l.Z,{pt:"20px",sx:{borderTop:"1px solid",borderTopColor:"lines.minorBorder"}},t("taker"),":",v(l.Z,{as:"span",sx:{float:"right"}},Z?v(f().Fragment,null,v(_,null,A),O):A)),v(l.Z,{pt:"xs"},t("maker"),":",v(l.Z,{as:"span",sx:{float:"right"}},Z?v(f().Fragment,null,v(_,null,D),M):D)))},x=function(e){var t=e.tradeLevel,r=e.getI18n,a=e.locale,i=e.userInfo,o=e.burnBnbRate,s=e.bnbFree,l=(0,n.Z)(e,["tradeLevel","getI18n","locale","userInfo","burnBnbRate","bnbFree"]);return v(u.Z,Object.assign({mr:"8px",enablePortal:!0,trigger:"hover",display:"inline-block",verticalAlign:"bottom"},l,{overlay:v(y,{getI18n:r,locale:a,userInfo:i,bnbFree:s,burnBnbRate:o})}),v(h,null,"VIP ",t))};const b=f().memo(x)},k2h9:(e,t,r)=>{"use strict";r.d(t,{fz:()=>u,I6:()=>d,UE:()=>p});var n=r("DtyY"),a=r("XP5A"),i=r("gLnL"),o=r("xIFI"),s=r.n(o),l=r("LVI2"),c=r("tmgI"),u=function(){var e;return e={balance:"0",isFetching:!1,mode:void 0},(0,i.Z)(e,c.Jm.LIMIT,(0,l.QL)(c.Jm.LIMIT)),(0,i.Z)(e,c.Jm.MARKET,(0,l.QL)(c.Jm.MARKET)),(0,i.Z)(e,c.Jm.STOPLIMIT,(0,l.QL)(c.Jm.STOPLIMIT)),(0,i.Z)(e,c.Jm.OCO,(0,l.QL)(c.Jm.OCO)),e},d=function(e,t){var r=t.type,o=t.payload,s=o.orderType,l=(0,a.Z)(o,["orderType"]);switch(r){case c.pp.FIELD_CHANGE:return(0,n.Z)((0,n.Z)({},e),{},(0,i.Z)({},s,(0,n.Z)((0,n.Z)({},e[s]),l.field)));case c.pp.SHADOW_CHANGE:return(0,n.Z)((0,n.Z)({},e),l);case c.pp.RESET_QTY:return(0,n.Z)((0,n.Z)({},e),{},(0,i.Z)({},s,(0,n.Z)((0,n.Z)({},e[s]),{},{quantity:(0,n.Z)((0,n.Z)({},e[s].quantity),{},{invalid:!1})})));default:return e}},p=s().createContext({})},"7C25":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r("xIFI"),a=r.n(n),i=r("Ng/A"),o=r("qN/k"),s=r("ACmA"),l=r("IvGC"),c=r("mm1D"),u=r("tB/d"),d=a().createElement,p={display:"grid",width:"100%",height:"100%",gridGap:"4px",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"35px 35px",gridTemplateAreas:'"A B"\n                    "C D"'};const f=function(e){var t=e.type,r=e.children,n=(0,u.iq)({type:t}),a=n.list,f=n.subPrice,m=n.priceColor,g=n.showPrice,h=n.differencePrice,v=n.changeColor;return d(i.Z,{sx:{px:["sm","sm",0],pt:["12px",0],pb:["12px",0]}},d(o.Z,null,d(s.Ar,{sx:{mr:["xs","0"],flex:1,borderRight:"none",pr:["0","16px"],width:"50%"}},d(i.Z,{sx:{display:"flex",alignItems:"center",flex:1}},r),d(l.M,{subPrice:f,priceColor:m,showPrice:g,differencePrice:h,color:v})),d(s.Ar,{sx:{flex:1}},d(c.Z,{layout:p,data:a}))))}},xObm:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r("xIFI"),a=r.n(n),i=r("qN/k"),o=r("ACmA"),s=r("2Y18"),l=r("mm1D"),c=r("OXhx"),u=r("tB/d"),d=a().createElement;const p=function(e){var t=e.type,r=(0,u.L8)({type:t}),n=r.currentPrice,a=r.priceColor,p=r.subPrice,f=r.list;return d(i.Z,null,d(o.Ar,{sx:{flex:1,flexWrap:"wrap",display:"flex",justifyContent:"flex-start"}},d(s.Z,{currentPrice:n,priceColor:a,subPrice:p}),d("div",{style:{marginLeft:"17px",display:"flex",justifyItems:"center"}},d(l.Z,{data:f,layout:c.Dr}))))}},QRaA:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r("DtyY"),a=r("DC7k"),i=r("xIFI"),o=r.n(i),s=r("oOsE"),l=r("xDxD"),c=r("S2LQ"),u=r("8+a1"),d=r("xLQ1"),p=o().createElement,f=function(e){return p(d.GK,e)};const m=o().memo(f);var g=o().createElement,h=function(e){var t=e.onColumnClick,r=e.sx,i=void 0===r?{}:r,o=(0,l.z4)(),p=(0,a.Z)(o,2),f=p[0],h=p[1],v=(0,d.Rk)().getI18n,_=(0,l.mC)(),y=_.formatMi,x=_.formatTk,b=(0,a.Z)(h,2),S=b[0],w=b[1],k=[{text:"".concat(v("price",{defaultValue:"Price"}),"(").concat(w,")"),area:"left"},{text:"".concat(v("amount",{defaultValue:"Amount"}),"(").concat(S,")"),area:"right"},{text:v("time",{defaultValue:"Time"}),area:"right"}],C=(0,s.K)({symbol:f,stream:(0,c.Cu)(),isFutures:!1,isDelivery:!1}),E=C.trades,Z=C.loading;return g(u.Z,{sx:(0,n.Z)({px:"0",pb:"12px"},i)},g(d.ZP,{headers:k,trades:E,loading:Z,tradeItem:m,itemHeight:20,formatMi:y,formatTk:x,onItemClick:t}))};const v=o().memo(h)},"1EOl":(e,t,r)=>{"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"5X"===String(e).toUpperCase()}r.d(t,{Z:()=>n})}}]);